!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,
e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});
window.Modernizr=function(e,t,n){function r(e){b.cssText=e}function o(e,t){return r(S.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function c(e,t){for(var r in e){var o=e[r];if(!i(o,"-")&&b[o]!==n)return"pfx"==t?o:!0}return!1}function s(e,t,r){for(var o in e){var i=t[e[o]];if(i!==n)return r===!1?e[o]:a(i,"function")?i.bind(r||t):i}return!1}function u(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+k.join(r+" ")+r).split(" ");return a(t,"string")||a(t,"undefined")?c(o,t):(o=(e+" "+T.join(r+" ")+r).split(" "),s(o,t,n))}function l(){p.input=function(n){for(var r=0,o=n.length;o>r;r++)j[n[r]]=!!(n[r]in E);return j.list&&(j.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),j}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(e){for(var r,o,a,i=0,c=e.length;c>i;i++)E.setAttribute("type",o=e[i]),r="text"!==E.type,r&&(E.value=x,E.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&E.style.WebkitAppearance!==n?(g.appendChild(E),a=t.defaultView,r=a.getComputedStyle&&"textfield"!==a.getComputedStyle(E,null).WebkitAppearance&&0!==E.offsetHeight,g.removeChild(E)):/^(search|tel)$/.test(o)||(r=/^(url|email)$/.test(o)?E.checkValidity&&E.checkValidity()===!1:E.value!=x)),P[e[i]]=!!r;return P}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,m="2.8.3",p={},h=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,E=t.createElement("input"),x=":)",w={}.toString,S=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",k=C.split(" "),T=C.toLowerCase().split(" "),N={svg:"http://www.w3.org/2000/svg"},M={},P={},j={},$=[],D=$.slice,F=function(e,n,r,o){var a,i,c,s,u=t.createElement("div"),l=t.body,d=l||t.createElement("body");if(parseInt(r,10))for(;r--;)c=t.createElement("div"),c.id=o?o[r]:v+(r+1),u.appendChild(c);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),u.id=v,(l?u:d).innerHTML+=a,d.appendChild(u),l||(d.style.background="",d.style.overflow="hidden",s=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),i=n(u,e),l?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),g.style.overflow=s),!!i},z=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var r;return F("@media "+t+" { #"+v+" { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r},A=function(){function e(e,o){o=o||t.createElement(r[e]||"div"),e="on"+e;var i=e in o;return i||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(e,""),i=a(o[e],"function"),a(o[e],"undefined")||(o[e]=n),o.removeAttribute(e))),o=null,i}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),L={}.hasOwnProperty;f=a(L,"undefined")||a(L.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return L.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=D.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var a=new o,i=t.apply(a,n.concat(D.call(arguments)));return Object(i)===i?i:a}return t.apply(e,n.concat(D.call(arguments)))};return r}),M.flexbox=function(){return u("flexWrap")},M.flexboxlegacy=function(){return u("boxDirection")},M.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},M.canvastext=function(){return!(!p.canvas||!a(t.createElement("canvas").getContext("2d").fillText,"function"))},M.webgl=function(){return!!e.WebGLRenderingContext},M.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:F(["@media (",S.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},M.geolocation=function(){return"geolocation"in navigator},M.postmessage=function(){return!!e.postMessage},M.websqldatabase=function(){return!!e.openDatabase},M.indexedDB=function(){return!!u("indexedDB",e)},M.hashchange=function(){return A("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},M.history=function(){return!(!e.history||!history.pushState)},M.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},M.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},M.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),i(b.backgroundColor,"rgba")},M.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),i(b.backgroundColor,"rgba")||i(b.backgroundColor,"hsla")},M.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},M.backgroundsize=function(){return u("backgroundSize")},M.borderimage=function(){return u("borderImage")},M.borderradius=function(){return u("borderRadius")},M.boxshadow=function(){return u("boxShadow")},M.textshadow=function(){return""===t.createElement("div").style.textShadow},M.opacity=function(){return o("opacity:.55"),/^0.55$/.test(b.opacity)},M.cssanimations=function(){return u("animationName")},M.csscolumns=function(){return u("columnCount")},M.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+S.join(n+e)).slice(0,-e.length)),i(b.backgroundImage,"gradient")},M.cssreflections=function(){return u("boxReflect")},M.csstransforms=function(){return!!u("transform")},M.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in g.style&&F("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},M.csstransitions=function(){return u("transition")},M.fontface=function(){var e;return F('@font-face {font-family:"font";src:url("https://")}',function(n,r){var o=t.getElementById("smodernizr"),a=o.sheet||o.styleSheet,i=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";e=/src/i.test(i)&&0===i.indexOf(r.split(" ")[0])}),e},M.generatedcontent=function(){var e;return F(["#",v,"{font:0/0 a}#",v,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},M.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},M.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},M.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},M.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},M.webworkers=function(){return!!e.Worker},M.applicationcache=function(){return!!e.applicationCache},M.svg=function(){return!!t.createElementNS&&!!t.createElementNS(N.svg,"svg").createSVGRect},M.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==N.svg},M.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(N.svg,"animate")))},M.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(N.svg,"clipPath")))};for(var H in M)f(M,H)&&(d=H.toLowerCase(),p[d]=M[H](),$.push((p[d]?"":"no-")+d));return p.input||l(),p.addTest=function(e,t){if("object"==typeof e)for(var r in e)f(e,r)&&p.addTest(r,e[r]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,"undefined"!=typeof h&&h&&(g.className+=" "+(t?"":"no-")+e),p[e]=t}return p},r(""),y=E=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=v[e[h]];return t||(t={},g++,e[h]=g,v[g]=t),t}function a(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=o(n));var a;return a=r.cache[e]?r.cache[e].cloneNode():p.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!a.canHaveChildren||m.test(e)||a.tagUrn?a:r.frag.appendChild(a)}function i(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||o(e);for(var a=n.frag.cloneNode(),i=0,c=r(),s=c.length;s>i;i++)a.createElement(c[i]);return a}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function s(e){e||(e=t);var r=o(e);return!y.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||c(e,r),e}var u,l,d="3.7.0",f=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",g=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,l=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:f.shivCSS!==!1,supportsUnknownElements:l,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:s,createElement:a,createDocumentFragment:i};e.html5=y,s(t)}(this,t),p._version=m,p._prefixes=S,p._domPrefixes=T,p._cssomPrefixes=k,p.mq=z,p.hasEvent=A,p.testProp=function(e){return c([e])},p.testAllProps=u,p.testStyles=F,p.prefixed=function(e,t,n){return t?u(e,t,n):u(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+$.join(" "):""),p}(this,this.document);
(function(){var $,AbstractChosen,Chosen,SelectParser,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};SelectParser=function(){function SelectParser(){this.options_index=0;this.parsed=[]}SelectParser.prototype.add_node=function(child){if(child.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(child)}else{return this.add_option(child)}};SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref,_results;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:this.escapeExpression(group.label),children:0,disabled:group.disabled});_ref=group.childNodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];_results.push(this.add_option(option,group_position,group.disabled))}return _results};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null){this.parsed[group_position].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,classes:option.className,style:option.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};SelectParser.prototype.escapeExpression=function(text){var map,unsafe_chars;if(text==null||text===false){return""}if(!/[\&\<\>\"\'\`]/.test(text)){return text}map={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};unsafe_chars=/&(?!\w+;)|[\<\>\"\'\`]/g;return text.replace(unsafe_chars,function(chr){return map[chr]||"&amp;"})};return SelectParser}();SelectParser.select_to_array=function(select){var child,parser,_i,_len,_ref;parser=new SelectParser;_ref=select.childNodes;for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];parser.add_node(child)}return parser.parsed};AbstractChosen=function(){function AbstractChosen(form_field,options){this.form_field=form_field;this.options=options!=null?options:{};if(!AbstractChosen.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers()}AbstractChosen.prototype.set_default_values=function(){var _this=this;this.click_test_action=function(evt){return _this.test_active_click(evt)};this.activate_action=function(evt){return _this.activate_field(evt)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;return this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false};AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return _this.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}};AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return _this.blur_test()},100)}};AbstractChosen.prototype.results_option_build=function(options){var content,data,_i,_len,_ref;content="";_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){data=_ref[_i];if(data.group){content+=this.result_add_group(data)}else{content+=this.result_add_option(data)}if(options!=null?options.first:void 0){if(data.selected&&this.is_multiple){this.choice_build(data)}else if(data.selected&&!this.is_multiple){this.single_set_selected_text(data.text)}}}return content};AbstractChosen.prototype.result_add_option=function(option){var classes,option_el;if(!option.search_match){return""}if(!this.include_option_in_results(option)){return""}classes=[];if(!option.disabled&&!(option.selected&&this.is_multiple)){classes.push("active-result")}if(option.disabled&&!(option.selected&&this.is_multiple)){classes.push("disabled-result")}if(option.selected){classes.push("result-selected")}if(option.group_array_index!=null){classes.push("group-option")}if(option.classes!==""){classes.push(option.classes)}option_el=document.createElement("li");option_el.className=classes.join(" ");option_el.style.cssText=option.style;option_el.setAttribute("data-option-array-index",option.array_index);option_el.innerHTML=option.search_text;return this.outerHTML(option_el)};AbstractChosen.prototype.result_add_group=function(group){var group_el;if(!(group.search_match||group.group_match)){return""}if(!(group.active_options>0)){return""}group_el=document.createElement("li");group_el.className="group-result";group_el.innerHTML=group.search_text;return this.outerHTML(group_el)};AbstractChosen.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.results_build();if(this.results_showing){return this.winnow_results()}};AbstractChosen.prototype.reset_single_select_options=function(){var result,_i,_len,_ref,_results;_ref=this.results_data;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){result=_ref[_i];if(result.selected){_results.push(result.selected=false)}else{_results.push(void 0)}}return _results};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};AbstractChosen.prototype.winnow_results=function(){var escapedSearchText,option,regex,results,results_group,searchText,startpos,text,zregex,_i,_len,_ref;this.no_results_clear();results=0;searchText=this.get_search_text();escapedSearchText=searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");zregex=new RegExp(escapedSearchText,"i");regex=this.get_search_regex(escapedSearchText);_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];option.search_match=false;results_group=null;if(this.include_option_in_results(option)){if(option.group){option.group_match=false;option.active_options=0}if(option.group_array_index!=null&&this.results_data[option.group_array_index]){results_group=this.results_data[option.group_array_index];if(results_group.active_options===0&&results_group.search_match){results+=1}results_group.active_options+=1}if(!(option.group&&!this.group_search)){option.search_text=option.group?option.label:option.text;option.search_match=this.search_string_match(option.search_text,regex);if(option.search_match&&!option.group){results+=1}if(option.search_match){if(searchText.length){startpos=option.search_text.search(zregex);text=option.search_text.substr(0,startpos+searchText.length)+"</em>"+option.search_text.substr(startpos+searchText.length);option.search_text=text.substr(0,startpos)+"<em>"+text.substr(startpos)}if(results_group!=null){results_group.group_match=true}}else if(option.group_array_index!=null&&this.results_data[option.group_array_index].search_match){option.search_match=true}}}}this.result_clear_highlight();if(results<1&&searchText.length){this.update_results_content("");return this.no_results(searchText)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};AbstractChosen.prototype.get_search_regex=function(escaped_search_string){var regex_anchor;regex_anchor=this.search_contains?"":"^";return new RegExp(regex_anchor+escaped_search_string,"i")};AbstractChosen.prototype.search_string_match=function(search_string,regex){var part,parts,_i,_len;if(regex.test(search_string)){return true}else if(this.enable_split_word_search&&(search_string.indexOf(" ")>=0||search_string.indexOf("[")===0)){parts=search_string.replace(/\[|\]/g,"").split(" ");if(parts.length){for(_i=0,_len=parts.length;_i<_len;_i++){part=parts[_i];if(regex.test(part)){return true}}}}};AbstractChosen.prototype.choices_count=function(){var option,_i,_len,_ref;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;_ref=this.form_field.options;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];if(option.selected){this.selected_option_count+=1}}return this.selected_option_count};AbstractChosen.prototype.choices_click=function(evt){evt.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:evt.preventDefault();if(this.results_showing){return this.result_select(evt)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};AbstractChosen.prototype.clipboard_event_checker=function(evt){var _this=this;return setTimeout(function(){return _this.results_search()},50)};AbstractChosen.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};AbstractChosen.prototype.include_option_in_results=function(option){if(this.is_multiple&&(!this.display_selected_options&&option.selected)){return false}if(!this.display_disabled_options&&option.disabled){return false}if(option.empty){return false}return true};AbstractChosen.prototype.search_results_touchstart=function(evt){this.touch_started=true;return this.search_results_mouseover(evt)};AbstractChosen.prototype.search_results_touchmove=function(evt){this.touch_started=false;return this.search_results_mouseout(evt)};AbstractChosen.prototype.search_results_touchend=function(evt){if(this.touch_started){return this.search_results_mouseup(evt)}};AbstractChosen.prototype.outerHTML=function(element){var tmp;if(element.outerHTML){return element.outerHTML}tmp=document.createElement("div");tmp.appendChild(element);return tmp.innerHTML};AbstractChosen.browser_is_supported=function(){if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8}if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false}}return true};AbstractChosen.default_multiple_text="Select Some Options";AbstractChosen.default_single_text="Select an Option";AbstractChosen.default_no_result_text="No results match";return AbstractChosen}();$=jQuery;$.fn.extend({chosen:function(options){if(!AbstractChosen.browser_is_supported()){return this}return this.each(function(input_field){var $this,chosen;$this=$(this);chosen=$this.data("chosen");if(options==="destroy"&&chosen instanceof Chosen){chosen.destroy()}else if(!(chosen instanceof Chosen)){$this.data("chosen",new Chosen(this,options))}})}});Chosen=function(_super){__extends(Chosen,_super);function Chosen(){_ref=Chosen.__super__.constructor.apply(this,arguments);return _ref}Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};Chosen.prototype.set_up_html=function(){var container_classes,container_props;container_classes=["chosen-container"];container_classes.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){container_classes.push(this.form_field.className)}if(this.is_rtl){container_classes.push("chosen-rtl")}container_props={class:container_classes.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};if(this.form_field.id.length){container_props.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"}this.container=$("<div />",container_props);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>')}else{this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};Chosen.prototype.register_observers=function(){var _this=this;this.container.bind("touchstart.chosen",function(evt){_this.container_mousedown(evt)});this.container.bind("touchend.chosen",function(evt){_this.container_mouseup(evt)});this.container.bind("mousedown.chosen",function(evt){_this.container_mousedown(evt)});this.container.bind("mouseup.chosen",function(evt){_this.container_mouseup(evt)});this.container.bind("mouseenter.chosen",function(evt){_this.mouse_enter(evt)});this.container.bind("mouseleave.chosen",function(evt){_this.mouse_leave(evt)});this.search_results.bind("mouseup.chosen",function(evt){_this.search_results_mouseup(evt)});this.search_results.bind("mouseover.chosen",function(evt){_this.search_results_mouseover(evt)});this.search_results.bind("mouseout.chosen",function(evt){_this.search_results_mouseout(evt)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(evt){_this.search_results_mousewheel(evt)});this.search_results.bind("touchstart.chosen",function(evt){_this.search_results_touchstart(evt)});this.search_results.bind("touchmove.chosen",function(evt){_this.search_results_touchmove(evt)});this.search_results.bind("touchend.chosen",function(evt){_this.search_results_touchend(evt)});this.form_field_jq.bind("chosen:updated.chosen",function(evt){_this.results_update_field(evt)});this.form_field_jq.bind("chosen:activate.chosen",function(evt){_this.activate_field(evt)});this.form_field_jq.bind("chosen:open.chosen",function(evt){_this.container_mousedown(evt)});this.form_field_jq.bind("chosen:close.chosen",function(evt){_this.input_blur(evt)});this.search_field.bind("blur.chosen",function(evt){_this.input_blur(evt)});this.search_field.bind("keyup.chosen",function(evt){_this.keyup_checker(evt)});this.search_field.bind("keydown.chosen",function(evt){_this.keydown_checker(evt)});this.search_field.bind("focus.chosen",function(evt){_this.input_focus(evt)});this.search_field.bind("cut.chosen",function(evt){_this.clipboard_event_checker(evt)});this.search_field.bind("paste.chosen",function(evt){_this.clipboard_event_checker(evt)});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(evt){_this.choices_click(evt)})}else{return this.container.bind("click.chosen",function(evt){evt.preventDefault()})}};Chosen.prototype.destroy=function(){$(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action)}return this.close_field()}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action)}}};Chosen.prototype.container_mousedown=function(evt){if(!this.is_disabled){if(evt&&evt.type==="mousedown"&&!this.results_showing){evt.preventDefault()}if(!(evt!=null&&$(evt.target).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}$(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action);this.results_show()}else if(!this.is_multiple&&evt&&($(evt.target)[0]===this.selected_item[0]||$(evt.target).parents("a.chosen-single").length)){evt.preventDefault();this.results_toggle()}return this.activate_field()}}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(evt)}};Chosen.prototype.search_results_mousewheel=function(evt){var delta;if(evt.originalEvent){delta=evt.originalEvent.deltaY||-evt.originalEvent.wheelDelta||evt.originalEvent.detail}if(delta!=null){evt.preventDefault();if(evt.type==="DOMMouseScroll"){delta=delta*40}return this.search_results.scrollTop(delta+this.search_results.scrollTop())}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field()}};Chosen.prototype.close_field=function(){$(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};Chosen.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};Chosen.prototype.test_active_click=function(evt){var active_container;active_container=$(evt.target).closest(".chosen-container");if(active_container.length&&this.container[0]===active_container[0]){return this.active_field=true}else{return this.close_field()}};Chosen.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=SelectParser.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom){return this.search_results.scrollTop(high_bottom-maxHeight>0?high_bottom-maxHeight:0)}else if(high_top<visible_top){return this.search_results.scrollTop(high_top)}}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};Chosen.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}this.container.addClass("chosen-with-drop");this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};Chosen.prototype.update_results_content=function(content){return this.search_results.html(content)};Chosen.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field.tabIndex){ti=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=ti}};Chosen.prototype.set_label_behavior=function(){var _this=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=$("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(evt){if(_this.is_multiple){return _this.container_mousedown(evt)}else{return _this.activate_field()}})}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus()}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target){return this.result_do_highlight(target)}};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"||$(evt.target).parents(".active-result").first())){return this.result_clear_highlight()}};Chosen.prototype.choice_build=function(item){var choice,close_link,_this=this;choice=$("<li />",{class:"search-choice"}).html("<span>"+item.html+"</span>");if(item.disabled){choice.addClass("search-choice-disabled")}else{close_link=$("<a />",{class:"search-choice-close","data-option-array-index":item.array_index});close_link.bind("click.chosen",function(evt){return _this.choice_destroy_link_click(evt)});choice.append(close_link)}return this.search_container.before(choice)};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled){return this.choice_destroy($(evt.target))}};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}link.parents("li").first().remove();return this.search_field_scale()}};Chosen.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=true;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};Chosen.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};Chosen.prototype.result_select=function(evt){var high,item;if(this.result_highlight){high=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple){high.removeClass("active-result")}else{this.reset_single_select_options()}item=this.results_data[high[0].getAttribute("data-option-array-index")];item.selected=true;this.form_field.options[item.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(item)}else{this.single_set_selected_text(item.text)}if(!((evt.metaKey||evt.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[item.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};Chosen.prototype.single_set_selected_text=function(text){if(text==null){text=this.default_text}if(text===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").text(text)};Chosen.prototype.result_deselect=function(pos){var result_data;result_data=this.results_data[pos];if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true}else{return false}};Chosen.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chosen-single-with-deselect")};Chosen.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return $("<div/>").text($.trim(this.search_field.val())).html()}};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null){return this.result_do_highlight(do_high)}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');no_results_html.find("span").first().html(terms);this.search_results.append(no_results_html);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};Chosen.prototype.keydown_arrow=function(){var next_sib;if(this.results_showing&&this.result_highlight){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib){return this.result_do_highlight(next_sib)}}else{return this.results_show()}};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length){return this.result_do_highlight(prev_sibs.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};Chosen.prototype.keydown_checker=function(evt){var stroke,_ref1;stroke=(_ref1=evt.which)!=null?_ref1:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke){this.clear_backstroke()}switch(stroke){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(evt)}this.mouse_on_container=false;break;case 13:if(this.results_showing){evt.preventDefault()}break;case 32:if(this.disable_search){evt.preventDefault()}break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:evt.preventDefault();this.keydown_arrow();break}};Chosen.prototype.search_field_scale=function(){var div,f_width,h,style,style_block,styles,w,_i,_len;if(this.is_multiple){h=0;w=0;style_block="position:absolute; left: -1000px; top: -1000px; display:none;";styles=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(_i=0,_len=styles.length;_i<_len;_i++){style=styles[_i];style_block+=style+":"+this.search_field.css(style)+";"}div=$("<div />",{style:style_block});div.text(this.search_field.val());$("body").append(div);w=div.width()+25;div.remove();f_width=this.container.outerWidth();if(w>f_width-10){w=f_width-10}return this.search_field.css({width:w+"px"})}};return Chosen}(AbstractChosen)}).call(this);
(function(factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{var _OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=_OldCookies;return api}}})(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){var result;if(typeof document==="undefined"){return}if(arguments.length>1){attributes=extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e5);attributes.expires=expires}try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);return document.cookie=[key,"=",value,attributes.expires&&"; expires="+attributes.expires.toUTCString(),attributes.path&&"; path="+attributes.path,attributes.domain&&"; domain="+attributes.domain,attributes.secure?"; secure":""].join("")}if(!key){result={}}var cookies=document.cookie?document.cookie.split("; "):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split("=");var name=parts[0].replace(rdecode,decodeURIComponent);var cookie=parts.slice(1).join("=");if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.get=api.set=api;api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})});
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.svg4everybody=b()}):"object"==typeof exports?module.exports=b():a.svg4everybody=b()}(this,function(){function a(a,b){if(b){var c=!a.getAttribute("viewBox")&&b.getAttribute("viewBox"),d=document.createDocumentFragment(),e=b.cloneNode(!0);for(c&&a.setAttribute("viewBox",c);e.childNodes.length;)d.appendChild(e.firstChild);a.appendChild(d)}}function b(b){b.onreadystatechange=function(){if(4===b.readyState){var c=document.createElement("x");c.innerHTML=b.responseText,b.s.splice(0).map(function(b){a(b[0],c.querySelector("#"+b[1].replace(/(\W)/g,"\\$1")))})}},b.onreadystatechange()}function c(c){function d(){for(var c;c=e[0];){var j=c.parentNode;if(j&&/svg/i.test(j.nodeName)){var k=c.getAttribute("xlink:href");if(f&&(!g||g(k,j,c))){var l=k.split("#"),m=l[0],n=l[1];if(j.removeChild(c),m.length){var o=i[m]=i[m]||new XMLHttpRequest;o.s||(o.s=[],o.open("GET",m),o.send()),o.s.push([j,n]),b(o)}else a(j,document.getElementById(n))}}}h(d,17)}c=c||{};var e=document.getElementsByTagName("use"),f="shim"in c?c.shim:/\bEdge\/12\b|\bTrident\/[567]\b|\bVersion\/7.0 Safari\b/.test(navigator.userAgent)||(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]<537,g=c.validate,h=window.requestAnimationFrame||setTimeout,i={};f&&d()}return c});
(function($,window,document,undefined){var lazyLoadXT="lazyLoadXT",dataLazied="lazied",load_error="load error",classLazyHidden="lazy-hidden",docElement=document.documentElement||document.body,forceLoad=window.onscroll===undefined||!!window.operamini||!docElement.getBoundingClientRect,options={autoInit:true,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:forceLoad,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:classLazyHidden},onload:{removeClass:classLazyHidden,addClass:"lazy-loaded"},onerror:{removeClass:classLazyHidden},checkDuplicates:true},elementOptions={srcAttr:"data-src",edgeX:0,edgeY:-100,visibleOnly:true},$window=$(window),$isFunction=$.isFunction,$extend=$.extend,$data=$.data||function(el,name){return $(el).data(name)},$contains=$.contains||function(parent,el){while(el=el.parentNode){if(el===parent){return true}}return false},elements=[],topLazy=0,waitingMode=0;$[lazyLoadXT]=$extend(options,elementOptions,$[lazyLoadXT]);function getOrDef(obj,prop){return obj[prop]===undefined?options[prop]:obj[prop]}function scrollTop(){var scroll=window.pageYOffset;return scroll===undefined?docElement.scrollTop:scroll}$.fn[lazyLoadXT]=function(overrides){overrides=overrides||{};var blankImage=getOrDef(overrides,"blankImage"),checkDuplicates=getOrDef(overrides,"checkDuplicates"),scrollContainer=getOrDef(overrides,"scrollContainer"),elementOptionsOverrides={},prop;$(scrollContainer).on("scroll",queueCheckLazyElements);for(prop in elementOptions){elementOptionsOverrides[prop]=getOrDef(overrides,prop)}return this.each(function(index,el){if(el===window){$(options.selector).lazyLoadXT(overrides)}else{if(checkDuplicates&&$data(el,dataLazied)){return}var $el=$(el).data(dataLazied,1);if(blankImage&&el.tagName==="IMG"&&!el.src){el.src=blankImage}$el[lazyLoadXT]=$extend({},elementOptionsOverrides);triggerEvent("init",$el);elements.push($el)}})};function triggerEvent(event,$el){var handler=options["on"+event];if(handler){if($isFunction(handler)){handler.call($el[0])}else{if(handler.addClass){$el.addClass(handler.addClass)}if(handler.removeClass){$el.removeClass(handler.removeClass)}}}$el.trigger("lazy"+event,[$el]);queueCheckLazyElements()}function triggerLoadOrError(e){triggerEvent(e.type,$(this).off(load_error,triggerLoadOrError))}function checkLazyElements(force){if(!elements.length){return}force=force||options.forceLoad;topLazy=Infinity;var viewportTop=scrollTop(),viewportHeight=window.innerHeight||docElement.clientHeight,viewportWidth=window.innerWidth||docElement.clientWidth,i,length;for(i=0,length=elements.length;i<length;i++){var $el=elements[i],el=$el[0],objData=$el[lazyLoadXT],removeNode=false,visible=force,topEdge;if(!$contains(docElement,el)){removeNode=true}else if(force||!objData.visibleOnly||el.offsetWidth||el.offsetHeight){if(!visible){var elPos=el.getBoundingClientRect(),edgeX=objData.edgeX,edgeY=objData.edgeY;topEdge=elPos.top+viewportTop-edgeY-viewportHeight;visible=topEdge<=viewportTop&&elPos.bottom>-edgeY&&elPos.left<=viewportWidth+edgeX&&elPos.right>-edgeX}if(visible){triggerEvent("show",$el);var srcAttr=objData.srcAttr,src=$isFunction(srcAttr)?srcAttr($el):el.getAttribute(srcAttr);if(src){$el.on(load_error,triggerLoadOrError);el.src=src}removeNode=true}else{if(topEdge<topLazy){topLazy=topEdge}}}if(removeNode){elements.splice(i--,1);length--}}if(!length){triggerEvent("complete",$(docElement))}}function timeoutLazyElements(){if(waitingMode>1){waitingMode=1;checkLazyElements();setTimeout(timeoutLazyElements,options.throttle)}else{waitingMode=0}}function queueCheckLazyElements(e){if(!elements.length){return}if(e&&e.type==="scroll"&&e.currentTarget===window){if(topLazy>=scrollTop()){return}}if(!waitingMode){setTimeout(timeoutLazyElements,0)}waitingMode=2}function initLazyElements(){$window.lazyLoadXT()}function forceLoadAll(){checkLazyElements(true)}$(document).ready(function(){triggerEvent("start",$window);$window.on(options.loadEvent,initLazyElements).on(options.updateEvent,queueCheckLazyElements).on(options.forceEvent,forceLoadAll);$(document).on(options.updateEvent,queueCheckLazyElements);if(options.autoInit){initLazyElements()}})})(window.jQuery||window.Zepto||window.$,window,document);
(function(r,G,f,v){var J=f("html"),n=f(r),p=f(G),b=f.fancybox=function(){b.open.apply(this,arguments)},I=navigator.userAgent.match(/msie/i),B=null,s=G.createTouch!==v,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},E=function(a){return q(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&E(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},w=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(I?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,c.metadata())):k=c);g=d.href||k.href||(q(c)?c:null);h=d.title!==v?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));q(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":q(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==v&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==v&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(B),B=null);b.isOpen&&!B&&(B=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),B=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:.5*d.h+d.y,left:.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:n.scrollLeft(),y:n.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&r.innerWidth?r.innerWidth:n.width(),d.h=s&&r.innerHeight?r.innerHeight:n.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==v)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)});p.trigger(a)}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,w(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case"inline":case"ajax":case"html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace("{href}",g);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,p=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,x=h.margin,y=l(x[1]+x[3]),r=l(x[0]+x[2]),v,z,t,C,A,F,B,D,H;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");x=l(k.outerWidth(!0)-k.width());v=l(k.outerHeight(!0)-k.height());z=y+x;t=r+v;C=E(c)?(a.w-z)*l(c)/100:c;A=E(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(H=h.content,h.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(g.width(C).height(9999),F=H.contents().find("body"),q&&F.css("overflow-x","hidden"),A=F.outerHeight(!0))}catch(G){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(C),h.autoHeight||g.height(A),h.autoWidth&&(C=g.width()),h.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");c=l(C);j=l(A);D=C/A;m=l(E(m)?l(m,"w")-z:m);n=l(E(n)?l(n,"w")-z:n);u=l(E(u)?l(u,"h")-t:u);p=l(E(p)?l(p,"h")-t:p);F=n;B=p;h.fitToView&&(n=Math.min(a.w-z,n),p=Math.min(a.h-t,p));z=a.w-y;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/D)),j>p&&(j=p,c=l(j*D)),c<m&&(c=m,j=l(c/D)),j<u&&(j=u,c=l(j*D))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,p)));if(h.fitToView)if(g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height(),h.aspectRatio)for(;(a>z||y>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(p,j-10)),c=l(j*D),c<m&&(c=m,j=l(c/D)),c>n&&(c=n,j=l(c/D)),g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height();else c=Math.max(m,Math.min(c,c-(a-z))),j=Math.max(u,Math.min(j,j-(y-r)));q&&("auto"===s&&j<A&&c+x+q<z)&&(c+=q);g.width(c).height(j);e.width(c+x);a=e.width();y=e.height();e=(a>z||y>r)&&c>m&&j>u;c=h.aspectRatio?c<F&&j<B&&c<C&&j<A:(c<F||j<B)&&(c<C||j<A);f.extend(h,{dim:{width:w(a),height:w(y)},origWidth:C,origHeight:A,canShrink:e,canExpand:c,wPadding:x,hPadding:v,wrapSpace:y-k.outerHeight(!0),skinSpace:k.height()-j});!H&&(h.autoHeight&&j>u&&j<p&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=w(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=w(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c={top:w(c.top-h*a.topRatio),left:w(c.left-j*a.leftRatio),width:w(f+j),height:w(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=.1)):"fade"===e&&(d.opacity=.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=w(l(e[g])-200),c[g]="+=200px"):(e[g]=w(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(b.coming?b.coming.parent:a.parent);this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(n.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){var a,b;n.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),a=n.scrollTop(),b=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(a).scrollLeft(b));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");I?(b=Math.max(G.documentElement.offsetWidth,G.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>n.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(e||(this.margin=p.height()>n.height()?f("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var e,c;b.locked&&(!1!==this.margin&&(f("*").filter(function(){return"fixed"===f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),e=n.scrollTop(),c=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(e).scrollLeft(c));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(q(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case"inside":c=b.skin;break;case"outside":c=b.wrap;break;case"over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),I&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===v&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===v){a=f.support;d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body");var e=20===d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(r).width();J.addClass("fancybox-lock-test");d=f(r).width();J.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);
(function(){var root=this;var previousUnderscore=root._;var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create;var Ctor=function(){};var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root._=_}_.VERSION="1.8.3";var optimizeCb=function(func,context,argCount){if(context===void 0)return func;switch(argCount==null?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}};var cb=function(value,context,argCount){if(value==null)return _.identity;if(_.isFunction(value))return optimizeCb(value,context,argCount);if(_.isObject(value))return _.matcher(value);return _.property(value)};_.iteratee=function(value,context){return cb(value,context,Infinity)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(length<2||obj==null)return obj;for(var index=1;index<length;index++){var source=arguments[index],keys=keysFunc(source),l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(!undefinedOnly||obj[key]===void 0)obj[key]=source[key]}}return obj}};var baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;Ctor.prototype=null;return result};var property=function(key){return function(obj){return obj==null?void 0:obj[key]}};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;var getLength=property("length");var isArrayLike=function(collection){var length=getLength(collection);return typeof length=="number"&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj)){for(i=0,length=obj.length;i<length;i++){iteratee(obj[i],i,obj)}}else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++){iteratee(obj[keys[i]],keys[i],obj)}}return obj};_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length);for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results};function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;if(arguments.length<3){memo=obj[keys?keys[index]:index];index+=dir}return iterator(obj,iteratee,memo,keys,index,length)}}_.reduce=_.foldl=_.inject=createReduce(1);_.reduceRight=_.foldr=createReduce(-1);_.find=_.detect=function(obj,predicate,context){var key;if(isArrayLike(obj)){key=_.findIndex(obj,predicate,context)}else{key=_.findKey(obj,predicate,context)}if(key!==void 0&&key!==-1)return obj[key]};_.filter=_.select=function(obj,predicate,context){var results=[];predicate=cb(predicate,context);_.each(obj,function(value,index,list){if(predicate(value,index,list))results.push(value)});return results};_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)};_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return false}return true};_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return true}return false};_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){if(!isArrayLike(obj))obj=_.values(obj);if(typeof fromIndex!="number"||guard)fromIndex=0;return _.indexOf(obj,item,fromIndex)>=0};_.invoke=function(obj,method){var args=slice.call(arguments,2);var isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return func==null?func:func.apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,_.property(key))};_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))};_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))};_.max=function(obj,iteratee,context){var result=-Infinity,lastComputed=-Infinity,value,computed;if(iteratee==null&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value>result){result=value}}}else{iteratee=cb(iteratee,context);_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed>lastComputed||computed===-Infinity&&result===-Infinity){result=value;lastComputed=computed}})}return result};_.min=function(obj,iteratee,context){var result=Infinity,lastComputed=Infinity,value,computed;if(iteratee==null&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value<result){result=value}}}else{iteratee=cb(iteratee,context);_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed<lastComputed||computed===Infinity&&result===Infinity){result=value;lastComputed=computed}})}return result};_.shuffle=function(obj){var set=isArrayLike(obj)?obj:_.values(obj);var length=set.length;var shuffled=Array(length);for(var index=0,rand;index<length;index++){rand=_.random(0,index);if(rand!==index)shuffled[index]=shuffled[rand];shuffled[rand]=set[index]}return shuffled};_.sample=function(obj,n,guard){if(n==null||guard){if(!isArrayLike(obj))obj=_.values(obj);return obj[_.random(obj.length-1)]}return _.shuffle(obj).slice(0,Math.max(0,n))};_.sortBy=function(obj,iteratee,context){iteratee=cb(iteratee,context);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};iteratee=cb(iteratee,context);_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)});return result}};_.groupBy=group(function(result,value,key){if(_.has(result,key))result[key].push(value);else result[key]=[value]});_.indexBy=group(function(result,value,key){result[key]=value});_.countBy=group(function(result,value,key){if(_.has(result,key))result[key]++;else result[key]=1});_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(isArrayLike(obj))return _.map(obj,_.identity);return _.values(obj)};_.size=function(obj){if(obj==null)return 0;return isArrayLike(obj)?obj.length:_.keys(obj).length};_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];_.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)});return[pass,fail]};_.first=_.head=_.take=function(array,n,guard){if(array==null)return void 0;if(n==null||guard)return array[0];return _.initial(array,array.length-n)};_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(n==null||guard?1:n)))};_.last=function(array,n,guard){if(array==null)return void 0;if(n==null||guard)return array[array.length-1];return _.rest(array,Math.max(0,array.length-n))};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){var output=[],idx=0;for(var i=startIndex||0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){if(!shallow)value=flatten(value,shallow,strict);var j=0,len=value.length;output.length+=len;while(j<len){output[idx++]=value[j++]}}else if(!strict){output[idx++]=value}}return output};_.flatten=function(array,shallow){return flatten(array,shallow,false)};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iteratee,context){if(!_.isBoolean(isSorted)){context=iteratee;iteratee=isSorted;isSorted=false}if(iteratee!=null)iteratee=cb(iteratee,context);var result=[];var seen=[];for(var i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;if(isSorted){if(!i||seen!==computed)result.push(value);seen=computed}else if(iteratee){if(!_.contains(seen,computed)){seen.push(computed);result.push(value)}}else if(!_.contains(result,value)){result.push(value)}}return result};_.union=function(){return _.uniq(flatten(arguments,true,true))};_.intersection=function(array){var result=[];var argsLength=arguments.length;for(var i=0,length=getLength(array);i<length;i++){var item=array[i];if(_.contains(result,item))continue;for(var j=1;j<argsLength;j++){if(!_.contains(arguments[j],item))break}if(j===argsLength)result.push(item)}return result};_.difference=function(array){var rest=flatten(arguments,true,true,1);return _.filter(array,function(value){return!_.contains(rest,value)})};_.zip=function(){return _.unzip(arguments)};_.unzip=function(array){var length=array&&_.max(array,getLength).length||0;var result=Array(length);for(var index=0;index<length;index++){result[index]=_.pluck(array,index)}return result};_.object=function(list,values){var result={};for(var i=0,length=getLength(list);i<length;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result};function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);var length=getLength(array);var index=dir>0?0:length-1;for(;index>=0&&index<length;index+=dir){if(predicate(array[index],index,array))return index}return-1}}_.findIndex=createPredicateIndexFinder(1);_.findLastIndex=createPredicateIndexFinder(-1);_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);var value=iteratee(obj);var low=0,high=getLength(array);while(low<high){var mid=Math.floor((low+high)/2);if(iteratee(array[mid])<value)low=mid+1;else high=mid}return low};function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if(typeof idx=="number"){if(dir>0){i=idx>=0?idx:Math.max(idx+length,i)}else{length=idx>=0?Math.min(idx+1,length):idx+length+1}}else if(sortedIndex&&idx&&length){idx=sortedIndex(array,item);return array[idx]===item?idx:-1}if(item!==item){idx=predicateFind(slice.call(array,i,length),_.isNaN);return idx>=0?idx+i:-1}for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir){if(array[idx]===item)return idx}return-1}}_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex);_.lastIndexOf=createIndexFinder(-1,_.findLastIndex);_.range=function(start,stop,step){if(stop==null){stop=start||0;start=0}step=step||1;var length=Math.max(Math.ceil((stop-start)/step),0);var range=Array(length);for(var idx=0;idx<length;idx++,start+=step){range[idx]=start}return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype);var result=sourceFunc.apply(self,args);if(_.isObject(result))return result;return self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2);var bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound};_.partial=function(func){var boundArgs=slice.call(arguments,1);var bound=function(){var position=0,length=boundArgs.length;var args=Array(length);for(var i=0;i<length;i++){args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i]}while(position<arguments.length)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound};_.bindAll=function(obj){var i,length=arguments.length,key;if(length<=1)throw new Error("bindAll must be passed function names");for(i=1;i<length;i++){key=arguments[i];obj[key]=_.bind(obj[key],obj)}return obj};_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache;var address=""+(hasher?hasher.apply(this,arguments):key);if(!_.has(cache,address))cache[address]=func.apply(this,arguments);return cache[address]};memoize.cache={};return memoize};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=_.partial(_.delay,_,1);_.throttle=function(func,wait,options){var context,args,result;var timeout=null;var previous=0;if(!options)options={};var later=function(){previous=options.leading===false?0:_.now();timeout=null;result=func.apply(context,args);if(!timeout)context=args=null};return function(){var now=_.now();if(!previous&&options.leading===false)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null}previous=now;result=func.apply(context,args);if(!timeout)context=args=null}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result}};_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result;var later=function(){var last=_.now()-timestamp;if(last<wait&&last>=0){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate){result=func.apply(context,args);if(!timeout)context=args=null}}};return function(){context=this;args=arguments;timestamp=_.now();var callNow=immediate&&!timeout;if(!timeout)timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);context=args=null}return result}};_.wrap=function(func,wrapper){return _.partial(wrapper,func)};_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}};_.compose=function(){var args=arguments;var start=args.length-1;return function(){var i=start;var result=args[start].apply(this,arguments);while(i--)result=args[i].call(this,result);return result}};_.after=function(times,func){return function(){if(--times<1){return func.apply(this,arguments)}}};_.before=function(times,func){var memo;return function(){if(--times>0){memo=func.apply(this,arguments)}if(times<=1)func=null;return memo}};_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length;var constructor=obj.constructor;var proto=_.isFunction(constructor)&&constructor.prototype||ObjProto;var prop="constructor";if(_.has(obj,prop)&&!_.contains(keys,prop))keys.push(prop);while(nonEnumIdx--){prop=nonEnumerableProps[nonEnumIdx];if(prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)){keys.push(prop)}}}_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)if(_.has(obj,key))keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.values=function(obj){var keys=_.keys(obj);var length=keys.length;var values=Array(length);for(var i=0;i<length;i++){values[i]=obj[keys[i]]}return values};_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=_.keys(obj),length=keys.length,results={},currentKey;for(var index=0;index<length;index++){currentKey=keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results};_.pairs=function(obj){var keys=_.keys(obj);var length=keys.length;var pairs=Array(length);for(var i=0;i<length;i++){pairs[i]=[keys[i],obj[keys[i]]]}return pairs};_.invert=function(obj){var result={};var keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++){result[obj[keys[i]]]=keys[i]}return result};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=createAssigner(_.allKeys);_.extendOwn=_.assign=createAssigner(_.keys);_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);var keys=_.keys(obj),key;for(var i=0,length=keys.length;i<length;i++){key=keys[i];if(predicate(obj[key],key,obj))return key}};_.pick=function(object,oiteratee,context){var result={},obj=object,iteratee,keys;if(obj==null)return result;if(_.isFunction(oiteratee)){keys=_.allKeys(obj);iteratee=optimizeCb(oiteratee,context)}else{keys=flatten(arguments,false,false,1);iteratee=function(value,key,obj){return key in obj};obj=Object(obj)}for(var i=0,length=keys.length;i<length;i++){var key=keys[i];var value=obj[key];if(iteratee(value,key,obj))result[key]=value}return result};_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee)){iteratee=_.negate(iteratee)}else{var keys=_.map(flatten(arguments,false,false,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)};_.defaults=createAssigner(_.allKeys,true);_.create=function(prototype,props){var result=baseCreate(prototype);if(props)_.extendOwn(result,props);return result};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(object==null)return!length;var obj=Object(object);for(var i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return false}return true};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!==toString.call(b))return false;switch(className){case"[object RegExp]":case"[object String]":return""+a===""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var areArrays=className==="[object Array]";if(!areArrays){if(typeof a!="object"||typeof b!="object")return false;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&("constructor"in a&&"constructor"in b)){return false}}aStack=aStack||[];bStack=bStack||[];var length=aStack.length;while(length--){if(aStack[length]===a)return bStack[length]===b}aStack.push(a);bStack.push(b);if(areArrays){length=a.length;if(length!==b.length)return false;while(length--){if(!eq(a[length],b[length],aStack,bStack))return false}}else{var keys=_.keys(a),key;length=keys.length;if(_.keys(b).length!==length)return false;while(length--){key=keys[length];if(!(_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))return false}}aStack.pop();bStack.pop();return true};_.isEqual=function(a,b){return eq(a,b)};_.isEmpty=function(obj){if(obj==null)return true;if(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj)))return obj.length===0;return _.keys(obj).length===0};_.isElement=function(obj){return!!(obj&&obj.nodeType===1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)==="[object Array]"};_.isObject=function(obj){var type=typeof obj;return type==="function"||type==="object"&&!!obj};_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}});if(!_.isArguments(arguments)){_.isArguments=function(obj){return _.has(obj,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){_.isFunction=function(obj){return typeof obj=="function"||false}}_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)==="[object Boolean]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return obj!=null&&hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.constant=function(value){return function(){return value}};_.noop=function(){};_.property=property;_.propertyOf=function(obj){return obj==null?function(){}:function(key){return obj[key]}};_.matcher=_.matches=function(attrs){attrs=_.extendOwn({},attrs);return function(obj){return _.isMatch(obj,attrs)}};_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum};_.random=function(min,max){if(max==null){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))};_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var unescapeMap=_.invert(escapeMap);var createEscaper=function(map){var escaper=function(match){return map[match]};var source="(?:"+_.keys(map).join("|")+")";var testRegexp=RegExp(source);var replaceRegexp=RegExp(source,"g");return function(string){string=string==null?"":""+string;return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap);_.unescape=createEscaper(unescapeMap);_.result=function(object,property,fallback){var value=object==null?void 0:object[property];if(value===void 0){value=fallback}return _.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var escaper=/\\|'|\r|\n|\u2028|\u2029/g;var escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){if(!settings&&oldSettings)settings=oldSettings;settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,escapeChar);index=offset+match.length;if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"}else if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"}else if(evaluate){source+="';\n"+evaluate+"\n__p+='"}return match});source+="';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){e.source=source;throw e}var template=function(data){return render.call(this,data,_)};var argument=settings.variable||"obj";template.source="function("+argument+"){\n"+source+"}";return template};_.chain=function(obj){var instance=_(obj);instance._chain=true;return instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result(this,func.apply(_,args))}})};_.mixin(_);_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name==="shift"||name==="splice")&&obj.length===0)delete obj[0];return result(this,obj)}});_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}});_.prototype.value=function(){return this._wrapped};_.prototype.valueOf=_.prototype.toJSON=_.prototype.value;_.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return _})}}).call(this);
(function(factory){var root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(_,$,exports){root.Backbone=factory(root,exports,_,$)})}else if(typeof exports!=="undefined"){var _=require("underscore"),$;try{$=require("jquery")}catch(e){}factory(root,exports,_,$)}else{root.Backbone=factory(root,{},root._,root.jQuery||root.Zepto||root.ender||root.$)}})(function(root,Backbone,_,$){var previousBackbone=root.Backbone;var slice=Array.prototype.slice;Backbone.VERSION="1.3.2";Backbone.$=$;Backbone.noConflict=function(){root.Backbone=previousBackbone;return this};Backbone.emulateHTTP=false;Backbone.emulateJSON=false;var addMethod=function(length,method,attribute){switch(length){case 1:return function(){return _[method](this[attribute])};case 2:return function(value){return _[method](this[attribute],value)};case 3:return function(iteratee,context){return _[method](this[attribute],cb(iteratee,this),context)};case 4:return function(iteratee,defaultVal,context){return _[method](this[attribute],cb(iteratee,this),defaultVal,context)};default:return function(){var args=slice.call(arguments);args.unshift(this[attribute]);return _[method].apply(_,args)}}};var addUnderscoreMethods=function(Class,methods,attribute){_.each(methods,function(length,method){if(_[method])Class.prototype[method]=addMethod(length,method,attribute)})};var cb=function(iteratee,instance){if(_.isFunction(iteratee))return iteratee;if(_.isObject(iteratee)&&!instance._isModel(iteratee))return modelMatcher(iteratee);if(_.isString(iteratee))return function(model){return model.get(iteratee)};return iteratee};var modelMatcher=function(attrs){var matcher=_.matches(attrs);return function(model){return matcher(model.attributes)}};var Events=Backbone.Events={};var eventSplitter=/\s+/;var eventsApi=function(iteratee,events,name,callback,opts){var i=0,names;if(name&&typeof name==="object"){if(callback!==void 0&&"context"in opts&&opts.context===void 0)opts.context=callback;for(names=_.keys(name);i<names.length;i++){events=eventsApi(iteratee,events,names[i],name[names[i]],opts)}}else if(name&&eventSplitter.test(name)){for(names=name.split(eventSplitter);i<names.length;i++){events=iteratee(events,names[i],callback,opts)}}else{events=iteratee(events,name,callback,opts)}return events};Events.on=function(name,callback,context){return internalOn(this,name,callback,context)};var internalOn=function(obj,name,callback,context,listening){obj._events=eventsApi(onApi,obj._events||{},name,callback,{context:context,ctx:obj,listening:listening});if(listening){var listeners=obj._listeners||(obj._listeners={});listeners[listening.id]=listening}return obj};Events.listenTo=function(obj,name,callback){if(!obj)return this;var id=obj._listenId||(obj._listenId=_.uniqueId("l"));var listeningTo=this._listeningTo||(this._listeningTo={});var listening=listeningTo[id];if(!listening){var thisId=this._listenId||(this._listenId=_.uniqueId("l"));listening=listeningTo[id]={obj:obj,objId:id,id:thisId,listeningTo:listeningTo,count:0}}internalOn(obj,name,callback,this,listening);return this};var onApi=function(events,name,callback,options){if(callback){var handlers=events[name]||(events[name]=[]);var context=options.context,ctx=options.ctx,listening=options.listening;if(listening)listening.count++;handlers.push({callback:callback,context:context,ctx:context||ctx,listening:listening})}return events};Events.off=function(name,callback,context){if(!this._events)return this;this._events=eventsApi(offApi,this._events,name,callback,{context:context,listeners:this._listeners});return this};Events.stopListening=function(obj,name,callback){var listeningTo=this._listeningTo;if(!listeningTo)return this;var ids=obj?[obj._listenId]:_.keys(listeningTo);for(var i=0;i<ids.length;i++){var listening=listeningTo[ids[i]];if(!listening)break;listening.obj.off(name,callback,this)}return this};var offApi=function(events,name,callback,options){if(!events)return;var i=0,listening;var context=options.context,listeners=options.listeners;if(!name&&!callback&&!context){var ids=_.keys(listeners);for(;i<ids.length;i++){listening=listeners[ids[i]];delete listeners[listening.id];delete listening.listeningTo[listening.objId]}return}var names=name?[name]:_.keys(events);for(;i<names.length;i++){name=names[i];var handlers=events[name];if(!handlers)break;var remaining=[];for(var j=0;j<handlers.length;j++){var handler=handlers[j];if(callback&&callback!==handler.callback&&callback!==handler.callback._callback||context&&context!==handler.context){remaining.push(handler)}else{listening=handler.listening;if(listening&&--listening.count===0){delete listeners[listening.id];delete listening.listeningTo[listening.objId]}}}if(remaining.length){events[name]=remaining}else{delete events[name]}}return events};Events.once=function(name,callback,context){var events=eventsApi(onceMap,{},name,callback,_.bind(this.off,this));if(typeof name==="string"&&context==null)callback=void 0;return this.on(events,callback,context)};Events.listenToOnce=function(obj,name,callback){var events=eventsApi(onceMap,{},name,callback,_.bind(this.stopListening,this,obj));return this.listenTo(obj,events)};var onceMap=function(map,name,callback,offer){if(callback){var once=map[name]=_.once(function(){offer(name,once);callback.apply(this,arguments)});once._callback=callback}return map};Events.trigger=function(name){if(!this._events)return this;var length=Math.max(0,arguments.length-1);var args=Array(length);for(var i=0;i<length;i++)args[i]=arguments[i+1];eventsApi(triggerApi,this._events,name,void 0,args);return this};var triggerApi=function(objEvents,name,callback,args){if(objEvents){var events=objEvents[name];var allEvents=objEvents.all;if(events&&allEvents)allEvents=allEvents.slice();if(events)triggerEvents(events,args);if(allEvents)triggerEvents(allEvents,[name].concat(args))}return objEvents};var triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:while(++i<l)(ev=events[i]).callback.call(ev.ctx);return;case 1:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:while(++i<l)(ev=events[i]).callback.apply(ev.ctx,args);return}};Events.bind=Events.on;Events.unbind=Events.off;_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var attrs=attributes||{};options||(options={});this.cid=_.uniqueId(this.cidPrefix);this.attributes={};if(options.collection)this.collection=options.collection;if(options.parse)attrs=this.parse(attrs,options)||{};var defaults=_.result(this,"defaults");attrs=_.defaults(_.extend({},defaults,attrs),defaults);this.set(attrs,options);this.changed={};this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return this.get(attr)!=null},matches:function(attrs){return!!_.iteratee(attrs,this)(this.attributes)},set:function(key,val,options){if(key==null)return this;var attrs;if(typeof key==="object"){attrs=key;options=val}else{(attrs={})[key]=val}options||(options={});if(!this._validate(attrs,options))return false;var unset=options.unset;var silent=options.silent;var changes=[];var changing=this._changing;this._changing=true;if(!changing){this._previousAttributes=_.clone(this.attributes);this.changed={}}var current=this.attributes;var changed=this.changed;var prev=this._previousAttributes;for(var attr in attrs){val=attrs[attr];if(!_.isEqual(current[attr],val))changes.push(attr);if(!_.isEqual(prev[attr],val)){changed[attr]=val}else{delete changed[attr]}unset?delete current[attr]:current[attr]=val}if(this.idAttribute in attrs)this.id=this.get(this.idAttribute);if(!silent){if(changes.length)this._pending=options;for(var i=0;i<changes.length;i++){this.trigger("change:"+changes[i],this,current[changes[i]],options)}}if(changing)return this;if(!silent){while(this._pending){options=this._pending;this._pending=false;this.trigger("change",this,options)}}this._pending=false;this._changing=false;return this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:true}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:true}))},hasChanged:function(attr){if(attr==null)return!_.isEmpty(this.changed);return _.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):false;var old=this._changing?this._previousAttributes:this.attributes;var changed={};for(var attr in diff){var val=diff[attr];if(_.isEqual(old[attr],val))continue;changed[attr]=val}return _.size(changed)?changed:false},previous:function(attr){if(attr==null||!this._previousAttributes)return null;return this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=_.extend({parse:true},options);var model=this;var success=options.success;options.success=function(resp){var serverAttrs=options.parse?model.parse(resp,options):resp;if(!model.set(serverAttrs,options))return false;if(success)success.call(options.context,model,resp,options);model.trigger("sync",model,resp,options)};wrapError(this,options);return this.sync("read",this,options)},save:function(key,val,options){var attrs;if(key==null||typeof key==="object"){attrs=key;options=val}else{(attrs={})[key]=val}options=_.extend({validate:true,parse:true},options);var wait=options.wait;if(attrs&&!wait){if(!this.set(attrs,options))return false}else if(!this._validate(attrs,options)){return false}var model=this;var success=options.success;var attributes=this.attributes;options.success=function(resp){model.attributes=attributes;var serverAttrs=options.parse?model.parse(resp,options):resp;if(wait)serverAttrs=_.extend({},attrs,serverAttrs);if(serverAttrs&&!model.set(serverAttrs,options))return false;if(success)success.call(options.context,model,resp,options);model.trigger("sync",model,resp,options)};wrapError(this,options);if(attrs&&wait)this.attributes=_.extend({},attributes,attrs);var method=this.isNew()?"create":options.patch?"patch":"update";if(method==="patch"&&!options.attrs)options.attrs=attrs;var xhr=this.sync(method,this,options);this.attributes=attributes;return xhr},destroy:function(options){options=options?_.clone(options):{};var model=this;var success=options.success;var wait=options.wait;var destroy=function(){model.stopListening();model.trigger("destroy",model,model.collection,options)};options.success=function(resp){if(wait)destroy();if(success)success.call(options.context,model,resp,options);if(!model.isNew())model.trigger("sync",model,resp,options)};var xhr=false;if(this.isNew()){_.defer(options.success)}else{wrapError(this,options);xhr=this.sync("delete",this,options)}if(!wait)destroy();return xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();if(this.isNew())return base;var id=this.get(this.idAttribute);return base.replace(/[^\/]$/,"$&/")+encodeURIComponent(id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(options){return this._validate({},_.extend({},options,{validate:true}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return true;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;if(!error)return true;this.trigger("invalid",this,error,_.extend(options,{validationError:error}));return false}});var modelMethods={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};addUnderscoreMethods(Model,modelMethods,"attributes");var Collection=Backbone.Collection=function(models,options){options||(options={});if(options.model)this.model=options.model;if(options.comparator!==void 0)this.comparator=options.comparator;this._reset();this.initialize.apply(this,arguments);if(models)this.reset(models,_.extend({silent:true},options))};var setOptions={add:true,remove:true,merge:true};var addOptions={add:true,remove:false};var splice=function(array,insert,at){at=Math.min(Math.max(at,0),array.length);var tail=Array(array.length-at);var length=insert.length;var i;for(i=0;i<tail.length;i++)tail[i]=array[i+at];for(i=0;i<length;i++)array[i+at]=insert[i];for(i=0;i<tail.length;i++)array[i+length+at]=tail[i]};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.extend({merge:false},options,addOptions))},remove:function(models,options){options=_.extend({},options);var singular=!_.isArray(models);models=singular?[models]:models.slice();var removed=this._removeModels(models,options);if(!options.silent&&removed.length){options.changes={added:[],merged:[],removed:removed};this.trigger("update",this,options)}return singular?removed[0]:removed},set:function(models,options){if(models==null)return;options=_.extend({},setOptions,options);if(options.parse&&!this._isModel(models)){models=this.parse(models,options)||[]}var singular=!_.isArray(models);models=singular?[models]:models.slice();var at=options.at;if(at!=null)at=+at;if(at>this.length)at=this.length;if(at<0)at+=this.length+1;var set=[];var toAdd=[];var toMerge=[];var toRemove=[];var modelMap={};var add=options.add;var merge=options.merge;var remove=options.remove;var sort=false;var sortable=this.comparator&&at==null&&options.sort!==false;var sortAttr=_.isString(this.comparator)?this.comparator:null;var model,i;for(i=0;i<models.length;i++){model=models[i];var existing=this.get(model);if(existing){if(merge&&model!==existing){var attrs=this._isModel(model)?model.attributes:model;if(options.parse)attrs=existing.parse(attrs,options);existing.set(attrs,options);toMerge.push(existing);if(sortable&&!sort)sort=existing.hasChanged(sortAttr)}if(!modelMap[existing.cid]){modelMap[existing.cid]=true;set.push(existing)}models[i]=existing}else if(add){model=models[i]=this._prepareModel(model,options);if(model){toAdd.push(model);this._addReference(model,options);modelMap[model.cid]=true;set.push(model)}}}if(remove){for(i=0;i<this.length;i++){model=this.models[i];if(!modelMap[model.cid])toRemove.push(model)}if(toRemove.length)this._removeModels(toRemove,options)}var orderChanged=false;var replace=!sortable&&add&&remove;if(set.length&&replace){orderChanged=this.length!==set.length||_.some(this.models,function(m,index){return m!==set[index]});this.models.length=0;splice(this.models,set,0);this.length=this.models.length}else if(toAdd.length){if(sortable)sort=true;splice(this.models,toAdd,at==null?this.length:at);this.length=this.models.length}if(sort)this.sort({silent:true});if(!options.silent){for(i=0;i<toAdd.length;i++){if(at!=null)options.index=at+i;model=toAdd[i];model.trigger("add",model,this,options)}if(sort||orderChanged)this.trigger("sort",this,options);if(toAdd.length||toRemove.length||toMerge.length){options.changes={added:toAdd,removed:toRemove,merged:toMerge};this.trigger("update",this,options)}}return singular?models[0]:models},reset:function(models,options){options=options?_.clone(options):{};for(var i=0;i<this.models.length;i++){this._removeReference(this.models[i],options)}options.previousModels=this.models;this._reset();models=this.add(models,_.extend({silent:true},options));if(!options.silent)this.trigger("reset",this,options);return models},push:function(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options)},unshift:function(model,options){return this.add(model,_.extend({at:0},options))},shift:function(options){var model=this.at(0);return this.remove(model,options)},slice:function(){return slice.apply(this.models,arguments)},get:function(obj){if(obj==null)return void 0;return this._byId[obj]||this._byId[this.modelId(obj.attributes||obj)]||obj.cid&&this._byId[obj.cid]},has:function(obj){return this.get(obj)!=null},at:function(index){if(index<0)index+=this.length;return this.models[index]},where:function(attrs,first){return this[first?"find":"filter"](attrs)},findWhere:function(attrs){return this.where(attrs,true)},sort:function(options){var comparator=this.comparator;if(!comparator)throw new Error("Cannot sort a set without a comparator");options||(options={});var length=comparator.length;if(_.isFunction(comparator))comparator=_.bind(comparator,this);if(length===1||_.isString(comparator)){this.models=this.sortBy(comparator)}else{this.models.sort(comparator)}if(!options.silent)this.trigger("sort",this,options);return this},pluck:function(attr){return this.map(attr+"")},fetch:function(options){options=_.extend({parse:true},options);var success=options.success;var collection=this;options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options);if(success)success.call(options.context,collection,resp,options);collection.trigger("sync",collection,resp,options)};wrapError(this,options);return this.sync("read",this,options)},create:function(model,options){options=options?_.clone(options):{};var wait=options.wait;model=this._prepareModel(model,options);if(!model)return false;if(!wait)this.add(model,options);var collection=this;var success=options.success;options.success=function(m,resp,callbackOpts){if(wait)collection.add(m,callbackOpts);if(success)success.call(callbackOpts.context,m,resp,callbackOpts)};model.save(null,options);return model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(attrs){return attrs[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(attrs,options){if(this._isModel(attrs)){if(!attrs.collection)attrs.collection=this;return attrs}options=options?_.clone(options):{};options.collection=this;var model=new this.model(attrs,options);if(!model.validationError)return model;this.trigger("invalid",this,model.validationError,options);return false},_removeModels:function(models,options){var removed=[];for(var i=0;i<models.length;i++){var model=this.get(models[i]);if(!model)continue;var index=this.indexOf(model);this.models.splice(index,1);this.length--;delete this._byId[model.cid];var id=this.modelId(model.attributes);if(id!=null)delete this._byId[id];if(!options.silent){options.index=index;model.trigger("remove",model,this,options)}removed.push(model);this._removeReference(model,options)}return removed},_isModel:function(model){return model instanceof Model},_addReference:function(model,options){this._byId[model.cid]=model;var id=this.modelId(model.attributes);if(id!=null)this._byId[id]=model;model.on("all",this._onModelEvent,this)},_removeReference:function(model,options){delete this._byId[model.cid];var id=this.modelId(model.attributes);if(id!=null)delete this._byId[id];if(this===model.collection)delete model.collection;model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if(model){if((event==="add"||event==="remove")&&collection!==this)return;if(event==="destroy")this.remove(model,options);if(event==="change"){var prevId=this.modelId(model.previousAttributes());var id=this.modelId(model.attributes);if(prevId!==id){if(prevId!=null)delete this._byId[prevId];if(id!=null)this._byId[id]=model}}}this.trigger.apply(this,arguments)}});var collectionMethods={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};addUnderscoreMethods(Collection,collectionMethods,"models");var View=Backbone.View=function(options){this.cid=_.uniqueId("view");_.extend(this,_.pick(options,viewOptions));this._ensureElement();this.initialize.apply(this,arguments)};var delegateEventSplitter=/^(\S+)\s*(.*)$/;var viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(element){this.undelegateEvents();this._setElement(element);this.delegateEvents();return this},_setElement:function(el){this.$el=el instanceof Backbone.$?el:Backbone.$(el);this.el=this.$el[0]},delegateEvents:function(events){events||(events=_.result(this,"events"));if(!events)return this;this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[method];if(!method)continue;var match=key.match(delegateEventSplitter);this.delegate(match[1],match[2],_.bind(method,this))}return this},delegate:function(eventName,selector,listener){this.$el.on(eventName+".delegateEvents"+this.cid,selector,listener);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(eventName,selector,listener){this.$el.off(eventName+".delegateEvents"+this.cid,selector,listener);return this},_createElement:function(tagName){return document.createElement(tagName)},_ensureElement:function(){if(!this.el){var attrs=_.extend({},_.result(this,"attributes"));if(this.id)attrs.id=_.result(this,"id");if(this.className)attrs["class"]=_.result(this,"className");this.setElement(this._createElement(_.result(this,"tagName")));this._setAttributes(attrs)}else{this.setElement(_.result(this,"el"))}},_setAttributes:function(attributes){this.$el.attr(attributes)}});Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};if(!options.url){params.url=_.result(model,"url")||urlError()}if(options.data==null&&model&&(method==="create"||method==="update"||method==="patch")){params.contentType="application/json";params.data=JSON.stringify(options.attrs||model.toJSON(options))}if(options.emulateJSON){params.contentType="application/x-www-form-urlencoded";params.data=params.data?{model:params.data}:{}}if(options.emulateHTTP&&(type==="PUT"||type==="DELETE"||type==="PATCH")){params.type="POST";if(options.emulateJSON)params.data._method=type;var beforeSend=options.beforeSend;options.beforeSend=function(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type);if(beforeSend)return beforeSend.apply(this,arguments)}}if(params.type!=="GET"&&!options.emulateJSON){params.processData=false}var error=options.error;options.error=function(xhr,textStatus,errorThrown){options.textStatus=textStatus;options.errorThrown=errorThrown;if(error)error.call(options.context,xhr,textStatus,errorThrown)};var xhr=options.xhr=Backbone.ajax(_.extend(params,options));model.trigger("request",model,xhr,options);return xhr};var methodMap={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={});if(options.routes)this.routes=options.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var optionalParam=/\((.*?)\)/g;var namedParam=/(\(\?)?:\w+/g;var splatParam=/\*\w+/g;var escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){if(!_.isRegExp(route))route=this._routeToRegExp(route);if(_.isFunction(name)){callback=name;name=""}if(!callback)callback=this[name];var router=this;Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);if(router.execute(callback,args,name)!==false){router.trigger.apply(router,["route:"+name].concat(args));router.trigger("route",name,args);Backbone.history.trigger("route",router,name,args)}});return this},execute:function(callback,args,name){if(callback)callback.apply(this,args)},navigate:function(fragment,options){Backbone.history.navigate(fragment,options);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=_.result(this,"routes");var route,routes=_.keys(this.routes);while((route=routes.pop())!=null){this.route(route,this.routes[route])}},_routeToRegExp:function(route){route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/?]+)"}).replace(splatParam,"([^?]*?)");return new RegExp("^"+route+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param,i){if(i===params.length-1)return param||null;return param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[];this.checkUrl=_.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var routeStripper=/^[#\/]|\s+$/g;var rootStripper=/^\/+|\/+$/g;var pathStripper=/#.*$/;History.started=false;_.extend(History.prototype,Events,{interval:50,atRoot:function(){var path=this.location.pathname.replace(/[^\/]$/,"$&/");return path===this.root&&!this.getSearch()},matchRoot:function(){var path=this.decodeFragment(this.location.pathname);var rootPath=path.slice(0,this.root.length-1)+"/";return rootPath===this.root},decodeFragment:function(fragment){return decodeURI(fragment.replace(/%25/g,"%2525"))},getSearch:function(){var match=this.location.href.replace(/#.*/,"").match(/\?.+/);return match?match[0]:""},getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getPath:function(){var path=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return path.charAt(0)==="/"?path.slice(1):path},getFragment:function(fragment){if(fragment==null){if(this._usePushState||!this._wantsHashChange){fragment=this.getPath()}else{fragment=this.getHash()}}return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=true;this.options=_.extend({root:"/"},this.options,options);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(rootStripper,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var rootPath=this.root.slice(0,-1)||"/";this.location.replace(rootPath+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var body=document.body;var iWindow=body.insertBefore(this.iframe,body.firstChild).contentWindow;iWindow.document.open();iWindow.document.close();iWindow.location.hash="#"+this.fragment}var addEventListener=window.addEventListener||function(eventName,listener){return attachEvent("on"+eventName,listener)};if(this._usePushState){addEventListener("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){addEventListener("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var removeEventListener=window.removeEventListener||function(eventName,listener){return detachEvent("on"+eventName,listener)};if(this._usePushState){removeEventListener("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){removeEventListener("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);History.started=false},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();if(current===this.fragment&&this.iframe){current=this.getHash(this.iframe.contentWindow)}if(current===this.fragment)return false;if(this.iframe)this.navigate(current);this.loadUrl()},loadUrl:function(fragment){if(!this.matchRoot())return false;fragment=this.fragment=this.getFragment(fragment);return _.some(this.handlers,function(handler){if(handler.route.test(fragment)){handler.callback(fragment);return true}})},navigate:function(fragment,options){if(!History.started)return false;if(!options||options===true)options={trigger:!!options};fragment=this.getFragment(fragment||"");var rootPath=this.root;if(fragment===""||fragment.charAt(0)==="?"){rootPath=rootPath.slice(0,-1)||"/"}var url=rootPath+fragment;fragment=this.decodeFragment(fragment.replace(pathStripper,""));if(this.fragment===fragment)return;this.fragment=fragment;if(this._usePushState){this.history[options.replace?"replaceState":"pushState"]({},document.title,url)}else if(this._wantsHashChange){this._updateHash(this.location,fragment,options.replace);if(this.iframe&&fragment!==this.getHash(this.iframe.contentWindow)){var iWindow=this.iframe.contentWindow;if(!options.replace){iWindow.document.open();iWindow.document.close()}this._updateHash(iWindow.location,fragment,options.replace)}}else{return this.location.assign(url)}if(options.trigger)return this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else{location.hash="#"+fragment}}});Backbone.history=new History;var extend=function(protoProps,staticProps){var parent=this;var child;if(protoProps&&_.has(protoProps,"constructor")){child=protoProps.constructor}else{child=function(){return parent.apply(this,arguments)}}_.extend(child,parent,staticProps);child.prototype=_.create(parent.prototype,protoProps);child.prototype.constructor=child;child.__super__=parent.prototype;return child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw new Error('A "url" property or function must be specified')};var wrapError=function(model,options){var error=options.error;options.error=function(resp){if(error)error.call(options.context,model,resp,options);model.trigger("error",model,resp,options)}};return Backbone});
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["Handlebars"]=factory();else root["Handlebars"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _handlebarsRuntime=__webpack_require__(2);var _handlebarsRuntime2=_interopRequireDefault(_handlebarsRuntime);var _handlebarsCompilerAst=__webpack_require__(21);var _handlebarsCompilerAst2=_interopRequireDefault(_handlebarsCompilerAst);var _handlebarsCompilerBase=__webpack_require__(22);var _handlebarsCompilerCompiler=__webpack_require__(27);var _handlebarsCompilerJavascriptCompiler=__webpack_require__(28);var _handlebarsCompilerJavascriptCompiler2=_interopRequireDefault(_handlebarsCompilerJavascriptCompiler);var _handlebarsCompilerVisitor=__webpack_require__(25);var _handlebarsCompilerVisitor2=_interopRequireDefault(_handlebarsCompilerVisitor);var _handlebarsNoConflict=__webpack_require__(20);var _handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict);var _create=_handlebarsRuntime2["default"].create;function create(){var hb=_create();hb.compile=function(input,options){return _handlebarsCompilerCompiler.compile(input,options,hb)};hb.precompile=function(input,options){return _handlebarsCompilerCompiler.precompile(input,options,hb)};hb.AST=_handlebarsCompilerAst2["default"];hb.Compiler=_handlebarsCompilerCompiler.Compiler;hb.JavaScriptCompiler=_handlebarsCompilerJavascriptCompiler2["default"];hb.Parser=_handlebarsCompilerBase.parser;hb.parse=_handlebarsCompilerBase.parse;return hb}var inst=create();inst.create=create;_handlebarsNoConflict2["default"](inst);inst.Visitor=_handlebarsCompilerVisitor2["default"];inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports){"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{default:obj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(3)["default"];var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _handlebarsBase=__webpack_require__(4);var base=_interopRequireWildcard(_handlebarsBase);var _handlebarsSafeString=__webpack_require__(18);var _handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString);var _handlebarsException=__webpack_require__(6);var _handlebarsException2=_interopRequireDefault(_handlebarsException);var _handlebarsUtils=__webpack_require__(5);var Utils=_interopRequireWildcard(_handlebarsUtils);var _handlebarsRuntime=__webpack_require__(19);var runtime=_interopRequireWildcard(_handlebarsRuntime);var _handlebarsNoConflict=__webpack_require__(20);var _handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict);function create(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=_handlebarsSafeString2["default"];hb.Exception=_handlebarsException2["default"];hb.Utils=Utils;hb.escapeExpression=Utils.escapeExpression;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb}var inst=create();inst.create=create;_handlebarsNoConflict2["default"](inst);inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports){"use strict";exports["default"]=function(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=__webpack_require__(5);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _helpers=__webpack_require__(7);var _decorators=__webpack_require__(15);var _logger=__webpack_require__(17);var _logger2=_interopRequireDefault(_logger);var VERSION="4.0.5";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{};this.partials=partials||{};this.decorators=decorators||{};_helpers.registerDefaultHelpers(this);_decorators.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2["default"],log:_logger2["default"].log,registerHelper:function registerHelper(name,fn){if(_utils.toString.call(name)===objectType){if(fn){throw new _exception2["default"]("Arg not supported with multiple helpers")}_utils.extend(this.helpers,name)}else{this.helpers[name]=fn}},unregisterHelper:function unregisterHelper(name){delete this.helpers[name]},registerPartial:function registerPartial(name,partial){if(_utils.toString.call(name)===objectType){_utils.extend(this.partials,name)}else{if(typeof partial==="undefined"){throw new _exception2["default"]('Attempting to register a partial called "'+name+'" as undefined')}this.partials[name]=partial}},unregisterPartial:function unregisterPartial(name){delete this.partials[name]},registerDecorator:function registerDecorator(name,fn){if(_utils.toString.call(name)===objectType){if(fn){throw new _exception2["default"]("Arg not supported with multiple decorators")}_utils.extend(this.decorators,name)}else{this.decorators[name]=fn}},unregisterDecorator:function unregisterDecorator(name){delete this.decorators[name]}};var log=_logger2["default"].log;exports.log=log;exports.createFrame=_utils.createFrame;exports.logger=_logger2["default"]},function(module,exports){"use strict";exports.__esModule=true;exports.extend=extend;exports.indexOf=indexOf;exports.escapeExpression=escapeExpression;exports.isEmpty=isEmpty;exports.createFrame=createFrame;exports.blockParams=blockParams;exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/;function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(Object.prototype.hasOwnProperty.call(arguments[i],key)){obj[key]=arguments[i][key]}}}return obj}var toString=Object.prototype.toString;exports.toString=toString;var isFunction=function isFunction(value){return typeof value==="function"};if(isFunction(/x/)){exports.isFunction=isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};exports.isArray=isArray;function indexOf(array,value){for(var i=0,len=array.length;i<len;i++){if(array[i]===value){return i}}return-1}function escapeExpression(string){if(typeof string!=="string"){if(string&&string.toHTML){return string.toHTML()}else if(string==null){return""}else if(!string){return string+""}string=""+string}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}function createFrame(object){var frame=extend({},object);frame._parent=object;return frame}function blockParams(params,ids){params.path=ids;return params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}},function(module,exports){"use strict";exports.__esModule=true;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var loc=node&&node.loc,line=undefined,column=undefined;if(loc){line=loc.start.line;column=loc.start.column;message+=" - "+line+":"+column}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(Error.captureStackTrace){Error.captureStackTrace(this,Exception)}if(loc){this.lineNumber=line;this.column=column}}Exception.prototype=new Error;exports["default"]=Exception;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=__webpack_require__(8);var _helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing);var _helpersEach=__webpack_require__(9);var _helpersEach2=_interopRequireDefault(_helpersEach);var _helpersHelperMissing=__webpack_require__(10);var _helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing);var _helpersIf=__webpack_require__(11);var _helpersIf2=_interopRequireDefault(_helpersIf);var _helpersLog=__webpack_require__(12);var _helpersLog2=_interopRequireDefault(_helpersLog);var _helpersLookup=__webpack_require__(13);var _helpersLookup2=_interopRequireDefault(_helpersLookup);var _helpersWith=__webpack_require__(14);var _helpersWith2=_interopRequireDefault(_helpersWith);function registerDefaultHelpers(instance){_helpersBlockHelperMissing2["default"](instance);_helpersEach2["default"](instance);_helpersHelperMissing2["default"](instance);_helpersIf2["default"](instance);_helpersLog2["default"](instance);_helpersLookup2["default"](instance);_helpersWith2["default"](instance)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(_utils.isArray(context)){if(context.length>0){if(options.ids){options.ids=[options.name]}return instance.helpers.each(context,options)}else{return inverse(this)}}else{if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name);options={data:data}}return fn(context,options)}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _utils=__webpack_require__(5);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("each",function(context,options){if(!options){throw new _exception2["default"]("Must pass iterator to #each")}var fn=options.fn,inverse=options.inverse,i=0,ret="",data=undefined,contextPath=undefined;if(options.data&&options.ids){contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."}if(_utils.isFunction(context)){context=context.call(this)}if(options.data){data=_utils.createFrame(options.data)}function execIteration(field,index,last){if(data){data.key=field;data.index=index;data.first=index===0;data.last=!!last;if(contextPath){data.contextPath=contextPath+field}}ret=ret+fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(context&&typeof context==="object"){if(_utils.isArray(context)){for(var j=context.length;i<j;i++){if(i in context){execIteration(i,i,i===context.length-1)}}}else{var priorKey=undefined;for(var key in context){if(context.hasOwnProperty(key)){if(priorKey!==undefined){execIteration(priorKey,i-1)}priorKey=key;i++}}if(priorKey!==undefined){execIteration(priorKey,i-1,true)}}}if(i===0){ret=inverse(this)}return ret})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new _exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerHelper("if",function(conditional,options){if(_utils.isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})};module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(instance){instance.registerHelper("log",function(){var args=[undefined],options=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){args.push(arguments[i])}var level=1;if(options.hash.level!=null){level=options.hash.level}else if(options.data&&options.data.level!=null){level=options.data.level}args[0]=level;instance.log.apply(instance,args)})};module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerHelper("with",function(context,options){if(_utils.isFunction(context)){context=context.call(this)}var fn=options.fn;if(!_utils.isEmpty(context)){var data=options.data;if(options.data&&options.ids){data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])}return fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})}else{return options.inverse(this)}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=__webpack_require__(16);var _decoratorsInline2=_interopRequireDefault(_decoratorsInline);function registerDefaultDecorators(instance){_decoratorsInline2["default"](instance)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;if(!props.partials){props.partials={};ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);container.partials=original;return ret}}props.partials[options.args[0]]=options.fn;return ret})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);var logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(level){if(typeof level==="string"){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());if(levelMap>=0){level=levelMap}else{level=parseInt(level,10)}}return level},log:function log(level){level=logger.lookupLevel(level);if(typeof console!=="undefined"&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];if(!console[method]){method="log"}for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){message[_key-1]=arguments[_key]}console[method].apply(console,message)}}};exports["default"]=logger;module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;function SafeString(string){this.string=string}SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string};exports["default"]=SafeString;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(3)["default"];var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.checkRevision=checkRevision;exports.template=template;exports.wrapProgram=wrapProgram;exports.resolvePartial=resolvePartial;exports.invokePartial=invokePartial;exports.noop=noop;var _utils=__webpack_require__(5);var Utils=_interopRequireWildcard(_utils);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _base=__webpack_require__(4);function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}function template(templateSpec,env){if(!env){throw new _exception2["default"]("No environment passed to template")}if(!templateSpec||!templateSpec.main){throw new _exception2["default"]("Unknown template object: "+typeof templateSpec)}templateSpec.main.decorator=templateSpec.main_d;env.VM.checkRevision(templateSpec.compiler);function invokePartialWrapper(partial,context,options){if(options.hash){context=Utils.extend({},context,options.hash);if(options.ids){options.ids[0]=true}}partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(result==null&&env.compile){options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env);result=options.partials[options.name](context,options)}if(result!=null){if(options.indent){var lines=result.split("\n");for(var i=0,l=lines.length;i<l;i++){if(!lines[i]&&i+1===l){break}lines[i]=options.indent+lines[i]}result=lines.join("\n")}return result}else{throw new _exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}}var container={strict:function strict(obj,name){if(!(name in obj)){throw new _exception2["default"]('"'+name+'" not defined in '+obj)}return obj[name]},lookup:function lookup(depths,name){var len=depths.length;for(var i=0;i<len;i++){if(depths[i]&&depths[i][name]!=null){return depths[i][name]}}},lambda:function lambda(current,context){return typeof current==="function"?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function fn(i){var ret=templateSpec[i];ret.decorator=templateSpec[i+"_d"];return ret},programs:[],program:function program(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);if(data||depths||blockParams||declaredBlockParams){programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths)}else if(!programWrapper){programWrapper=this.programs[i]=wrapProgram(this,i,fn)}return programWrapper},data:function data(value,depth){while(value&&depth--){value=value._parent}return value},merge:function merge(param,common){var obj=param||common;if(param&&common&&param!==common){obj=Utils.extend({},common,param)}return obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};function ret(context){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var data=options.data;ret._setup(options);if(!options.partial&&templateSpec.useData){data=initData(context,data)}var depths=undefined,blockParams=templateSpec.useBlockParams?[]:undefined;if(templateSpec.useDepths){if(options.depths){depths=context!==options.depths[0]?[context].concat(options.depths):options.depths}else{depths=[context]}}function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams);return main(context,options)}ret.isTop=true;ret._setup=function(options){if(!options.partial){container.helpers=container.merge(options.helpers,env.helpers);if(templateSpec.usePartial){container.partials=container.merge(options.partials,env.partials)}if(templateSpec.usePartial||templateSpec.useDecorators){container.decorators=container.merge(options.decorators,env.decorators)}}else{container.helpers=options.helpers;container.partials=options.partials;container.decorators=options.decorators}};ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams){throw new _exception2["default"]("must pass block params")}if(templateSpec.useDepths&&!depths){throw new _exception2["default"]("must pass parent depths")}return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)};return ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var currentDepths=depths;if(depths&&context!==depths[0]){currentDepths=[context].concat(depths)}return fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}prog=executeDecorators(fn,prog,container,depths,data,blockParams);prog.program=i;prog.depth=depths?depths.length:0;prog.blockParams=declaredBlockParams||0;return prog}function resolvePartial(partial,context,options){if(!partial){if(options.name==="@partial-block"){partial=options.data["partial-block"]}else{partial=options.partials[options.name]}}else if(!partial.call&&!options.name){options.name=partial;partial=options.partials[partial]}return partial}function invokePartial(partial,context,options){options.partial=true;if(options.ids){options.data.contextPath=options.ids[0]||options.data.contextPath}var partialBlock=undefined;if(options.fn&&options.fn!==noop){options.data=_base.createFrame(options.data);partialBlock=options.data["partial-block"]=options.fn;if(partialBlock.partials){options.partials=Utils.extend({},options.partials,partialBlock.partials)}}if(partial===undefined&&partialBlock){partial=partialBlock}if(partial===undefined){throw new _exception2["default"]("The partial "+options.name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}function noop(){return""}function initData(context,data){if(!data||!("root"in data)){data=data?_base.createFrame(data):{};data.root=context}return data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths);Utils.extend(prog,props)}return prog}},function(module,exports){(function(global){"use strict";exports.__esModule=true;exports["default"]=function(Handlebars){var root=typeof global!=="undefined"?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){if(root.Handlebars===Handlebars){root.Handlebars=$Handlebars}return Handlebars}};module.exports=exports["default"]}).call(exports,function(){return this}())},function(module,exports){"use strict";exports.__esModule=true;var AST={helpers:{helperExpression:function helperExpression(node){return node.type==="SubExpression"||(node.type==="MustacheStatement"||node.type==="BlockStatement")&&!!(node.params&&node.params.length||node.hash)},scopedId:function scopedId(path){return/^\.|this\b/.test(path.original)},simpleId:function simpleId(path){return path.parts.length===1&&!AST.helpers.scopedId(path)&&!path.depth}}};exports["default"]=AST;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];var _interopRequireWildcard=__webpack_require__(3)["default"];exports.__esModule=true;exports.parse=parse;var _parser=__webpack_require__(23);var _parser2=_interopRequireDefault(_parser);var _whitespaceControl=__webpack_require__(24);var _whitespaceControl2=_interopRequireDefault(_whitespaceControl);var _helpers=__webpack_require__(26);var Helpers=_interopRequireWildcard(_helpers);var _utils=__webpack_require__(5);exports.parser=_parser2["default"];var yy={};_utils.extend(yy,Helpers);function parse(input,options){if(input.type==="Program"){return input}_parser2["default"].yy=yy;yy.locInfo=function(locInfo){return new yy.SourceLocation(options&&options.srcName,locInfo)};var strip=new _whitespaceControl2["default"](options);return strip.accept(_parser2["default"].parse(input))}},function(module,exports){"use strict";var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=yy.prepareProgram($$[$0]);break;case 3:this.$=$$[$0];break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=$$[$0];break;case 7:this.$=$$[$0];break;case 8:this.$=$$[$0];break;case 9:this.$={type:"CommentStatement",value:yy.stripComment($$[$0]),strip:yy.stripFlags($$[$0],$$[$0]),loc:yy.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:$$[$0],value:$$[$0],loc:yy.locInfo(this._$)};break;case 11:this.$=yy.prepareRawBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 12:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1]};break;case 13:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],false,this._$);break;case 14:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],true,this._$);break;case 15:this.$={open:$$[$0-5],path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 16:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 17:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 18:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 19:var inverse=yy.prepareBlock($$[$0-2],$$[$0-1],$$[$0],$$[$0],false,this._$),program=yy.prepareProgram([inverse],$$[$0-1].loc);program.chained=true;this.$={strip:$$[$0-2].strip,program:program,chain:true};break;case 20:this.$=$$[$0];break;case 21:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 22:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 23:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 24:this.$={type:"PartialStatement",name:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],indent:"",strip:yy.stripFlags($$[$0-4],$$[$0]),loc:yy.locInfo(this._$)};break;case 25:this.$=yy.preparePartialBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 26:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],strip:yy.stripFlags($$[$0-4],$$[$0])};break;case 27:this.$=$$[$0];break;case 28:this.$=$$[$0];break;case 29:this.$={type:"SubExpression",path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],loc:yy.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:$$[$0],loc:yy.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:yy.id($$[$0-2]),value:$$[$0],loc:yy.locInfo(this._$)};break;case 32:this.$=yy.id($$[$0-1]);break;case 33:this.$=$$[$0];break;case 34:this.$=$$[$0];break;case 35:this.$={type:"StringLiteral",value:$$[$0],original:$$[$0],loc:yy.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number($$[$0]),original:Number($$[$0]),loc:yy.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:$$[$0]==="true",original:$$[$0]==="true",loc:yy.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:yy.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,
value:null,loc:yy.locInfo(this._$)};break;case 40:this.$=$$[$0];break;case 41:this.$=$$[$0];break;case 42:this.$=yy.preparePath(true,$$[$0],this._$);break;case 43:this.$=yy.preparePath(false,$$[$0],this._$);break;case 44:$$[$0-2].push({part:yy.id($$[$0]),original:$$[$0],separator:$$[$0-1]});this.$=$$[$0-2];break;case 45:this.$=[{part:yy.id($$[$0]),original:$$[$0]}];break;case 46:this.$=[];break;case 47:$$[$0-1].push($$[$0]);break;case 48:this.$=[$$[$0]];break;case 49:$$[$0-1].push($$[$0]);break;case 50:this.$=[];break;case 51:$$[$0-1].push($$[$0]);break;case 58:this.$=[];break;case 59:$$[$0-1].push($$[$0]);break;case 64:this.$=[];break;case 65:$$[$0-1].push($$[$0]);break;case 70:this.$=[];break;case 71:$$[$0-1].push($$[$0]);break;case 78:this.$=[];break;case 79:$$[$0-1].push($$[$0]);break;case 82:this.$=[];break;case 83:$$[$0-1].push($$[$0]);break;case 86:this.$=[];break;case 87:$$[$0-1].push($$[$0]);break;case 90:this.$=[];break;case 91:$$[$0-1].push($$[$0]);break;case 94:this.$=[];break;case 95:$$[$0-1].push($$[$0]);break;case 98:this.$=[$$[$0]];break;case 99:$$[$0-1].push($$[$0]);break;case 100:this.$=[$$[$0]];break;case 101:$$[$0-1].push($$[$0]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function unput(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function more(){this._more=true;return this},less:function less(n){this.unput(this.match.slice(n))},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function next(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-2)==="\\\\"){strip(0,1);this.begin("mu")}else if(yy_.yytext.slice(-1)==="\\"){strip(0,1);this.begin("emu")}else{this.begin("mu")}if(yy_.yytext)return 15;break;case 1:return 15;break;case 2:this.popState();return 15;break;case 3:this.begin("raw");return 15;break;case 4:this.popState();if(this.conditionStack[this.conditionStack.length-1]==="raw"){return 15}else{yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9);return"END_RAW_BLOCK"}break;case 5:return 15;break;case 6:this.popState();return 14;break;case 7:return 65;break;case 8:return 68;break;case 9:return 19;break;case 10:this.popState();this.begin("raw");return 23;break;case 11:return 55;break;case 12:return 60;break;case 13:return 29;break;case 14:return 47;break;case 15:this.popState();return 44;break;case 16:this.popState();return 44;break;case 17:return 34;break;case 18:return 39;break;case 19:return 51;break;case 20:return 48;break;case 21:this.unput(yy_.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;break;case 23:return 48;break;case 24:return 73;break;case 25:return 72;break;case 26:return 72;break;case 27:return 87;break;case 28:break;case 29:this.popState();return 54;break;case 30:this.popState();return 33;break;case 31:yy_.yytext=strip(1,2).replace(/\\"/g,'"');return 80;break;case 32:yy_.yytext=strip(1,2).replace(/\\'/g,"'");return 80;break;case 33:return 85;break;case 34:return 82;break;case 35:return 82;break;case 36:return 83;break;case 37:return 84;break;case 38:return 81;break;case 39:return 75;break;case 40:return 77;break;case 41:return 72;break;case 42:yy_.yytext=yy_.yytext.replace(/\\([\\\]])/g,"$1");return 72;break;case 43:return"INVALID";break;case 44:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];lexer.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();exports.__esModule=true;exports["default"]=handlebars},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _visitor=__webpack_require__(25);var _visitor2=_interopRequireDefault(_visitor);function WhitespaceControl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=options}WhitespaceControl.prototype=new _visitor2["default"];WhitespaceControl.prototype.Program=function(program){var doStandalone=!this.options.ignoreStandalone;var isRoot=!this.isRootSeen;this.isRootSeen=true;var body=program.body;for(var i=0,l=body.length;i<l;i++){var current=body[i],strip=this.accept(current);if(!strip){continue}var _isPrevWhitespace=isPrevWhitespace(body,i,isRoot),_isNextWhitespace=isNextWhitespace(body,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;if(strip.close){omitRight(body,i,true)}if(strip.open){omitLeft(body,i,true)}if(doStandalone&&inlineStandalone){omitRight(body,i);if(omitLeft(body,i)){if(current.type==="PartialStatement"){current.indent=/([ \t]+$)/.exec(body[i-1].original)[1]}}}if(doStandalone&&openStandalone){omitRight((current.program||current.inverse).body);omitLeft(body,i)}if(doStandalone&&closeStandalone){omitRight(body,i);omitLeft((current.inverse||current.program).body)}}return program};WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(block){this.accept(block.program);this.accept(block.inverse);var program=block.program||block.inverse,inverse=block.program&&block.inverse,firstInverse=inverse,lastInverse=inverse;if(inverse&&inverse.chained){firstInverse=inverse.body[0].program;while(lastInverse.chained){lastInverse=lastInverse.body[lastInverse.body.length-1].program}}var strip={open:block.openStrip.open,close:block.closeStrip.close,openStandalone:isNextWhitespace(program.body),closeStandalone:isPrevWhitespace((firstInverse||program).body)};if(block.openStrip.close){omitRight(program.body,null,true)}if(inverse){var inverseStrip=block.inverseStrip;if(inverseStrip.open){omitLeft(program.body,null,true)}if(inverseStrip.close){omitRight(firstInverse.body,null,true)}if(block.closeStrip.open){omitLeft(lastInverse.body,null,true)}if(!this.options.ignoreStandalone&&isPrevWhitespace(program.body)&&isNextWhitespace(firstInverse.body)){omitLeft(program.body);omitRight(firstInverse.body)}}else if(block.closeStrip.open){omitLeft(program.body,null,true)}return strip};WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(mustache){return mustache.strip};WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(node){var strip=node.strip||{};return{inlineStandalone:true,open:strip.open,close:strip.close}};function isPrevWhitespace(body,i,isRoot){if(i===undefined){i=body.length}var prev=body[i-1],sibling=body[i-2];if(!prev){return isRoot}if(prev.type==="ContentStatement"){return(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original)}}function isNextWhitespace(body,i,isRoot){if(i===undefined){i=-1}var next=body[i+1],sibling=body[i+2];if(!next){return isRoot}if(next.type==="ContentStatement"){return(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original)}}function omitRight(body,i,multiple){var current=body[i==null?0:i+1];if(!current||current.type!=="ContentStatement"||!multiple&&current.rightStripped){return}var original=current.value;current.value=current.value.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,"");current.rightStripped=current.value!==original}function omitLeft(body,i,multiple){var current=body[i==null?body.length-1:i-1];if(!current||current.type!=="ContentStatement"||!multiple&&current.leftStripped){return}var original=current.value;current.value=current.value.replace(multiple?/\s+$/:/[ \t]+$/,"");current.leftStripped=current.value!==original;return current.leftStripped}exports["default"]=WhitespaceControl;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);function Visitor(){this.parents=[]}Visitor.prototype={constructor:Visitor,mutating:false,acceptKey:function acceptKey(node,name){var value=this.accept(node[name]);if(this.mutating){if(value&&!Visitor.prototype[value.type]){throw new _exception2["default"]('Unexpected node type "'+value.type+'" found when accepting '+name+" on "+node.type)}node[name]=value}},acceptRequired:function acceptRequired(node,name){this.acceptKey(node,name);if(!node[name]){throw new _exception2["default"](node.type+" requires "+name)}},acceptArray:function acceptArray(array){for(var i=0,l=array.length;i<l;i++){this.acceptKey(array,i);if(!array[i]){array.splice(i,1);i--;l--}}},accept:function accept(object){if(!object){return}if(!this[object.type]){throw new _exception2["default"]("Unknown type: "+object.type,object)}if(this.current){this.parents.unshift(this.current)}this.current=object;var ret=this[object.type](object);this.current=this.parents.shift();if(!this.mutating||ret){return ret}else if(ret!==false){return object}},Program:function Program(program){this.acceptArray(program.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function PartialBlockStatement(partial){visitPartial.call(this,partial);this.acceptKey(partial,"program")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:visitSubExpression,PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(hash){this.acceptArray(hash.pairs)},HashPair:function HashPair(pair){this.acceptRequired(pair,"value")}};function visitSubExpression(mustache){this.acceptRequired(mustache,"path");this.acceptArray(mustache.params);this.acceptKey(mustache,"hash")}function visitBlock(block){visitSubExpression.call(this,block);this.acceptKey(block,"program");this.acceptKey(block,"inverse")}function visitPartial(partial){this.acceptRequired(partial,"name");this.acceptArray(partial.params);this.acceptKey(partial,"hash")}exports["default"]=Visitor;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.SourceLocation=SourceLocation;exports.id=id;exports.stripFlags=stripFlags;exports.stripComment=stripComment;exports.preparePath=preparePath;exports.prepareMustache=prepareMustache;exports.prepareRawBlock=prepareRawBlock;exports.prepareBlock=prepareBlock;exports.prepareProgram=prepareProgram;exports.preparePartialBlock=preparePartialBlock;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);function validateClose(open,close){close=close.path?close.path.original:close;if(open.path.original!==close){var errorNode={loc:open.path.loc};throw new _exception2["default"](open.path.original+" doesn't match "+close,errorNode)}}function SourceLocation(source,locInfo){this.source=source;this.start={line:locInfo.first_line,column:locInfo.first_column};this.end={line:locInfo.last_line,column:locInfo.last_column}}function id(token){if(/^\[.*\]$/.test(token)){return token.substr(1,token.length-2)}else{return token}}function stripFlags(open,close){return{open:open.charAt(2)==="~",close:close.charAt(close.length-3)==="~"}}function stripComment(comment){return comment.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(data,parts,loc){loc=this.locInfo(loc);var original=data?"@":"",dig=[],depth=0,depthString="";for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part,isLiteral=parts[i].original!==part;original+=(parts[i].separator||"")+part;if(!isLiteral&&(part===".."||part==="."||part==="this")){if(dig.length>0){throw new _exception2["default"]("Invalid path: "+original,{loc:loc})}else if(part===".."){depth++;depthString+="../"}}else{dig.push(part)}}return{type:"PathExpression",data:data,depth:depth,parts:dig,original:original,loc:loc}}function prepareMustache(path,params,hash,open,strip,locInfo){var escapeFlag=open.charAt(3)||open.charAt(2),escaped=escapeFlag!=="{"&&escapeFlag!=="&";var decorator=/\*/.test(open);return{type:decorator?"Decorator":"MustacheStatement",
path:path,params:params,hash:hash,escaped:escaped,strip:strip,loc:this.locInfo(locInfo)}}function prepareRawBlock(openRawBlock,contents,close,locInfo){validateClose(openRawBlock,close);locInfo=this.locInfo(locInfo);var program={type:"Program",body:contents,strip:{},loc:locInfo};return{type:"BlockStatement",path:openRawBlock.path,params:openRawBlock.params,hash:openRawBlock.hash,program:program,openStrip:{},inverseStrip:{},closeStrip:{},loc:locInfo}}function prepareBlock(openBlock,program,inverseAndProgram,close,inverted,locInfo){if(close&&close.path){validateClose(openBlock,close)}var decorator=/\*/.test(openBlock.open);program.blockParams=openBlock.blockParams;var inverse=undefined,inverseStrip=undefined;if(inverseAndProgram){if(decorator){throw new _exception2["default"]("Unexpected inverse block on decorator",inverseAndProgram)}if(inverseAndProgram.chain){inverseAndProgram.program.body[0].closeStrip=close.strip}inverseStrip=inverseAndProgram.strip;inverse=inverseAndProgram.program}if(inverted){inverted=inverse;inverse=program;program=inverted}return{type:decorator?"DecoratorBlock":"BlockStatement",path:openBlock.path,params:openBlock.params,hash:openBlock.hash,program:program,inverse:inverse,openStrip:openBlock.strip,inverseStrip:inverseStrip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}function prepareProgram(statements,loc){if(!loc&&statements.length){var firstLoc=statements[0].loc,lastLoc=statements[statements.length-1].loc;if(firstLoc&&lastLoc){loc={source:firstLoc.source,start:{line:firstLoc.start.line,column:firstLoc.start.column},end:{line:lastLoc.end.line,column:lastLoc.end.column}}}}return{type:"Program",body:statements,strip:{},loc:loc}}function preparePartialBlock(open,program,close,locInfo){validateClose(open,close);return{type:"PartialBlockStatement",name:open.path,params:open.params,hash:open.hash,program:program,openStrip:open.strip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.Compiler=Compiler;exports.precompile=precompile;exports.compile=compile;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _utils=__webpack_require__(5);var _ast=__webpack_require__(21);var _ast2=_interopRequireDefault(_ast);var slice=[].slice;function Compiler(){}Compiler.prototype={compiler:Compiler,equals:function equals(other){var len=this.opcodes.length;if(other.opcodes.length!==len){return false}for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args)){return false}}len=this.children.length;for(var i=0;i<len;i++){if(!this.children[i].equals(other.children[i])){return false}}return true},guid:0,compile:function compile(program,options){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=options;this.stringParams=options.stringParams;this.trackIds=options.trackIds;options.blockParams=options.blockParams||[];var knownHelpers=options.knownHelpers;options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true};if(knownHelpers){for(var _name in knownHelpers){if(_name in knownHelpers){options.knownHelpers[_name]=knownHelpers[_name]}}}return this.accept(program)},compileProgram:function compileProgram(program){var childCompiler=new this.compiler,result=childCompiler.compile(program,this.options),guid=this.guid++;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;this.useDepths=this.useDepths||result.useDepths;return guid},accept:function accept(node){if(!this[node.type]){throw new _exception2["default"]("Unknown type: "+node.type,node)}this.sourceNode.unshift(node);var ret=this[node.type](node);this.sourceNode.shift();return ret},Program:function Program(program){this.options.blockParams.unshift(program.blockParams);var body=program.body,bodyLength=body.length;for(var i=0;i<bodyLength;i++){this.accept(body[i])}this.options.blockParams.shift();this.isSimple=bodyLength===1;this.blockParams=program.blockParams?program.blockParams.length:0;return this},BlockStatement:function BlockStatement(block){transformLiteralToPath(block);var program=block.program,inverse=block.inverse;program=program&&this.compileProgram(program);inverse=inverse&&this.compileProgram(inverse);var type=this.classifySexpr(block);if(type==="helper"){this.helperSexpr(block,program,inverse)}else if(type==="simple"){this.simpleSexpr(block);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("blockValue",block.path.original)}else{this.ambiguousSexpr(block,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function DecoratorBlock(decorator){var program=decorator.program&&this.compileProgram(decorator.program);var params=this.setupFullMustacheParams(decorator,program,undefined),path=decorator.path;this.useDecorators=true;this.opcode("registerDecorator",params.length,path.original)},PartialStatement:function PartialStatement(partial){this.usePartial=true;var program=partial.program;if(program){program=this.compileProgram(partial.program)}var params=partial.params;if(params.length>1){throw new _exception2["default"]("Unsupported number of partial arguments: "+params.length,partial)}else if(!params.length){if(this.options.explicitPartialContext){this.opcode("pushLiteral","undefined")}else{params.push({type:"PathExpression",parts:[],depth:0})}}var partialName=partial.name.original,isDynamic=partial.name.type==="SubExpression";if(isDynamic){this.accept(partial.name)}this.setupFullMustacheParams(partial,program,undefined,true);var indent=partial.indent||"";if(this.options.preventIndent&&indent){this.opcode("appendContent",indent);indent=""}this.opcode("invokePartial",isDynamic,partialName,indent);this.opcode("append")},PartialBlockStatement:function PartialBlockStatement(partialBlock){this.PartialStatement(partialBlock)},MustacheStatement:function MustacheStatement(mustache){this.SubExpression(mustache);if(mustache.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},Decorator:function Decorator(decorator){this.DecoratorBlock(decorator)},ContentStatement:function ContentStatement(content){if(content.value){this.opcode("appendContent",content.value)}},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(sexpr){transformLiteralToPath(sexpr);var type=this.classifySexpr(sexpr);if(type==="simple"){this.simpleSexpr(sexpr)}else if(type==="helper"){this.helperSexpr(sexpr)}else{this.ambiguousSexpr(sexpr)}},ambiguousSexpr:function ambiguousSexpr(sexpr,program,inverse){var path=sexpr.path,name=path.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",path.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);path.strict=true;this.accept(path);this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function simpleSexpr(sexpr){var path=sexpr.path;path.strict=true;this.accept(path);this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),path=sexpr.path,name=path.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else if(this.options.knownHelpersOnly){throw new _exception2["default"]("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr)}else{path.strict=true;path.falsy=true;this.accept(path);this.opcode("invokeHelper",params.length,path.original,_ast2["default"].helpers.simpleId(path))}},PathExpression:function PathExpression(path){this.addDepth(path.depth);this.opcode("getContext",path.depth);var name=path.parts[0],scoped=_ast2["default"].helpers.scopedId(path),blockParamId=!path.depth&&!scoped&&this.blockParamIndex(name);if(blockParamId){this.opcode("lookupBlockParam",blockParamId,path.parts)}else if(!name){this.opcode("pushContext")}else if(path.data){this.options.data=true;this.opcode("lookupData",path.depth,path.parts,path.strict)}else{this.opcode("lookupOnContext",path.parts,path.falsy,path.strict,scoped)}},StringLiteral:function StringLiteral(string){this.opcode("pushString",string.value)},NumberLiteral:function NumberLiteral(number){this.opcode("pushLiteral",number.value)},BooleanLiteral:function BooleanLiteral(bool){this.opcode("pushLiteral",bool.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(hash){var pairs=hash.pairs,i=0,l=pairs.length;this.opcode("pushHash");for(;i<l;i++){this.pushParam(pairs[i].value)}while(i--){this.opcode("assignToHash",pairs[i].key)}this.opcode("popHash")},opcode:function opcode(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(depth){if(!depth){return}this.useDepths=true},classifySexpr:function classifySexpr(sexpr){var isSimple=_ast2["default"].helpers.simpleId(sexpr.path);var isBlockParam=isSimple&&!!this.blockParamIndex(sexpr.path.parts[0]);var isHelper=!isBlockParam&&_ast2["default"].helpers.helperExpression(sexpr);var isEligible=!isBlockParam&&(isHelper||isSimple);if(isEligible&&!isHelper){var _name2=sexpr.path.parts[0],options=this.options;if(options.knownHelpers[_name2]){isHelper=true}else if(options.knownHelpersOnly){isEligible=false}}if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else{return"simple"}},pushParams:function pushParams(params){for(var i=0,l=params.length;i<l;i++){this.pushParam(params[i])}},pushParam:function pushParam(val){var value=val.value!=null?val.value:val.original||"";if(this.stringParams){if(value.replace){value=value.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(val.depth){this.addDepth(val.depth)}this.opcode("getContext",val.depth||0);this.opcode("pushStringParam",value,val.type);if(val.type==="SubExpression"){this.accept(val)}}else{if(this.trackIds){var blockParamIndex=undefined;if(val.parts&&!_ast2["default"].helpers.scopedId(val)&&!val.depth){blockParamIndex=this.blockParamIndex(val.parts[0])}if(blockParamIndex){var blockParamChild=val.parts.slice(1).join(".");this.opcode("pushId","BlockParam",blockParamIndex,blockParamChild)}else{value=val.original||value;if(value.replace){value=value.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")}this.opcode("pushId",val.type,value)}}this.accept(val)}},setupFullMustacheParams:function setupFullMustacheParams(sexpr,program,inverse,omitEmpty){var params=sexpr.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(sexpr.hash){this.accept(sexpr.hash)}else{this.opcode("emptyHash",omitEmpty)}return params},blockParamIndex:function blockParamIndex(name){for(var depth=0,len=this.options.blockParams.length;depth<len;depth++){var blockParams=this.options.blockParams[depth],param=blockParams&&_utils.indexOf(blockParams,name);if(blockParams&&param>=0){return[depth,param]}}}};function precompile(input,options,env){if(input==null||typeof input!=="string"&&input.type!=="Program"){throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){if(options===undefined)options={};if(input==null||typeof input!=="string"&&input.type!=="Program"){throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input)}if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}var compiled=undefined;function compileInput(){var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,undefined,true);return env.template(templateSpec)}function ret(context,execOptions){if(!compiled){compiled=compileInput()}return compiled.call(this,context,execOptions)}ret._setup=function(setupOptions){if(!compiled){compiled=compileInput()}return compiled._setup(setupOptions)};ret._child=function(i,data,blockParams,depths){if(!compiled){compiled=compileInput()}return compiled._child(i,data,blockParams,depths)};return ret}function argEquals(a,b){if(a===b){return true}if(_utils.isArray(a)&&_utils.isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++){if(!argEquals(a[i],b[i])){return false}}return true}}function transformLiteralToPath(sexpr){if(!sexpr.path.parts){var literal=sexpr.path;sexpr.path={type:"PathExpression",data:false,depth:0,parts:[literal.original+""],original:literal.original+"",loc:literal.loc}}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _base=__webpack_require__(4);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _utils=__webpack_require__(5);var _codeGen=__webpack_require__(29);var _codeGen2=_interopRequireDefault(_codeGen);function Literal(value){this.value=value}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(parent,name){if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return[parent,".",name]}else{return[parent,"[",JSON.stringify(name),"]"]}},depthedLookup:function depthedLookup(name){return[this.aliasable("container.lookup"),'(depths, "',name,'")']},compilerInfo:function compilerInfo(){var revision=_base.COMPILER_REVISION,versions=_base.REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function appendToBuffer(source,location,explicit){if(!_utils.isArray(source)){source=[source]}source=this.source.wrap(source,location);if(this.environment.isSimple){return["return ",source,";"]}else if(explicit){return["buffer += ",source,";"]}else{source.appendToBuffer=true;return source}},initializeBuffer:function initializeBuffer(){return this.quotedString("")},compile:function compile(environment,options,context,asObject){this.environment=environment;this.options=options;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!asObject;this.name=this.environment.name;this.isChild=!!context;this.context=context||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(environment,options);this.useDepths=this.useDepths||environment.useDepths||environment.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||environment.useBlockParams;var opcodes=environment.opcodes,opcode=undefined,firstLoc=undefined,i=undefined,l=undefined;for(i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];this.source.currentLocation=opcode.loc;firstLoc=firstLoc||opcode.loc;this[opcode.opcode].apply(this,opcode.args)}this.source.currentLocation=firstLoc;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new _exception2["default"]("Compile completed with content left on stack")}if(!this.decorators.isEmpty()){this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(asObject){this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()])}else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}else{this.decorators=undefined}var fn=this.createFunctionContext(asObject);if(!this.isChild){var ret={compiler:this.compilerInfo(),main:fn};if(this.decorators){ret.main_d=this.decorators;ret.useDecorators=true}var _context=this.context;var programs=_context.programs;var decorators=_context.decorators;for(i=0,l=programs.length;i<l;i++){if(programs[i]){ret[i]=programs[i];if(decorators[i]){ret[i+"_d"]=decorators[i];ret.useDecorators=true}}}if(this.environment.usePartial){ret.usePartial=true}if(this.options.data){ret.useData=true}if(this.useDepths){ret.useDepths=true}if(this.useBlockParams){ret.useBlockParams=true}if(this.options.compat){ret.compat=true}if(!asObject){ret.compiler=JSON.stringify(ret.compiler);this.source.currentLocation={start:{line:1,column:0}};ret=this.objectLiteral(ret);if(options.srcName){ret=ret.toStringWithSourceMap({file:options.destName});ret.map=ret.map&&ret.map.toString()}else{ret=ret.toString()}}else{ret.compilerOptions=this.options}return ret}else{return fn}},preamble:function preamble(){this.lastContext=0;this.source=new _codeGen2["default"](this.options.srcName);this.decorators=new _codeGen2["default"](this.options.srcName)},createFunctionContext:function createFunctionContext(asObject){var varDeclarations="";var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){varDeclarations+=", "+locals.join(", ")}var aliasCount=0;for(var alias in this.aliases){var node=this.aliases[alias];if(this.aliases.hasOwnProperty(alias)&&node.children&&node.referenceCount>1){varDeclarations+=", alias"+ ++aliasCount+"="+alias;node.children[0]="alias"+aliasCount}}var params=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){params.push("blockParams")}if(this.useDepths){params.push("depths")}var source=this.mergeSource(varDeclarations);if(asObject){params.push(source);return Function.apply(this,params)}else{return this.source.wrap(["function(",params.join(","),") {\n  ",source,"}"])}},mergeSource:function mergeSource(varDeclarations){var isSimple=this.environment.isSimple,appendOnly=!this.forceBuffer,appendFirst=undefined,sourceSeen=undefined,bufferStart=undefined,bufferEnd=undefined;this.source.each(function(line){if(line.appendToBuffer){if(bufferStart){line.prepend("  + ")}else{bufferStart=line}bufferEnd=line}else{if(bufferStart){if(!sourceSeen){appendFirst=true}else{bufferStart.prepend("buffer += ")}bufferEnd.add(";");bufferStart=bufferEnd=undefined}sourceSeen=true;if(!isSimple){appendOnly=false}}});if(appendOnly){if(bufferStart){bufferStart.prepend("return ");bufferEnd.add(";")}else if(!sourceSeen){this.source.push('return "";')}}else{varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer());if(bufferStart){bufferStart.prepend("return buffer + ");bufferEnd.add(";")}else{this.source.push("return buffer;")}}if(varDeclarations){this.source.prepend("var "+varDeclarations.substring(2)+(appendFirst?"":";\n"))}return this.source.merge()},blockValue:function blockValue(name){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName);this.push(this.source.functionCall(blockHelperMissing,"call",params))},ambiguousBlockValue:function ambiguousBlockValue(){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs("",0,params,true);this.flushInline();var current=this.topStack();params.splice(1,0,current);this.pushSource(["if (!",this.lastHelper,") { ",current," = ",this.source.functionCall(blockHelperMissing,"call",params),"}"])},appendContent:function appendContent(content){if(this.pendingContent){content=this.pendingContent+content}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=content},append:function append(){if(this.isInline()){this.replaceStack(function(current){return[" != null ? ",current,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var local=this.popStack();this.pushSource(["if (",local," != null) { ",this.appendToBuffer(local,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(depth){this.lastContext=depth},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(parts,falsy,strict,scoped){var i=0;if(!scoped&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(parts[i++]))}else{this.pushContext()}this.resolvePath("context",parts,i,falsy,strict)},lookupBlockParam:function lookupBlockParam(blockParamId,parts){this.useBlockParams=true;this.push(["blockParams[",blockParamId[0],"][",blockParamId[1],"]"]);this.resolvePath("context",parts,1)},lookupData:function lookupData(depth,parts,strict){if(!depth){this.pushStackLiteral("data")}else{this.pushStackLiteral("container.data(data, "+depth+")")}this.resolvePath("data",parts,0,true,strict)},resolvePath:function resolvePath(type,parts,i,falsy,strict){var _this=this;if(this.options.strict||this.options.assumeObjects){this.push(strictLookup(this.options.strict&&strict,this,parts,type));return}var len=parts.length;for(;i<len;i++){this.replaceStack(function(current){var lookup=_this.nameLookup(current,parts[i],type);if(!falsy){return[" != null ? ",lookup," : ",current]}else{return[" && ",lookup]}})}},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(string,type){this.pushContext();this.pushString(type);if(type!=="SubExpression"){if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}}},emptyHash:function emptyHash(omitEmpty){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(omitEmpty?"undefined":"{}")},pushHash:function pushHash(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function popHash(){var hash=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(hash.ids))}if(this.stringParams){this.push(this.objectLiteral(hash.contexts));this.push(this.objectLiteral(hash.types))}this.push(this.objectLiteral(hash.values))},pushString:function pushString(string){this.pushStackLiteral(this.quotedString(string))},pushLiteral:function pushLiteral(value){this.pushStackLiteral(value)},pushProgram:function pushProgram(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},registerDecorator:function registerDecorator(paramSize,name){var foundDecorator=this.nameLookup("decorators",name,"decorator"),options=this.setupHelperArgs(name,paramSize);this.decorators.push(["fn = ",this.decorators.functionCall(foundDecorator,"",["fn","props","container",options])," || fn;"])},invokeHelper:function invokeHelper(paramSize,name,isSimple){var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),simple=isSimple?[helper.name," || "]:"";var lookup=["("].concat(simple,nonHelper);if(!this.options.strict){lookup.push(" || ",this.aliasable("helpers.helperMissing"))}lookup.push(")");this.push(this.source.functionCall(lookup,"call",helper.callParams))},invokeKnownHelper:function invokeKnownHelper(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(this.source.functionCall(helper.name,"call",helper.callParams))},invokeAmbiguous:function invokeAmbiguous(name,helperCall){this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");var lookup=["(","(helper = ",helperName," || ",nonHelper,")"];if(!this.options.strict){lookup[0]="(helper = ";lookup.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",lookup,helper.paramsInit?["),(",helper.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",helper.callParams)," : helper))"])},invokePartial:function invokePartial(isDynamic,name,indent){var params=[],options=this.setupParams(name,1,params);if(isDynamic){name=this.popStack();delete options.name}if(indent){options.indent=JSON.stringify(indent)}options.helpers="helpers";options.partials="partials";options.decorators="container.decorators";if(!isDynamic){params.unshift(this.nameLookup("partials",name,"partial"))}else{params.unshift(name)}if(this.options.compat){options.depths="depths"}options=this.objectLiteral(options);params.push(options);this.push(this.source.functionCall("container.invokePartial","",params))},assignToHash:function assignToHash(key){var value=this.popStack(),context=undefined,type=undefined,id=undefined;if(this.trackIds){id=this.popStack()}if(this.stringParams){type=this.popStack();context=this.popStack()}var hash=this.hash;if(context){hash.contexts[key]=context}if(type){hash.types[key]=type}if(id){hash.ids[key]=id}hash.values[key]=value},pushId:function pushId(type,name,child){if(type==="BlockParam"){this.pushStackLiteral("blockParams["+name[0]+"].path["+name[1]+"]"+(child?" + "+JSON.stringify("."+child):""))}else if(type==="PathExpression"){this.pushString(name)}else if(type==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:JavaScriptCompiler,compileChildren:function compileChildren(environment,options){var children=environment.children,child=undefined,compiler=undefined;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push("");index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile);this.context.decorators[index]=compiler.decorators;this.context.environments[index]=child;this.useDepths=this.useDepths||compiler.useDepths;this.useBlockParams=this.useBlockParams||compiler.useBlockParams}else{child.index=index;child.name="program"+index;this.useDepths=this.useDepths||child.useDepths;this.useBlockParams=this.useBlockParams||child.useBlockParams}}},matchExistingProgram:function matchExistingProgram(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child)){return i}}},programExpression:function programExpression(guid){var child=this.environment.children[guid],programParams=[child.index,"data",child.blockParams];if(this.useBlockParams||this.useDepths){programParams.push("blockParams")}if(this.useDepths){programParams.push("depths")}return"container.program("+programParams.join(", ")+")"},useRegister:function useRegister(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},push:function push(expr){if(!(expr instanceof Literal)){expr=this.source.wrap(expr)}this.inlineStack.push(expr);return expr},pushStackLiteral:function pushStackLiteral(item){this.push(new Literal(item))},pushSource:function pushSource(source){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(source){this.source.push(source)}},replaceStack:function replaceStack(callback){var prefix=["("],stack=undefined,createdStack=undefined,usedLiteral=undefined;if(!this.isInline()){throw new _exception2["default"]("replaceStack on non-inline")}var top=this.popStack(true);if(top instanceof Literal){stack=[top.value];prefix=["(",stack];usedLiteral=true}else{createdStack=true;var _name=this.incrStack();prefix=["((",this.push(_name)," = ",top,")"];stack=this.topStack()}var item=callback.call(this,stack);if(!usedLiteral){this.popStack()}if(createdStack){this.stackSlot--}this.push(prefix.concat(item,")"))},incrStack:function incrStack(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var inlineStack=this.inlineStack;this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else{var stack=this.incrStack();this.pushSource([stack," = ",entry,";"]);this.compileStack.push(stack)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal){return item.value}else{if(!inline){if(!this.stackSlot){throw new _exception2["default"]("Invalid stack pop")}this.stackSlot--}return item}},topStack:function topStack(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];if(item instanceof Literal){return item.value}else{return item}},contextName:function contextName(context){if(this.useDepths&&context){return"depths["+context+"]"}else{return"depth"+context}},quotedString:function quotedString(str){return this.source.quotedString(str)},objectLiteral:function objectLiteral(obj){return this.source.objectLiteral(obj)},aliasable:function aliasable(name){var ret=this.aliases[name];if(ret){ret.referenceCount++;return ret}ret=this.aliases[name]=this.source.wrap(name);ret.aliasable=true;ret.referenceCount=1;return ret},setupHelper:function setupHelper(paramSize,name,blockHelper){var params=[],paramsInit=this.setupHelperArgs(name,paramSize,params,blockHelper);var foundHelper=this.nameLookup("helpers",name,"helper"),callContext=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:[callContext].concat(params)}},setupParams:function setupParams(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],objectArgs=!params,param=undefined;if(objectArgs){params=[]}options.name=this.quotedString(helper);options.hash=this.popStack();if(this.trackIds){options.hashIds=this.popStack()}if(this.stringParams){options.hashTypes=this.popStack();options.hashContexts=this.popStack()}var inverse=this.popStack(),program=this.popStack();if(program||inverse){options.fn=program||"container.noop";options.inverse=inverse||"container.noop"}var i=paramSize;while(i--){param=this.popStack();params[i]=param;if(this.trackIds){ids[i]=this.popStack()}if(this.stringParams){types[i]=this.popStack();contexts[i]=this.popStack()}}if(objectArgs){options.args=this.source.generateArray(params)}if(this.trackIds){options.ids=this.source.generateArray(ids)}if(this.stringParams){options.types=this.source.generateArray(types);options.contexts=this.source.generateArray(contexts)}if(this.options.data){options.data="data"}if(this.useBlockParams){options.blockParams="blockParams"}return options},setupHelperArgs:function setupHelperArgs(helper,paramSize,params,useRegister){var options=this.setupParams(helper,paramSize,params);options=this.objectLiteral(options);if(useRegister){this.useRegister("options");params.push("options");return["options=",options]}else if(params){params.push(options);return""}else{return options}}};(function(){var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");
var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}})();JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)};function strictLookup(requireTerminal,compiler,parts,type){var stack=compiler.popStack(),i=0,len=parts.length;if(requireTerminal){len--}for(;i<len;i++){stack=compiler.nameLookup(stack,parts[i],type)}if(requireTerminal){return[compiler.aliasable("container.strict"),"(",stack,", ",compiler.quotedString(parts[i]),")"]}else{return stack}}exports["default"]=JavaScriptCompiler;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);var SourceNode=undefined;try{if(false){var SourceMap=require("source-map");SourceNode=SourceMap.SourceNode}}catch(err){}if(!SourceNode){SourceNode=function(line,column,srcFile,chunks){this.src="";if(chunks){this.add(chunks)}};SourceNode.prototype={add:function add(chunks){if(_utils.isArray(chunks)){chunks=chunks.join("")}this.src+=chunks},prepend:function prepend(chunks){if(_utils.isArray(chunks)){chunks=chunks.join("")}this.src=chunks+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}}function castChunk(chunk,codeGen,loc){if(_utils.isArray(chunk)){var ret=[];for(var i=0,len=chunk.length;i<len;i++){ret.push(codeGen.wrap(chunk[i],loc))}return ret}else if(typeof chunk==="boolean"||typeof chunk==="number"){return chunk+""}return chunk}function CodeGen(srcFile){this.srcFile=srcFile;this.source=[]}CodeGen.prototype={isEmpty:function isEmpty(){return!this.source.length},prepend:function prepend(source,loc){this.source.unshift(this.wrap(source,loc))},push:function push(source,loc){this.source.push(this.wrap(source,loc))},merge:function merge(){var source=this.empty();this.each(function(line){source.add(["  ",line,"\n"])});return source},each:function each(iter){for(var i=0,len=this.source.length;i<len;i++){iter(this.source[i])}},empty:function empty(){var loc=this.currentLocation||{start:{}};return new SourceNode(loc.start.line,loc.start.column,this.srcFile)},wrap:function wrap(chunk){var loc=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(chunk instanceof SourceNode){return chunk}chunk=castChunk(chunk,this,loc);return new SourceNode(loc.start.line,loc.start.column,this.srcFile,chunk)},functionCall:function functionCall(fn,type,params){params=this.generateList(params);return this.wrap([fn,type?"."+type+"(":"(",params,")"])},quotedString:function quotedString(str){return'"'+(str+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(obj){var pairs=[];for(var key in obj){if(obj.hasOwnProperty(key)){var value=castChunk(obj[key],this);if(value!=="undefined"){pairs.push([this.quotedString(key),":",value])}}}var ret=this.generateList(pairs);ret.prepend("{");ret.add("}");return ret},generateList:function generateList(entries){var ret=this.empty();for(var i=0,len=entries.length;i<len;i++){if(i){ret.add(",")}ret.add(castChunk(entries[i],this))}return ret},generateArray:function generateArray(entries){var ret=this.generateList(entries);ret.prepend("[");ret.add("]");return ret}};exports["default"]=CodeGen;module.exports=exports["default"]}])});
(function($){$.fn.popupWindow=function(instanceSettings){return this.each(function(){$(this).click(function(){$.fn.popupWindow.defaultSettings={centerBrowser:1,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0};settings=$.extend({},$.fn.popupWindow.defaultSettings,instanceSettings||{});var windowFeatures="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;settings.windowName=this.name||settings.windowName;settings.windowURL=$(this).data("link")||settings.windowURL;var centeredY,centeredX;if(settings.centerBrowser){centeredY=window.screenY+(window.outerHeight/2-settings.height/2);centeredX=window.screenX+(window.outerWidth/2-settings.width/2);window.open(settings.windowURL,settings.windowName,windowFeatures+",left="+centeredX+",top="+centeredY).focus()}else if(settings.centerScreen){centeredY=(screen.height-settings.height)/2;centeredX=(screen.width-settings.width)/2;window.open(settings.windowURL,settings.windowName,windowFeatures+",left="+centeredX+",top="+centeredY).focus()}else{window.open(settings.windowURL,settings.windowName,windowFeatures+",left="+settings.left+",top="+settings.top).focus()}var hasNoReturnClass=$(this).hasClass("popup-no-return");if(!hasNoReturnClass){return false}})})}})(jQuery);
var app=app||{};var ENTER_KEY=13;var ESC_KEY=27;$(function(){app.asset=function(image){if(!image){return""}return app.baseUrl.replace(/\/$/g,"")+"/"+image.replace(/^\//g,"")};app.assetTv=function(image){if(!image){return""}if(image.startsWith("http")){return image}return app.baseUrl.replace(/\/$/g,"")+"/awards/"+image.replace(/^\//g,"")};app.assetLocal=function(image){if(!image){return""}return app.baseUrlLocal.replace(/\/$/g,"")+"/"+image.replace(/^\//g,"")};app.userThumb=function(path,thumb){if(!path){return""}var dirname=path.replace(/^\//g,"").replace(/\\/g,"/").replace(/\/[^\/]*$/,"");var filename=path.replace(/\\/g,"/").replace(/\\/g,"/").replace(/.*\//,"");var pathThumb=filename.replace(/(\.[\w\d_-]+)$/i,"_"+thumb+"$1");return app.asset(dirname+"/thumb/"+pathThumb)};app.thumb=function(path,filter){if(!path){return""}var cleanPath=path.replace(/^\//g,"");return app.assetTv("media/cache/"+filter+"/"+cleanPath)};app.isAnimated=function(path){if(!path){return false}var animatedExtensions=["gif","mp4"];var extension=path.split(".").pop();return animatedExtensions.indexOf(extension)!=-1};app.isVideo=function(path){return path&&path.split(".").pop()==="mp4"};app.getStaticVersion=function(path){return path.substr(0,path.lastIndexOf("."))+"_static.jpeg"};app.icon=function(name,width,height,extra_classes){var iconPath="/bundles/tvweb/images/sprite-icons.svg#"+name;var extra_classes=!extra_classes||typeof extra_classes!="string"?"":" "+extra_classes;return'<svg class="ico-svg'+extra_classes+'" viewbox="0 0 '+width+" "+height+'" xmlns="http://www.w3.org/2000/svg"><use xlink:href="'+iconPath+'" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg>'};app.getImageInfo=function(image,defaultImage){if(!image){return{static:defaultImage,animated:defaultImage,is_animated:false,is_video:false}}var is_animated=app.isAnimated(image);var static_version=is_animated?app.getStaticVersion(image):image;var is_video=app.isVideo(image);return{static:static_version,animated:image,is_animated:is_animated,is_video:is_video}};app.getColClass=function(){var cols="col-3";var gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(gridView!="default"){cols="col-4"}return cols};"use strict";app.user={username:"",displayName:"",id:"",isUserLoggedIn:false,gridView:null,is_its_own_profile:false,initialize:function(){this.setUser();this.gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(this.gridView!="default"){setTimeout(function(){$(".grid-icon").html('<svg id="cols-view" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" class="ico-svg ico-13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#grid-2cols"></use></svg>')},300)}},isLoggedIn:function(){return this.isUserLoggedIn},isSameUserLoggedIn:function(userId){return userId>0&&userId==this.id},isSameUserLoggedInByUsername:function(username){return this.username&&username==this.username},isOneOfThese:function(userIds){if(!this.isUserLoggedIn){return false}return-1!==userIds.indexOf(parseInt(this.id))},setUser:function(){if($(".logged").length===0){return}$("body").find(".open_login").removeClass("open_login");var user=$(".logged").data("user");this.username=user.username;this.displayName=user.displayName;this.id=user.id;this.isUserLoggedIn=true;this.removeClassLogin()},getGridView:function(){return this.gridView},removeLoginIfLogged:function(){if(this.isUserLoggedIn){this.removeClassLogin()}},removeClassLogin:function(){$(".open_login").each(function(){$(this).removeClass("open_login")})},getUrl:function(){return Routing.generate("tv_user_homepage",{username:this.username})}};app.user.initialize();"use strict";var HistoryView=Backbone.View.extend({firstPoint:null,el:"body",reset:false,initialize:function(){var self=this;this.firstPoint=window.location.href;window.onpopstate=function(e){if(e.state){self._goBackHistory(e.state)}}},addHistoryPoint:function(history){if(history.datas.point=="first_state"){window.history.replaceState(history,"",history.url)}else{window.history.pushState(history,"",history.url)}},_goBackHistory:function(state){this.trigger("go_back_history_"+state.service,state)}});app.history=new HistoryView});
var app=app||{};(function(){app.dispatcher=_.clone(Backbone.Events);app.EVENTS={MENU_FILTER:"menu.filter"}})();
var app=app||{};(function(){app.buttons={load:function($button){var time=1e3;$button.find(".bt-load").remove();$button.append('<div class="bt-load"></div>');$button.addClass("is-loading");if($button.data("button")==="loading"){return}if($button.hasClass("active")){setTimeout(function(){$button.removeClass("is-loading");$button.removeClass("active");$button.find(".bt-content").text($button.data("text-start"))},time)}else{setTimeout(function(){$button.removeClass("is-loading");$button.addClass("active");$button.find(".bt-content").text($button.data("text-end"))},time)}}}})();
Handlebars.registerHelper("compare",function(lvalue,operator,rvalue,options){var operators,result;if(arguments.length<3){throw new Error("Handlerbars Helper 'compare' needs 2 parameters")}if(options===undefined){options=rvalue;rvalue=operator;operator="==="}operators={"==":function(l,r){return l==r},"===":function(l,r){return l===r},"!=":function(l,r){return l!=r},"!==":function(l,r){return l!==r},"<":function(l,r){return l<r},">":function(l,r){return l>r},"<=":function(l,r){return l<=r},">=":function(l,r){return l>=r},typeof:function(l,r){return typeof l==r}};if(!operators[operator]){throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+operator)}result=operators[operator](lvalue,rvalue);if(result){return options.fn(this)}else{return options.inverse(this)}});Handlebars.registerHelper("math",function(lvalue,operator,rvalue,options){lvalue=parseFloat(lvalue);rvalue=parseFloat(rvalue);return{"+":lvalue+rvalue,"-":lvalue-rvalue,"*":lvalue*rvalue,"/":lvalue/rvalue,"%":lvalue%rvalue}[operator]});Handlebars.registerHelper("darkenIfVoteActivity",function(item){if(item.type!="activity"){return}for(activity in item.actors){if(item.actors[activity].verb=="vote"){return" darken "}}return""});Handlebars.registerHelper("asset",function(path,options){return app.asset(path)});Handlebars.registerHelper("show_actors",function(activities){if(activities.length>1){var list='<ul class="list-users">';for(var i=0;i<activities.length;i++){var activity=activities[i];if(activity.verb=="collect"){list+='<li><div class="item"><img src="'+app.thumb(activity.actor.photo,"thumb_user_70")+'" width="32" height="32" alt="'+activity.actor.display_name+'"></div></li>'}}list+="</ul>";return new Handlebars.SafeString(list)}else{for(var i=0;i<activities.length;i++){var activity=activities[i];if(activity.verb=="collect"){var actors_view='<div class="user-info"><a href="'+Routing.generate("tv_user_homepage",{username:activity.actor.username})+'"><img src="'+app.thumb(activity.actor.photo,"thumb_user_70")+'" width="32" height="32"></a><div class="row"><strong><a href="'+Routing.generate("tv_user_homepage",{username:activity.actor.username})+'">'+activity.actor.display_name+'</a></strong></div><div class="row"><a href="'+activity.target.url+'">'+activity.target.name+"</a></div></div>"}}return new Handlebars.SafeString(actors_view)}});Handlebars.registerHelper("asset_local",function(path,options){return app.assetLocal(path)});Handlebars.registerHelper("number_format",function(number,options){return number.toFixed(2)});Handlebars.registerHelper("asset_tv",function(path,options){return app.assetTv(path)});Handlebars.registerHelper("asset_tv_user_thumb",function(path,thumb,options){return app.userThumb(path,thumb)});Handlebars.registerHelper("asset_thumb",function(path,thumb,options){return app.thumb(path,thumb)});Handlebars.registerHelper("add_http",function(url,options){if(!/^(?:f|ht)tps?\:\/\//.test(url)){url="http://"+url}return url});Handlebars.registerHelper("clean_url",function(url,options){return url.replace(/^https?:\/\//,"").replace(/^www\./,"")});Handlebars.registerHelper("icon",function(name,width,height,extra_classes,options){return new Handlebars.SafeString(app.icon(name,width,height,extra_classes))});Handlebars.registerHelper("icon-user",function(status,width,height,extra_classes,options){return new Handlebars.SafeString(app.icon("user-"+status,width,height,extra_classes))});Handlebars.registerHelper("color_for_note",function(score,options){var scoreInt=parseInt(score);var div="";if(scoreInt>=7){div='<div class="ico-check color-green"></div>'}else if(scoreInt<=4){div='<div class="ico-x"></div>'}return new Handlebars.SafeString(div)});Handlebars.registerHelper("path",function(path,options){return Routing.generate(path,options.hash)});
$(document).ready(function(){var Awwwards=Backbone.View.extend({el:"body",scrollPosition:0,menu:"default",heightToOpenScroll:140,tooltipUser:null,events:{keydown:"_triggerKeyPress","click .open_login":"openLoginLink","click #version-color":"_changeColor","click .js-nav-menu":"_openLanguageMenu","click .js-toggle":"_toggle","click .bt-gotop":"_goTop","mouseover .hover-animation":"_changeAnimated","mouseout .hover-animation":"_removeAnimation","mouseenter .js-user":"_openTooltip","mouseleave .js-user":"_closeTooltip","click #nav-main":"_stopPropagation","click #nav-main .dropdown":"_slideToggle","click .js-nav-main":"openMenu","click #nav-main a":"closeMenu","click .wrapper":"_wrapperClick","click .js-mobilefilters":"_mobileFilters","click .form-group":"_formClick","click .js-bt-loading":"_showLoadingButton","click .js-social":"_showNetworks"},initialize:function(){var self=this;$(".popup").popupWindow();if($("body").hasClass("style-dark")){$("#version-color").attr("checked","checked")}this._headerBehavior();var userContainer=this.$("#header .name");if(userContainer.length){this._addMenuUserMobile(userContainer)}this._registerListeners()},_showLoadingButton:function(ev){app.buttons.load($(ev.currentTarget))},_registerListeners:function(){app.dispatcher.on(app.EVENTS.MENU_FILTER,this.closeMenu,this)},_showNetworks:function(ev){$(ev.currentTarget).parent(".list-share-circles").find("ul").toggleClass("active")},_addMenuUserMobile:function(userContainer){var menuUser_name=userContainer.text();var menuUser_ul=this.$(".bt-menu-user ul").html();var $menuUser=$('<li class="dropdown has-mobile"><span class="item">'+menuUser_name+"</span><ul>"+menuUser_ul+"</ul></li>");$menuUser.clone().insertBefore("#menu-main li:first")},_formClick:function(ev){var form=$(ev.currentTarget);this.$(".form-group:not(.has-error)").not(form).each(function(){$(this).find(".msg-info").slideUp()});this.$(".form-group").removeClass("has-info");if(form.hasClass("has-error")){form.removeClass("has-error");form.find(".msg-info").show()}else{form.addClass("has-info");form.find(".msg-info").slideDown()}},_goTop:function(ev){ev.preventDefault();ev.stopPropagation();$("html, body").animate({scrollTop:0},800)},_mobileFilters:function(ev){if($(window).width()<700){this.$(".box-filters").toggleClass("mobile-show");this.$el.toggleClass("nav-sidebar-open");$(".box-filters").removeClass("active");ev.stopPropagation();ev.preventDefault()}},_slideToggle:function(ev){$(ev.currentTarget).find("ul").slideToggle()},_wrapperClick:function(){setTimeout(function(){this.$(".box-filters").removeClass("mobile-hide mobile-show")},300);this.$el.removeClass("nav-sidebar-open")},_stopPropagation:function(ev){ev.stopPropagation()},_toggle:function(ev){var clicked=$(ev.currentTarget);var id=clicked.data("id");$($("#"+id)).slideToggle()},_openLanguageMenu:function(ev){if(this.menu=="default"){var menu=$("#menu-lang");this.menu="lang"}else{var menu=$("#menu-main");this.menu="default"}$(".menu").removeClass("active");menu.addClass("active");$(ev.currentTarget).text(menu.data("menu-name"))},_headerBehavior:function(){var self=this;setTimeout(function(){$(window).scroll(function(){var scrollTop=$(window).scrollTop();if(scrollTop>self.heightToOpenScroll){$("#bt-submit").addClass("gotop");$(".bt-search").addClass("show-text")}else{$("#bt-submit").removeClass("gotop");$(".bt-search").removeClass("show-text")}if(scrollTop>70){$("#footer .bt-gotop").fadeIn()}else{$("#footer .bt-gotop").fadeOut()}})},300)},_triggerKeyPress:function(ev){this.trigger("key_press",ev.keyCode)},_changeAnimated:function(e){var current=$(e.currentTarget);current.attr("src",current.data("animated"))},_removeAnimation:function(e){var current=$(e.currentTarget);current.attr("src",current.data("src"))},_changeColor:function(){var value="style-dark";var text="Activate white option";if($("body").hasClass("style-dark")){var text="Activate black option";value=""}Cookies.set("style_view_page",value,{expires:7});$(".box-version > span").text(text);$("body").toggleClass("style-dark")},openLogin:function(){var login=new app.login;var lightbox=new app.LightBox;lightbox.show(login.render().el)},openLoginLink:function(ev){ev.preventDefault();app.awwwards.openLogin()},openMenu:function(){this.$el.toggleClass("nav-sidebar-open");$("html, body").animate({scrollTop:0},0);return false},closeMenu:function(){this.$el.removeClass("nav-sidebar-open")},_openTooltip:function(ev){var halfWindow=$(window).height()/2;var y=ev.clientY;var classBottom=halfWindow>y?"tooltip-bottom":"";var currentTarget=$(ev.currentTarget);var username=currentTarget.data("username");var tooltipModel=app.TooltipCollection.findOrCreateByUsername(username);this.tooltipUser=new app.Tooltip({model:tooltipModel,target:currentTarget,classBottom:classBottom}).render()},_closeTooltip:function(){if(this.tooltipUser){this.tooltipUser.abort()}}});app.awwwards=new Awwwards;var LightboxPool=Backbone.View.extend({zIndex:100,lightboxes:[],initialize:function(){var self=this;$(document).on("keyup",function(e){if(e.which===27&&self.lightboxes.length>0){self.lightboxes[self.lightboxes.length-1].close()}})},add:function(lightbox){this.lightboxes.push(lightbox);lightbox.$el.css("z-index",this.zIndex);this.zIndex++},remove:function(){this.lightboxes.pop();this.zIndex--}});app.lightboxes=new LightboxPool});
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["user"]=template({1:function(container,depth0,helpers,partials,data){return" darken "},3:function(container,depth0,helpers,partials,data){var stack1;return' data-src="'+container.escapeExpression((helpers.asset_thumb||depth0&&depth0.asset_thumb||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.background:stack1,"thumb_user_background_retina",{name:"asset_thumb",hash:{},data:data}))+'" class="lazy" '},5:function(container,depth0,helpers,partials,data){var stack1;return'                 <div class="note">'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.number:stack1,depth0))+"</div>\n"},7:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'            <div class="row"><strong><a href="'+alias3((helpers.add_http||depth0&&depth0.add_http||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,{name:"add_http",hash:{},data:data}))+'" class="url">'+alias3((helpers.clean_url||depth0&&depth0.clean_url||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,{name:"clean_url",hash:{},data:data}))+"</a></strong></div>\n"},9:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                    <li>\n                        <div class="tooltip">\n                            <div class="box-item '+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.title:stack1,"Total",{name:"compare",hash:{},fn:container.program(10,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n                                <span>'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1["let"]:stack1,depth0))+"</span>\n                                <strong>"+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.count:stack1,depth0))+'</strong>\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.title:stack1,depth0))+"</div>\n                            </div>\n                        </div>\n                    </li>\n"},10:function(container,depth0,helpers,partials,data){return"style-dark"},12:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                    <li>\n                        <div class="tooltip">\n                            <div class="box-item box-usertype style-dark js-usertype">\n                                <span class="text-uppercase">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,depth0))+"</span>\n                                "+alias2((helpers["icon-user"]||depth0&&depth0["icon-user"]||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,11,14,{name:"icon-user",hash:{},data:data}))+'\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,depth0))+" User</div>\n                            </div>\n                        </div>\n                    </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="box-item box-style4">\n    <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'" class="profile-link">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'</a>\n    <div class="box-cover">\n        <figure class="rollover '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_winner_list:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n            <img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto-directory.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'" '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.background:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+' alt="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'" />\n'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_winner_list:stack1,{name:"if",hash:{},fn:container.program(5,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        </figure>\n        <div class="avatar">\n            <img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'" width="70" height="70" data-src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1,"thumb_user_retina",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" alt="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'" class="lazy" />\n\n        </div>\n    </div>\n    <div class="box-info">\n        <div class="content">\n            <h3 class="row"><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+"</a></h3>\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,{name:"if",hash:{},fn:container.program(7,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'            <div class="row">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.country:stack1,depth0))+'</div>\n        </div>\n        <div class="footer">\n            <ul class="list-number-awards">\n'+((stack1=helpers.each.call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.awards:stack1,{name:"each",hash:{},fn:container.program(9,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_directory:stack1,{name:"if",hash:{},fn:container.program(12,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"            </ul>\n        </div>\n    </div>\n</div>\n"},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["user_follow"]=template({1:function(container,depth0,helpers,partials,data){return" active"},3:function(container,depth0,helpers,partials,data){return"Following User!"},5:function(container,depth0,helpers,partials,data){return"Follow User!"},7:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <li class="favorites">\n                        '+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following_count:stack1,depth0))+"\n                        "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"heart",15,14,{name:"icon",hash:{},data:data}))+"\n                    </li>\n"},9:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <li class="collections">\n                       '+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.colletions_count:stack1,depth0))+"\n                       "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"books",15.57,14,{name:"icon",hash:{},data:data}))+"\n                    </li>\n"},11:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <li class="awards">\n                        '+alias1(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.awards_count:stack1)!=null?stack1.total_awards:stack1,depth0))+"\n                        "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"medal",12.39,14,{name:"icon",hash:{},data:data}))+"\n                    </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="box-item box-style7">\n    <a class="profile-link" href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'</a>\n    <div class="box-info">\n        <div class="content">\n            <div class="bt-icon">\n                <div class="tooltip">\n                    <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n                        <span class="bt-content"></span>\n                    </div>\n                    <div class="box-tooltip">\n                        <div class="tooltip-text">'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))!=null?stack1:"")+'</div>\n                    </div>\n                </div>\n            </div>\n            <div class="avatar-profile">\n               <img width="70" height="70" src="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1,{name:"asset_tv",hash:{},data:data}))+'" data-src="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1,{name:"asset_tv",hash:{},data:data}))+'"/>\n                <div class="user-type">\n                    '+alias2((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.status:stack1,11,14,{name:"icon-user",hash:{},data:data}))+'\n                </div>\n            </div>\n            <h3 class="row"><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.display_name:stack1,depth0))+'</a></h3>\n            <div class="row">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.country:stack1,depth0))+'</div>\n            <div class="row">\n                <ul class="list-stats-icons">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following_count:stack1,">",0,{name:"compare",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.colletions_count:stack1,">",0,{name:"compare",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.awards_count:stack1)!=null?stack1.total_awards:stack1,">",0,{name:"compare",hash:{},fn:container.program(11,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["filter"]=template({1:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'    <div class="box-right">\n        <ul class="menu-filters">\n            <li class="item dropdown not-arrow">\n                <span class="name-filter grid-icon">\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"grid",13,13,"ico-13",{name:"icon",hash:{},data:data}))+'\n                </span>\n                <div class="menu-dropdown style2 position-right">\n                    <ul class="icons">\n                        <li class="change_grid" data-cols=3>\n                            <span class="ico-link">Small Screenshots</span>\n                            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"grid",13,13,"ico-13 ico-rendering",{name:"icon",hash:{},data:data}))+'\n                        </li>\n                        <li class="change_grid" data-cols=4>\n                            <span class="ico-link">Big screenshots</span>\n                            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"grid-2cols",14,13,"ico-13 ico-rendering",{name:"icon",hash:{},data:data}))+"\n                        </li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="bt-menu has-mobile js-mobilefilters">\n    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n</div>\n<div class="container">\n    <div class="box-left">\n        <ul class="menu-filters">\n            <li class="item item-btclose has-mobile js-mobilefilters">\n                <span>FILTERS</span>\n            </li>\n            <li class="item has-desktop">\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n            </li>\n            <li class="item dropdown item-looking selected" id="filters-section">\n                <span class="name-filter">Websites</span>\n                <div class="menu-dropdown style2">\n                    <ul>\n                        <li><strong><a data-type="submission" href="#" data-count="3681">Websites</a></strong></li>\n                        <li><strong><a data-type="collections" href="#" data-count="376">Collections</a></strong></li>\n                        <li><strong><a data-type="blog" href="#" data-count="1245">Magazine</a></strong></li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.show_view_options:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["submission"]=template({1:function(container,depth0,helpers,partials,data){return' <div class="box-image"> '},3:function(container,depth0,helpers,partials,data){return" no-hover"},5:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <video class="video-item js-video-hover" height="417" width="299" poster="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' muted loop>\n                    <source src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" type="video/mp4">\n                </video>\n'},6:function(container,depth0,helpers,partials,data){return" autoplay "},8:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing;return'                <img src="'+container.escapeExpression((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data,blockParams:blockParams}))+'"  width="417" height="299">\n                <span class="img-crop">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(9,data,0,blockParams),inverse:container.program(14,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+"                </span>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"activity",{name:"compare",hash:{},fn:container.program(23,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")},9:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=container.escapeExpression;return'                        <img width="417" height="299" src="'+alias2((helpers.asset||depth0&&depth0.asset||helpers.helperMissing).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias2(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(10,data,0),inverse:container.program(12,data,0),data:data}))!=null?stack1:"")+'" class="lazy"/>\n'},10:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))},12:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+" "},14:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.lazy_load:stack1,{name:"if",hash:{},fn:container.program(15,data,0),inverse:container.program(20,data,0),data:data}))!=null?stack1:""},15:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(16,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' class="lazy '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(18,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'"/>\n'},16:function(container,depth0,helpers,partials,data){var stack1;return' data-animated="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))+'" '},18:function(container,depth0,helpers,partials,data){return" hover-animation "},20:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(16,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(21,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" />\n"},21:function(container,depth0,helpers,partials,data){return'class="hover-animation"'},23:function(container,depth0,helpers,partials,data,blockParams){var stack1;return(stack1=helpers.each.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.actors:stack1,{name:"each",hash:{},fn:container.program(24,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:""},24:function(container,depth0,helpers,partials,data,blockParams){var stack1;return(stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.verb:stack1,"vote",{name:"compare",hash:{},fn:container.program(25,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:""},25:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                            <div class="note">'+container.escapeExpression((helpers.number_format||depth0&&depth0.number_format||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=blockParams[1][0])!=null?stack1.target:stack1)!=null?stack1.total:stack1,{name:"number_format",hash:{},data:data,blockParams:blockParams}))+"</div>\n"},27:function(container,depth0,helpers,partials,data){var stack1;return'             <div class="above-item top">\n                <span class="bt-item bt-dark">'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(28,data,0),inverse:container.program(30,data,0),data:data}))!=null?stack1:"")+"</span>\n            </div>\n"},28:function(container,depth0,helpers,partials,data){return"VIDEO"},30:function(container,depth0,helpers,partials,data){return"GIF"},32:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers.unless.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.simple_view:stack1,{name:"unless",hash:{},fn:container.program(33,data,0),inverse:container.noop,data:data}))!=null?stack1:""},33:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1,{name:"if",hash:{},fn:container.program(34,data,0),inverse:container.noop,data:data}))!=null?stack1:""},34:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="hover-item top left">\n                    <div class="time-left">\n                        <div class="row">\n                            <strong>'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1)!=null?stack1.days:stack1,depth0))+'</strong>\n                            <span>DAYS</span>\n                        </div>\n                        <div class="row">\n                            <strong>'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1)!=null?stack1.hours:stack1,depth0))+'</strong>\n                            <span>HOURS</span>\n                        </div>\n                        <div class="row">\n                            <strong>'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.time_to_finish_vote:stack1)!=null?stack1.minutes:stack1,depth0))+'</strong>\n                            <span>MIN.</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="hover-item center">\n                    <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="vote-now">VOTE NOW!</a>\n                </div>\n'},36:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                <a class="bt-item bt-link" href="'+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.external_url:stack1,depth0))+'" target="_blank">\n                    '+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"link",22.24,14,{name:"icon",hash:{},data:data}))+"\n                </a>\n"},38:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external:stack1,{name:"if",hash:{},fn:container.program(39,data,0),inverse:container.noop,data:data}))!=null?stack1:""},39:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                    <a class="bt-item bt-link" href="'+alias1(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.external_url:stack1,depth0))+'" target="_blank">\n                        '+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"link",22.24,14,{name:"icon",hash:{},data:data}))+"\n                    </a>\n"},41:function(container,depth0,helpers,partials,data){return" </div> "},43:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="row">\n                    '+((stack1=container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title:stack1,depth0))!=null?stack1:"")+"\n                </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,false,{name:"compare",hash:{},fn:container.program(44,data,0),inverse:container.noop,data:data}))!=null?stack1:"")},44:function(container,depth0,helpers,partials,data){var stack1;return'                    <div class="row">\n                        '+((stack1=container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.date:stack1,depth0))!=null?stack1:"")+"\n                    </div>\n"},46:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    By <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+'</a></strong> in <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.name:stack1,depth0))+'" class="text-black">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.name:stack1,depth0))+"</a></strong>\n                </div>\n"},48:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    An item from <strong><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+"</a></strong>\n                </div>\n"+((stack1=helpers.unless.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.simple_view:stack1,{name:"unless",hash:{},fn:container.program(49,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")},49:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                <div class="row">\n'+((stack1=helpers.each.call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxons:stack1,{name:"each",hash:{},fn:container.program(50,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"                </div>\n"},50:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                        <strong><a href="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.name:stack1,depth0))+"</a></strong>\n"},52:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{};return'                <div class="row">\n                    Added by <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+"</a></strong>\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(53,data,0),inverse:container.program(55,data,0),data:data}))!=null?stack1:"")+"                </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,false,{name:"compare",hash:{},fn:container.program(59,data,0),inverse:container.noop,data:data}))!=null?stack1:"")},53:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                            In <strong><a href="'+alias1((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_collection",{name:"path",hash:{slug:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.slug:stack1,username:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.username:stack1},data:data}))+'" class="text-black">'+alias1(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.name:stack1,depth0))+"</a></strong>\n"},55:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1,{name:"if",hash:{},fn:container.program(56,data,0),inverse:container.noop,data:data}))!=null?stack1:""},56:function(container,depth0,helpers,partials,data){var stack1;return"                                "+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.country:stack1,{name:"if",hash:{},fn:container.program(57,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"\n"},57:function(container,depth0,helpers,partials,data){var stack1;return" from <strong>"+container.escapeExpression(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.country:stack1,depth0))+"</strong>"},59:function(container,depth0,helpers,partials,data){var stack1;return'                 <div class="row">\n'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1,{name:"if",hash:{},fn:container.program(60,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"                </div>\n"},60:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'                        In <strong><a href="'+alias1((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_collection",{name:"path",hash:{slug:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.slug:stack1,username:(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.username:stack1},data:data}))+'" class="text-black">'+alias1(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.first_collection:stack1)!=null?stack1.name:stack1,depth0))+"</a></strong>\n"},62:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="row">\n                        '+container.escapeExpression(container.lambda((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collectable:stack1)!=null?stack1.fields:stack1,depth0))+"\n                </div>\n"},64:function(container,depth0,helpers,partials,data){var stack1;return"                        "+container.escapeExpression((helpers.show_actors||depth0&&depth0.show_actors||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.actors:stack1,{name:"show_actors",hash:{},data:data}))+"\n"},66:function(container,depth0,helpers,partials,data){var stack1;return(stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"                    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:""},68:function(container,depth0,helpers,partials,data){return'                        <div class="bt-icon remove_collectable">\n                            <div class="tooltip">\n                                <div class="bt-default">\n                                    '+container.escapeExpression((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"trash",14,14,{name:"icon",hash:{},data:data}))+'\n                                </div>\n                                <div class="box-tooltip">\n                                    <div class="tooltip-text">Delete!</div>\n                                </div>\n                            </div>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="box-item">\n    '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.mobile_view:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'\n    <figure class="rollover'+alias3((helpers.darkenIfVoteActivity||depth0&&depth0.darkenIfVoteActivity||alias2).call(alias1,depth0!=null?depth0.item:depth0,{name:"darkenIfVoteActivity",hash:{},data:data,blockParams:blockParams}))+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n        <a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(5,data,0,blockParams),inverse:container.program(8,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+"        </a>\n"+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(27,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\n"+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_voting_process_open:stack1,{name:"if",hash:{},fn:container.program(32,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        <div class="hover-item top">\n            <span class="bt-item bt-facebook popup" data-link="http://www.facebook.com/sharer.php?u='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+"&amp;t="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'">'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"facebook",6.5,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'</span> <span class="bt-item bt-twitter popup" data-link="http://twitter.com/share?text='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"&amp;url="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"twitter",17,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'</span> <span class="bt-item bt-googleplus popup" data-link="https://plus.google.com/share?url='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.show_url:stack1,depth0))+'">'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"googleplus",21,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'</span>\n        </div>\n        <div class="hover-item bottom">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"!=","post",{name:"compare",hash:{},fn:container.program(36,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(38,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"        </div>\n    </figure>\n    "+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.mobile_view:stack1,{name:"if",hash:{},fn:container.program(41,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="">'+((stack1=alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))!=null?stack1:"")+"</a></h3>\n            </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"submission",{name:"compare",hash:{},fn:container.program(43,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(46,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"element",{name:"compare",hash:{},fn:container.program(48,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"external",{name:"compare",hash:{},fn:container.program(52,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"activity",{name:"compare",hash:{},fn:container.program(62,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'\n        </div>\n        <div class="footer">\n            <div class="box-users-likes">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"activity",{name:"compare",hash:{},fn:container.program(64,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"!=","activity",{name:"compare",hash:{},fn:container.program(66,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                <div class="bts">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.delete_available:stack1,{name:"if",hash:{},fn:container.program(68,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,blockParams:blockParams,indent:"                    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"                </div>\n            </div>\n        </div>\n    </div>\n</div>"},usePartial:true,useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["footer"]=template({1:function(container,depth0,helpers,partials,data){var stack1;return'    <div class="bts">\n'+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,indent:"        ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"    </div>\n"},3:function(container,depth0,helpers,partials,data){var stack1;return'    <div class="bts">\n        <div class="bt-icon">\n            <div class="tooltip">\n                <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n                    <span class="bt-content"></span>\n                </div>\n                <div class="box-tooltip">\n                    <div class="tooltip-text">Follow Collection!</div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},4:function(container,depth0,helpers,partials,data){return" active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing;return'<div class="box-users-likes">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"!=","collection",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</div>\n"},usePartial:true,useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["post"]=template({1:function(container,depth0,helpers,partials,data){return' target="_blank" '},3:function(container,depth0,helpers,partials,data){return'            <div class="above-item top left">\n                <span class="bt-item bt-default">COLLECTION</span>\n            </div>\n'},5:function(container,depth0,helpers,partials,data){return'            <div class="above-item top left">\n                <span class="bt-item bt-default">ARTICLE</span>\n            </div>\n'},7:function(container,depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external_article:stack1,{name:"if",hash:{},fn:container.program(8,data,0),inverse:container.program(10,data,0),data:data}))!=null?stack1:""},8:function(container,depth0,helpers,partials,data){return'                <div class="above-item top left">\n                    <span class="bt-item bt-default">EXTERNAL</span>\n                </div>\n'},10:function(container,depth0,helpers,partials,data){return'                <div class="above-item top left">\n                    <span class="bt-item bt-default">ARTICLE</span>\n                </div>\n'},12:function(container,depth0,helpers,partials,data){var stack1;return"                        "+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+"\n"},14:function(container,depth0,helpers,partials,data){var stack1;return"                        "+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"\n"},16:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    Curated By <strong><a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+"</a></strong>\n                </div>\n"},18:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                <div class="row">\n                    <strong>\n                        <a href="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.url:stack1,depth0))+'">'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.taxon:stack1)!=null?stack1.name:stack1,depth0))+"</a>\n                    </strong>\n                </div>\n"},20:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="bts">\n                    <div class="bt-icon">\n                        <div class="tooltip">\n                            <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(21,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n                                <span class="bt-content"></span>\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">Follow Collection!</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n'},21:function(container,depth0,helpers,partials,data){return" active"},23:function(container,depth0,helpers,partials,data){var stack1;return'                <div class="bts">\n'+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,indent:"                    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"                </div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="box-item box-style5">\n    <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external_article:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' class="item-link"></a>\n    <div class="rollover">\n        <div class="box-cover">\n            <img src="'+alias2((helpers.asset||depth0&&depth0.asset||alias4).call(alias3,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" data-src="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" data-src-2x="'+alias2((helpers.asset_tv||depth0&&depth0.asset_tv||alias4).call(alias3,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" class="lazy" />\n        </div>\n        <a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" class="item-link"></a>\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(5,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"external",{name:"compare",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'        <div class="hover-item top">\n            <span class="bt-item bt-facebook popup" data-link="http://www.facebook.com/sharer.php?u='+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                '+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"facebook",6.5,14,{name:"icon",hash:{},data:data}))+'\n            </span>\n            <span class="bt-item bt-twitter popup" data-link="http://twitter.com/share?text='+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"&amp;url="+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                '+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"twitter",17,14,{name:"icon",hash:{},data:data}))+'\n            </span>\n            <span class="bt-item bt-googleplus popup" data-link="https://plus.google.com/share?url='+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                '+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"googleplus",21,14,{name:"icon",hash:{},data:data}))+'\n            </span>\n        </div>\n    </div>\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias2(alias1((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" '+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.is_external_article:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+">\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,{name:"if",hash:{},fn:container.program(12,data,0),inverse:container.program(14,data,0),data:data}))!=null?stack1:"")+"                    </a></h3>\n            </div>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(16,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(18,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'        </div>\n        <div class="footer">\n            <div class="box-users-likes">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"                ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"collection",{name:"compare",hash:{},fn:container.program(20,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias4).call(alias3,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.type:stack1,"post",{name:"compare",hash:{},fn:container.program(23,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:true,useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["create_collection"]=template({1:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'                            <option value="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.id:stack1,depth0))+'" '+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.id:stack1,(stack1=(stack1=depths[1]!=null?depths[1].data:depths[1])!=null?stack1.collection:stack1)!=null?stack1.category:stack1,{name:"compare",hash:{},fn:container.program(2,data,0,blockParams,depths),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+" >"+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.name:stack1,depth0))+"</option>\n"},2:function(container,depth0,helpers,partials,data){return"  selected "},4:function(container,depth0,helpers,partials,data){return'                    <span class="link-delete cursor-pointer js-tab" data-tab="tab-delete-confirm">Delete Collection</span>\n'},6:function(container,depth0,helpers,partials,data){return'                    <span class="bt-cancel link-2 js-tab" data-tab="tab-collections">Cancel</span>\n'},8:function(container,depth0,helpers,partials,data){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{};return'<div class="box-content">\n    <div class="box-top">\n        <div class="content">\n            <h3 class="heading-small">'+alias2(alias1((stack1=depth0!=null?depth0.data:depth0)!=null?stack1.title:stack1,depth0))+'</h3>\n            <div class="row">\n                <div class="form-group name-group">\n                    <input type="text" id="folder-name" class="text-input" maxlength="40" value="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.collection:stack1)!=null?stack1.name:stack1,depth0))+'" placeholder="Name..." />\n                    <div class="msg name-error-msg alert" style="display: none;">You must fill name.</div>\n                </div>\n            </div>\n            <div class="row">\n                <input type="text" id="folder-description" class="text-input"  maxlength="250" value="'+alias2(alias1((stack1=(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.collection:stack1)!=null?stack1.description:stack1,depth0))+'" placeholder="Description..." />\n            </div>\n            <div class="row">\n                <div class="form-group">\n                    <select id="collection_category" class="chosen chosen-arrow chosen-nosearch" data-placeholder="Choose a Category...">\n                         <option value=""></option>\n'+((stack1=helpers.each.call(alias3,(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.categories:stack1,{name:"each",hash:{},fn:container.program(1,data,1,blockParams,depths),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                    </select>\n                    <div class="msg category-error-msg alert" style="display: none;">Choose one category.</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="box-bottom">\n        <div class="content box-bts">\n            <div class="box-left">\n                <input type="submit" class="button new-folder" value="'+alias2(alias1((stack1=depth0!=null?depth0.data:depth0)!=null?stack1.action:stack1,depth0))+'" />\n'+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.data:depth0)!=null?stack1["delete"]:stack1,{name:"if",hash:{},fn:container.program(4,data,0,blockParams,depths),inverse:container.program(6,data,0,blockParams,depths),data:data,blockParams:blockParams}))!=null?stack1:"")+'            </div>\n            <div class="box-right">\n                <div class="box-check">\n                    <span class="label">Private?</span>\n                    <div class="input-check-toggle">\n                        <input id="private" '+((stack1=helpers["if"].call(alias3,(stack1=(stack1=depth0!=null?depth0.data:depth0)!=null?stack1.collection:stack1)!=null?stack1["private"]:stack1,{name:"if",hash:{},fn:container.program(8,data,0,blockParams,depths),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+' type="checkbox" />\n                        <label for="private">\n                            <span>No</span>\n                            <span>Yes</span>\n                            <div class="ball"></div>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_collection"]=template({1:function(container,depth0,helpers,partials,data){return'        <div class="box-msg">\n            <div>\n                <p>\n                    '+container.escapeExpression((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"collections-add",40,40,"ico-40",{name:"icon",hash:{},data:data}))+"\n                </p>\n                <p><strong>Organize and share your Favorites</strong></p>\n                <p>Organize your favorite sites, create collections for your projects and share them with your team or clients.</p>\n            </div>\n        </div>\n"},3:function(container,depth0,helpers,partials,data){var stack1;return(stack1=container.invokePartial(partials.loader,depth0,{name:"loader",data:data,indent:"            ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:""},5:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.lambda,alias3=container.escapeExpression;return'                <li class="add-to-collection '+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.is_collected:stack1,{name:"if",hash:{},fn:container.program(6,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"\" data-id='"+alias3(alias2((stack1=blockParams[0][0])!=null?stack1.id:stack1,depth0))+'\'>\n                    <div class="info">\n                        <span class="title">'+alias3(alias2((stack1=blockParams[0][0])!=null?stack1.name:stack1,depth0))+'</span>\n                        <span class="number">'+alias3(alias2((stack1=blockParams[0][0])!=null?stack1.n_collected:stack1,depth0))+" elements</span>\n"+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.is_collaborator:stack1,{name:"if",hash:{},fn:container.program(8,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                    </div>\n                    <div class="thumbs">\n'+((stack1=helpers.each.call(alias1,(stack1=blockParams[0][0])!=null?stack1.images:stack1,{name:"each",hash:{},fn:container.program(10,data,1,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"                    </div>\n                </li>\n"},6:function(container,depth0,helpers,partials,data){return"  active "},8:function(container,depth0,helpers,partials,data){return'                            <span class="collaborator">Collaborator</span>\n'},10:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                            <img width="80" height="65" src="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data,blockParams:blockParams}))+'">\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{};return'<div class="box-content">\n    <div class="box-top">\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.empty_collections_loaded:depth0,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.loading_collections:depth0,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        <ul class="list-collections">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.collections:depth0,{name:"each",hash:{},fn:container.program(5,data,1,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        </ul>\n    </div>\n    <div class="box-bottom">\n        <div class="bt-add cursor-pointer js-tab bt-create-collection" data-tab="tab-form">Create a new collection</div>\n    </div>\n</div>\n'},usePartial:true,useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_to_collection_container"]=template({1:function(container,depth0,helpers,partials,data){var stack1;return'    <div class="box-element">\n        <div class="content">\n            <img width="400" height="287" src="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.image:depth0)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" id="element" />\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.image:depth0)!=null?stack1["static"]:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'<div class="box-categories"></div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["collaborators_in"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="box-content-default size-small">\n    <div class="content">\n        <div class="box-share-collection">\n            <h3 class="heading-small title">Share Collection</h3>\n            <h3 class="heading-small">'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.collection:depth0)!=null?stack1.name:stack1,depth0))+'</h3>\n            <div class="row">\n                <div class="form-collaborator">\n                    <input type="text" id="username" class="text-input js-showusers" placeholder="Email or Username" autocomplete="off">\n                    <div class="box-users-autocomplete" style="display: none;">\n                        <ul id="suggest-list"></ul>\n                    </div>\n                </div>\n                <div class="box-users-likes">\n                    <ul class="list-users"></ul>\n                </div>\n                <div class="box-bts">\n                    <div class="box-left">\n                        <input type="submit" class="button js-lightbox-close" value="DONE">\n                        <span class="link-cancel bt-cancel link-2 js-lightbox-close">Cancel</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["btns"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="box-users-likes '+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.class_footer:stack1,depth0))+'">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{class_list:"size-medium",collected_count:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.collected_count:stack1,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,indent:"    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+((stack1=container.invokePartial(partials.add_to_collection_button,depth0,{name:"add_to_collection_button",data:data,indent:"    ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+"</div>\n"},usePartial:true,useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["vote"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'\n<ul class="vote-site vote-'+alias2(alias1((stack1=depth0!=null?depth0.vote_process:depth0)!=null?stack1.key:stack1,depth0))+'">\n    <li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li>\n</ul>\n<div class="step">\n    <span>'+alias2(alias1((stack1=depth0!=null?depth0.vote_process:depth0)!=null?stack1.title:stack1,depth0))+"</span>\n    <span>"+alias2(alias1((stack1=depth0!=null?depth0.vote_process:depth0)!=null?stack1.step:stack1,depth0))+"</span>\n</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["search"]=template({1:function(container,depth0,helpers,partials,data){return" show-tags"},3:function(container,depth0,helpers,partials,data){return" active "},5:function(container,depth0,helpers,partials,data,blockParams){return'                <div class="bt-tag">'+container.escapeExpression(container.lambda(blockParams[0][0],depth0))+'<div class="close bt-remove-tag"></div></div>\n'},7:function(container,depth0,helpers,partials,data){return' style="display:none" '},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.escapeExpression,alias3=container.lambda;return'<div class="box-left">\n    <div class="box-input '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.showWords:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+' ">\n        <div class="item ico-search">\n            '+alias2((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(alias1,"search",14,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+'\n        </div>\n        <div class="box-search-tags '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.showWords:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'"  >\n'+((stack1=helpers.each.call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.words:stack1,{name:"each",hash:{},fn:container.program(5,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        </div>\n        <input type="text" id="search-text" placeholder="SEARCH FOR INSPIRATION (HTML5, VR, RED, MINIMAL...)" data-placeholder="SEARCH FOR INSPIRATION (HTML5, VR, RED, MINIMAL...)" data-placeholder-mobile="SEARCH FOR INSPIRATION" autocomplete="off" class="search-input js-search-input" value="'+alias2(alias3((stack1=depth0!=null?depth0.search:depth0)!=null?stack1.text:stack1,depth0))+'" '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.search:depth0)!=null?stack1.showWords:stack1,{name:"if",hash:{},fn:container.program(7,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'>\n        <div class="search-info">\n            <div class="row default active"><strong><a href="'+alias2(alias3((stack1=depth0!=null?depth0.search:depth0)!=null?stack1.filtersLinks:stack1,depth0))+'" class="link-1">SHOW FILTERS</a></strong></div>\n            <div class="row results">346 RESULTS</div>\n        </div>\n        <div class="box-search-autocomplete">\n\n        </div>\n    </div>\n</div>\n<div class="box-right">\n    <div class="bt-close js-search-close"></div>\n</div>\n'},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_collection_partial"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="bt-icon add-like open-folder like">\n    <div class="tooltip">\n        <div class="bt-add-like js-bt-load">\n        \t<span class="bt-content"></span>\n        </div>\n        <div class="box-tooltip">\n            <div class="tooltip-text">Add to Collections!</div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["select_option"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-collections">\n    <div class="box-elements">\n        <div class="tab-form active" id="tab-init">\n            <div class="content">\n                <h3 class="heading-small"><span class="text-gray">Add an element to</span></h3>\n                <div class="row">\n                    <div class="button width-full action-box-external-link">ADD AN URL</div>\n                </div>\n                <div class="row">\n                    <div class="button width-full action-box-external-image" >ADD IMAGE, GIF OR VIDEO</div>\n                </div>\n                <div class="row">\n                    <span class="bt-cancel link-2 js-lightbox-close" >Cancel</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="bt-close js-lightbox-close"></div>\n\n\n\n\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_external_link"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="default" style="display: block;">\n    <div class="content">\n        <h3 class="heading-small">Add a favourite to collection</h3>\n        <div class="row">\n            <div class="form-group url-input">\n                <input type="text" class="text-input url" placeholder="http://" value="http://" />\n                <div class="msg url-message" style="display:none">Wrong url!</div>\n            </div>\n        </div>\n        <div class="box-bts">\n            <div class="box-left">\n                <input type="submit" class="button next-step" data-tab="tab-02" value="NEXT">\n                <span class="bt-cancel link-2 skip">Skip this step</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="selectImage" style="display: none;">\n    <div class="box-add-image">\n        <div class="photo" style="display: none">\n            <img src="#" >\n        </div>\n        <div class="box-loading style2">\n            <div class="spinner"></div>\n        </div>\n        <div class="no-photo" style="display:none">\n            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"photo",18.667,14,{name:"icon",hash:{},data:data}))+'\n            <div class="button button-ico js-tab" data-tab="tab-upload-image">\n                UPLOAD IMAGE\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"photo",18.667,14,{name:"icon",hash:{},data:data}))+'\n            </div>\n        </div>\n        <div class="nav">\n            <div class="bt bt-prev"></div>\n            <div class="bt bt-next"></div>\n        </div>\n    </div>\n    <div class="content">\n        <div class="row">\n            <div class="form-group title-group">\n                <input type="text" class="text-input title" placeholder="Title">\n                <div class="msg title-error-msg" style="display: none;">You must fill title.</div>\n            </div>\n        </div>\n        <div class="row">\n            <input type="text" class="text-input tags" placeholder="Tags">\n            <div class="ex">Ex. html5, virtual reality, portfolio</div>\n        </div>\n        <div class="box-bts">\n            <div class="box-left">\n                <input type="submit" class="button save" value="SAVE">\n                <span class="bt-cancel link-2 js-tab cancel" >Cancel</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_image"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression;return'<div class="box-add-image">\n    <div class="add-photo">\n        <div class="alert image-error-msg" style=\'display:none\'>Image error!</div>\n        <div class="alert image-error-size-msg" style=\'display:none\'>Your image is greather than 5 MB!</div>\n        <div class="photo" style="display: none">\n        </div>\n        <div class="box-loading style2">\n            <div class="spinner"></div>\n        </div>\n        <div class="info">\n            <div class="box-input-file style2">\n                <form id="uploadImageForm" action="'+alias1(container.lambda((stack1=depth0!=null?depth0.datas:depth0)!=null?stack1.upload_route:stack1,depth0))+'" method="post" enctype="multipart/form-data">\n                    <input type="file" name="file" id="file" class="input-file image">\n                </form>\n                <label for="file">\n                    <strong>UPLOAD IMAGE, GIF OR VDEO</strong>\n                    <span class="js-filename">Recommended size: 1110 x 793 px<br>5MB max</span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="content">\n    <div class="row">\n        <div class="form-group title-group">\n            <input type="text" class="text-input title" placeholder="Title">\n            <div class="msg alert title-error-msg" style="display: none;">You must fill title.</div>\n        </div>\n    </div>\n    <div class="row">\n        <input type="text" class="text-input tags" placeholder="Tags">\n        <div class="ex">Ex. html5, virtual reality, portfolio</div>\n    </div>\n    <div class="row" style="display:none">\n        <div class="form-group url-group">\n            <input type="text" class="text-input url_text" placeholder="Url (opcional)" value='+alias1((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:{},{name:"url",hash:{},data:data}):helper))+'>\n            <div class="msg alert url-error-msg" style="display: none;">Wrong url format. Ex. ( http://www...)</div>\n        </div>\n    </div>\n    <div class="box-bts">\n        <div class="box-left">\n            <input type="submit" class="button save" value="SAVE">\n            <span class="bt-cancel link-2 js-tab cancel" >Cancel</span>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add_internal"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.escapeExpression,alias2=depth0!=null?depth0:{},alias3=helpers.helperMissing;return'            <li class="add-collection" data-slug=\''+alias1(container.lambda((stack1=blockParams[0][0])!=null?stack1.slug:stack1,depth0))+'\' >\n                <figure>\n                    <img width="120"  src="'+alias1((helpers.asset_tv||depth0&&depth0.asset_tv||alias3).call(alias2,(stack1=(stack1=blockParams[0][0])!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data,blockParams:blockParams}))+'" />\n                </figure>\n                <div class="info">\n'+((stack1=(helpers.compare||depth0&&depth0.compare||alias3).call(alias2,(stack1=blockParams[0][0])!=null?stack1.type:stack1,"submission",{name:"compare",hash:{},fn:container.program(2,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias3).call(alias2,(stack1=blockParams[0][0])!=null?stack1.type:stack1,"external_element",{name:"compare",hash:{},fn:container.program(4,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'                 <div class="row">\n                     <div class="bt-icon">\n                        '+alias1((helpers.icon||depth0&&depth0.icon||alias3).call(alias2,"exit",21,14,{name:"icon",hash:{},data:data,blockParams:blockParams}))+"\n                        Add this!\n                    </div>\n                 </div>\n             </div>\n            </li>\n"},2:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                    <div class="row">'+container.escapeExpression(container.lambda((stack1=blockParams[1][0])!=null?stack1.site_name:stack1,depth0))+"</div>\n"},4:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                    <div class="row">'+container.escapeExpression(container.lambda((stack1=blockParams[1][0])!=null?stack1.title:stack1,depth0))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,helper,alias1=depth0!=null?depth0:{};return'<div class="box-inside">\n     <p class="fs-16">We have found <strong>'+container.escapeExpression((helper=(helper=helpers.count||(depth0!=null?depth0.count:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(alias1,{name:"count",hash:{},data:data,blockParams:blockParams}):helper))+'</strong> resources from this url:</p>\n     <ul class="list-resources-url">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.submissions:depth0,{name:"each",hash:{},fn:container.program(1,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'     </ul>\n     <div class="button width-full bt-next">ADD ANOTHER IMAGE OR VIDEO FROM THIS URL</div>\n</div>\n'},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["collection"]=template({1:function(container,depth0,helpers,partials,data){return" no-hover"},3:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <video class="video-item js-video-hover" height="417" width="299" poster="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" muted loop>\n                    <source src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.animated:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" type="video/mp4">\n                </video>\n'},5:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{};return'                <span class="box-img">\n                    <img src="'+container.escapeExpression((helpers.asset||depth0&&depth0.asset||helpers.helperMissing).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" width="417" height="299">\n                    <span class="img-crop">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.lazyLoad:stack1,{name:"if",hash:{},fn:container.program(6,data,0),inverse:container.program(11,data,0),data:data}))!=null?stack1:"")+"                    </span>\n                </span>\n"},6:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' class="lazy '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'"/>\n'},7:function(container,depth0,helpers,partials,data){var stack1;return' data-animated="'+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))+'" '},9:function(container,depth0,helpers,partials,data){return" hover-animation "},11:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                            <img width="417" height="299" src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+alias3((helpers.asset_tv||depth0&&depth0.asset_tv||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(12,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"/>\n"},12:function(container,depth0,helpers,partials,data){return'class="hover-animation"'},14:function(container,depth0,helpers,partials,data,blockParams){return'                    <li>\n                       <img src="'+container.escapeExpression((helpers.asset_thumb||depth0&&depth0.asset_thumb||helpers.helperMissing).call(depth0!=null?depth0:{},blockParams[0][0],"thumb_collection_small",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" width="139" height="100" class="img">\n                    </li>\n'},16:function(container,depth0,helpers,partials,data){var stack1;return'             <div class="above-item top">\n                <span class="bt-item bt-dark">'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(17,data,0),inverse:container.program(19,data,0),data:data}))!=null?stack1:"")+"</span>\n            </div>\n"},17:function(container,depth0,helpers,partials,data){return"VIDEO"},19:function(container,depth0,helpers,partials,data){return"GIF"},21:function(container,depth0,helpers,partials,data){return" active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.lambda,alias3=container.escapeExpression;return'<div class="box-item">\n    <figure class="rollover'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(1,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n        <a href="'+alias3(alias2((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.program(5,data,0,blockParams),data:data,blockParams:blockParams}))!=null?stack1:"")+'            <ul class="thumbs">\n'+((stack1=helpers.each.call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.images:stack1,{name:"each",hash:{},fn:container.program(14,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"            </ul>\n        </a>\n"+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.cover:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(16,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'    </figure>\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias3(alias2((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">'+alias3(alias2((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'</a></h3>\n            </div>\n            <div class="row">\n                Curated by <strong><a href="'+alias3(alias2((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.homepage:stack1,depth0))+'">'+alias3(alias2((stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.user:stack1)!=null?stack1.display_name:stack1,depth0))+'</a></strong>\n            </div>\n        </div>\n        <div class="footer">\n            <div class="box-users-likes">\n'+((stack1=container.invokePartial(partials.users_collected,depth0,{name:"users_collected",hash:{collected_count:0,users_collected:(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1},data:data,blockParams:blockParams,indent:"                ",helpers:helpers,partials:partials,decorators:container.decorators}))!=null?stack1:"")+'                <div class="bts">\n                    <div class="bt-icon">\n                        <div class="tooltip">\n                            <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(21,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'">\n                                <span class="bt-content"></span>\n                            </div>\n                            <div class="box-tooltip">\n                                <div class="tooltip-text">Follow Collection!</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},usePartial:true,useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["filter_slim"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="bt-menu has-mobile js-mobilefilters">\n    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n</div>\n<div class="container">\n    <div class="box-left">\n        <ul class="menu-filters">\n        \t<li class="item item-btclose has-mobile js-mobilefilters">\n        \t\t<span>MENU</span>\n            </li>\n            <li class="item has-desktop" id="filters-section">\n            \t'+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,"js-showfilters",{name:"icon",hash:{},data:data}))+"\n            </li>\n        </ul>\n    </div>\n</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["filter_directory"]=template({1:function(container,depth0,helpers,partials,data){var stack1;return'                    <a href="'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.filter_options:depth0)!=null?stack1.route:stack1,depth0))+'">\n                        Directory\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.156 14" class="ico-svg">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#directory"></use>\n                        </svg>\n                    </a>\n'},3:function(container,depth0,helpers,partials,data){var stack1;return'                    <a href="'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.filter_options:depth0)!=null?stack1.route:stack1,depth0))+'">\n                        Most Awarded Profiles\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.156 14" class="ico-svg">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#winner"></use>\n                        </svg>\n                    </a>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="bt-menu has-mobile js-mobilefilters">\n    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n</div>\n<div class="container">\n    <div class="box-left">\n        <ul class="menu-filters">\n            <li class="item item-btclose has-mobile js-mobilefilters">\n                <span>FILTERS</span>\n            </li>\n            <li class="item has-desktop">\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"filter",12.344,14,{name:"icon",hash:{},data:data}))+'\n            </li>\n            <li class="item dropdown item-looking selected" id="filters-section">\n                <span class="name-filter">Directory</span>\n                <div class="menu-dropdown style2">\n                    <ul>\n                        <li><strong><a data-type="directory" href="#" data-count="3681">Directory</a></strong></li>\n                        <li><strong><a data-type="winner" href="#" data-count="376">Most Awarded Profiles</a></strong></li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n    <div class="box-right">\n        <ul class="menu-filters">\n            <li class="item item-ico">\n'+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.filter_options:depth0)!=null?stack1.is_winner_list:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))!=null?stack1:"")+"            </li>\n        </ul>\n    </div>\n</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["user-type"]=template({1:function(container,depth0,helpers,partials,data){return" active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="box-content-usertype">\n    <div class="box-photo">\n        <img width="475" height="475" src="'+alias3((helpers.asset_local||depth0&&depth0.asset_local||alias2).call(alias1,"bundles/tvweb/images/pages/users-type.jpg",{name:"asset_local",hash:{},data:data}))+'" alt="User type" />\n    </div>\n    <div class="box-tabs">\n        <ul class="tabs">\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_jury",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_jury">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"jury",10.7,14,{name:"icon-user",hash:{},data:data}))+'\n                JURY\n            </li>\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_pro",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_pro">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"pro",10.7,14,{name:"icon-user",hash:{},data:data}))+'\n                PRO\n            </li>\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_chief",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_chief">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"chief",9.8,14,{name:"icon-user",hash:{},data:data}))+'\n                CHIEF\n            </li>\n            <li class="tab-link'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_tribe",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" data-tab="user_type_tribe">\n                '+alias3((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias2).call(alias1,"tribe",10.47,14,{name:"icon-user",hash:{},data:data}))+'\n                TRIBE\n            </li>\n        </ul>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_jury",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_jury">\n            <p><strong>A group of experts selected annually by the Awwwards team, whose involvement and expertise is fundamental for Awwwards to function.</strong></p>\n            <p>Their vote determines the final score of SOTD, SOTM, HM & SOTY.</p>\n            <p>Every year the top 5 users are invited to join the following year’s Jury.</p>\n        </div>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_pro",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_pro">\n            <p><strong>A group of internationally recognised agencies and designers, who have invested in Awwwards and registered with a Professional Plan.</strong></p>\n            <p>Their votes count towards SOTD & HM.</p>\n            <p>Profile highlighted in the Directory search results.</p>\n        </div>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_chief",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_chief">\n            <p><strong>Talented users who through hard work and commitment have won 1 SOTD, 3 HMs or gained 5000 points.</strong></p>\n            <p>Their votes count towards SOTD & HM.</p>\n            <p>Profile included in the Directory.</p>\n        </div>\n        <div class="tab-content'+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.selected:depth0,"user_type_tribe",{name:"compare",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'" id="user_type_tribe">\n            <p><strong>Basic user whose participation and contribution of knowledge helps to improve the Awwwards community.</strong></p>\n            <p>Their votes count towards the “Merit for Commendable Sites” certificate (but not towards SOTD or HM).</p>\n            <p>Profile not present in the Directory.</p>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["jury-dev"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var alias1=container.lambda,alias2=container.escapeExpression;return'            <li>\n                <div class="box-left">\n                    '+alias2(alias1(blockParams[0][1],depth0))+'\n                </div>\n                <div class="box-right">\n                    '+alias2((helpers.color_for_note||depth0&&depth0.color_for_note||helpers.helperMissing).call(depth0!=null?depth0:{},blockParams[0][0],{name:"color_for_note",hash:{},data:data,blockParams:blockParams}))+"\n                    <strong>"+alias2(alias1(blockParams[0][0],depth0))+"</strong>\n                </div>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-default size-small">\n    <ul class="list-jurydev-notes">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.scores:depth0,{name:"each",hash:{},fn:container.program(1,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'        <li class="total">\n            <div class="box-left">\n                <strong>Final score</strong>\n            </div>\n            <div class="box-right">\n                <strong class="total-note">'+alias4((helper=(helper=helpers.final_score||(depth0!=null?depth0.final_score:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"final_score",hash:{},data:data,blockParams:blockParams}):helper))+'</strong>\n            </div>\n        </li>\n    </ul>\n    <p class="horizontal-right"><a href="'+alias4((helper=(helper=helpers.url_more_info||(depth0!=null?depth0.url_more_info:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"url_more_info",hash:{},data:data,blockParams:blockParams}):helper))+'" class="link-1">More Info</a></p>\n</div>\n'},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["likes"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{},alias2=container.escapeExpression,alias3=container.lambda;return'        <li>\n            <figure>\n                <a href="#"><img src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||helpers.helperMissing).call(alias1,(stack1=blockParams[0][0])!=null?stack1.image:stack1,"thumb_user_70",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" width="50" height="50" alt="'+alias2(alias3((stack1=blockParams[0][0])!=null?stack1.displayName:stack1,depth0))+'"></a>\n            </figure>\n            <div class="data">\n                <div class="row">\n                    <a href="'+alias2(alias3((stack1=blockParams[0][0])!=null?stack1.homepage:stack1,depth0))+'"><strong>'+alias2(alias3((stack1=blockParams[0][0])!=null?stack1.displayName:stack1,depth0))+"</strong></a>\n                </div>\n"+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.country:stack1,{name:"if",hash:{},fn:container.program(2,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'            </div>\n            <div class="box-right">\n                <div class="tooltip">\n                    <div class="bt-check js-bt-load'+((stack1=helpers["if"].call(alias1,(stack1=blockParams[0][0])!=null?stack1.following:stack1,{name:"if",hash:{},fn:container.program(4,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+'" data-username="'+alias2(alias3((stack1=blockParams[0][0])!=null?stack1.username:stack1,depth0))+'">\n                        <span class="bt-content"></span>\n                    </div>\n                    <div class="box-tooltip">\n                        <div class="tooltip-text" >Follow!</div>\n                    </div>\n                </div>\n            </div>\n        </li>\n'},2:function(container,depth0,helpers,partials,data,blockParams){var stack1;return'                    <div class="row">\n                        '+container.escapeExpression(container.lambda((stack1=blockParams[1][0])!=null?stack1.country:stack1,depth0))+"\n                    </div>\n"},4:function(container,depth0,helpers,partials,data){return" active"},6:function(container,depth0,helpers,partials,data){return'        <div class="button button-loadmore style3">\n            <span>Load More</span>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=depth0!=null?depth0:{};return'<div class="box-inside ">\n    <div class="info">\n        <div class="pull-left">\n            <strong>'+container.escapeExpression(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.count:stack1,depth0))+'</strong> users like this\n        </div>\n    </div>\n    <ul class="list-user-likes">\n'+((stack1=helpers.each.call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.users_collected:stack1,{name:"each",hash:{},fn:container.program(1,data,1,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"    </ul>\n"+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.count:stack1,">",6,{name:"compare",hash:{},fn:container.program(6,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"</div>"},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["tooltip"]=template({1:function(container,depth0,helpers,partials,data){var stack1,alias1=container.escapeExpression;return'            <li class="awards">\n                '+alias1(container.lambda((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.totalAwards:stack1,depth0))+"\n                "+alias1((helpers.icon||depth0&&depth0.icon||helpers.helperMissing).call(depth0!=null?depth0:{},"medal",12.39,14,{name:"icon",hash:{},data:data}))+"\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,alias3=depth0!=null?depth0:{},alias4=helpers.helperMissing;return'<div class="row-user">\n    <div class="avatar-profile">\n        <a href="'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.homepage:stack1,depth0))+'">\n            <img src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias4).call(alias3,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.image:stack1,"thumb_user_70",{name:"asset_thumb",hash:{},data:data}))+'" width="70" height="70"  />\n            <div class="user-type">\n                '+alias2((helpers["icon-user"]||depth0&&depth0["icon-user"]||alias4).call(alias3,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.status:stack1,11,14,{name:"icon-user",hash:{},data:data}))+'\n            </div>\n        </a>\n    </div>\n</div>\n<div class="row-user">\n    <strong><a href="'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.homepage:stack1,depth0))+'">'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.displayName:stack1,depth0))+'</a></strong>\n</div>\n<div class="row-user">\n    <span class="text-gray">'+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.countryName:stack1,depth0))+'</span>\n</div>\n<div class="row-user">\n    <ul class="list-stats-icons">\n        <li class="favorites">\n            '+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.collectables:stack1,depth0))+"\n            "+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"heart",15,14,{name:"icon",hash:{},data:data}))+'\n        </li>\n        <li class="collections">\n            '+alias2(alias1((stack1=depth0!=null?depth0.user:depth0)!=null?stack1.numberOfCollections:stack1,depth0))+"\n            "+alias2((helpers.icon||depth0&&depth0.icon||alias4).call(alias3,"books",15.57,14,{name:"icon",hash:{},data:data}))+"\n        </li>\n"+((stack1=helpers["if"].call(alias3,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.totalAwards:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"    </ul>\n</div>"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["login"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="box-login">\n    <div class="tab-form js-tab-form active" id="tab-login">\n        <div class="header">\n            <h2 class="heading-xx-medium">Log in with your account</h2>\n        </div>\n        <div class="bts">\n             <p>\n                <a href="/login/twitter" class="bt-connect bt-twitter">\n                    <span>Connect with Twitter</span>\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"twitter",17,14,{name:"icon",hash:{},data:data}))+'\n                </a>\n            </p>\n            <p>\n                <a href="/login/facebook" class="bt-connect bt-facebook">\n                    <span>Connect with Facebook</span>\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"facebook",6.5,14,{name:"icon",hash:{},data:data}))+'\n                </a>\n            </p>\n            <p>\n                <span class="bt-connect bt-email js-tab-login" data-tab="tab-login-form">\n                    <span>Log in with your e-mail</span>\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"mail",19.6,14,{name:"icon",hash:{},data:data}))+'\n                </span>\n            </p>\n        </div>\n        <div class="footer">\n            <h4 class="heading-small">Not a member yet? <a class="js-register" href="'+alias3((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_register",{name:"path",hash:{},data:data}))+'">Register now</a></h4>\n        </div>\n    </div>\n    <div class="tab-form js-tab-form" id="tab-login-form" style="display:none">\n        <div class="header">\n            <h2 class="heading-xx-medium">Login with your e-mail</h2>\n        </div>\n        <div class="form">\n            <form action="'+alias3((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_login_check",{name:"path",hash:{},data:data}))+'" method="post" novalidate>\n                <p><label class="tip-form"><input name="_username" class="text-input" placeholder="Email or Username" type="text"></label></p>\n                <p><label class="tip-form"><input name="_password" class="text-input" placeholder="Password" type="password"></label></p>\n                <p class="check"><input id="remember_me" name="_remember_me" type="checkbox"> <label for="remember">Keep me logged in</label></p>\n                <p><button type="submit" class="button js-bt-loading" data-button="loading"><span class="bt-content">LOGIN NOW!</span></button></p>\n                <p><strong><a class="link-2 js-forgot-password" href="'+alias3((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_forgot_password",{name:"path",hash:{},data:data}))+'">Forgot your password?</a></strong></p>\n                <input type="hidden" name="_target_path" value="'+alias3((helper=(helper=helpers.from_url||(depth0!=null?depth0.from_url:depth0))!=null?helper:alias2,typeof helper==="function"?helper.call(alias1,{name:"from_url",hash:{},data:data}):helper))+'" />\n            </form>\n        </div>\n        <div class="footer">\n            <h4 class="heading-small">Not a member yet? <a class="js-register" href="'+alias3((helpers.path||depth0&&depth0.path||alias2).call(alias1,"tv_register",{name:"path",hash:{},data:data}))+'">Register now</a></h4>\n        </div>\n    </div>\n</div>\n'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["forgot_success"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="content">\n    <div class="header">\n        <h2 class="heading-xx-medium heading-underline">Congratulations!</h2>\n    </div>\n    <p><strong>We have sent you a verification e-mail.</strong></p>\n    <p>Please verify your account via the link in the e-mail and complete registration.</p>\n    <p>If you don\'t receive an email from us, please check your spam folder or <strong><a href="'+container.escapeExpression((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_contact_us",{name:"path",hash:{},data:data}))+'" class="link-2">contact customer support</a></strong>.</p>\n    <p><strong>Awwwards team</strong></p>\n    <p><span class="button js-lightbox-close">CLOSE</span></p>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["collection-footer"]=template({1:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'    <div class="bts">\n        <div class="bt-icon js-share">\n            <div class="tooltip">\n                <div class="bt-default">\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"user",12,14,{name:"icon",hash:{},data:data}))+'\n                </div>\n                <div class="box-tooltip">\n                    <div class="tooltip-text">Share with your team!</div>\n                </div>\n            </div>\n        </div>\n        <div class="bt-icon">\n            <div class="tooltip">\n                <div class="bt-default bt-edit-collection edit-collection">\n                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"settings",14,14,{name:"icon",hash:{},data:data}))+'\n                </div>\n                <div class="box-tooltip">\n                    <div class="tooltip-text">Edit Collection!</div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="box-users-likes">\n    <ul class="list-users">\n    </ul>\n'+((stack1=helpers["if"].call(depth0!=null?depth0:{},(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.can_be_edited:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</div>\n"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["upload_collection_cover"]=template({1:function(container,depth0,helpers,partials,data){return'                        <div class="remove-cover-container row">\n                            <div class="remove-cover button button-red">REMOVE COVER</div>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=depth0!=null?depth0:{};return'<div class="box-content-collections">\n    <div class="box-inside">\n        <div class="box-upload-cover">\n            <div class="box-add-image">\n                <div class="box-loading open" style="display: none">\n                    <svg class="loading">\n                        <circle cx="20" cy="20" r="18"></circle>\n                    </svg>\n                </div>\n                <div class="add-photo">\n                    <div class="info">\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.image_exists:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'                        <form id="uploadImageForm" action="'+container.escapeExpression((helper=(helper=helpers.route||(depth0!=null?depth0.route:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(alias1,{name:"route",hash:{},data:data}):helper))+'" method="post" enctype="multipart/form-data">\n                            <div class="box-input-file style2">\n                                <input type="file" name="file" id="file-1" class="input-file">\n                                <label for="file-1">\n                                    <strong>UPLOAD IMAGE, GIF</strong>\n                                    <span class="js-filename">Recommended size: 1900 x 225 px<br>3MB max</span>\n                                </label>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["loader"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-msg">\n    <div class="box-loading style3 open"><div class="spinner"></div></div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["confirmation"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-collections size-small">\n    <div class="tab-form" id="tab-delete-confirm" style="display: block;">\n        <div class="content style2">\n            <div class="txt">\n                <p>'+alias4((helper=(helper=helpers.msg||(depth0!=null?depth0.msg:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"msg",hash:{},data:data}):helper))+'</p>\n                <p></p>\n                <div class="button button-red width-full yes">'+alias4((helper=(helper=helpers.button||(depth0!=null?depth0.button:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"button",hash:{},data:data}):helper))+"</div>\n                <p></p>\n            </div>\n        </div>\n    </div>\n</div>"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_new_user"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Your registration is complete!</strong></p>\n        <p>If you are a freelancer or work for an agency, add your profile to our exclusive directory aimed at web professionals. Meet new clients, recruit top talent, make important business connections. Now is the time!</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <a href="'+container.escapeExpression((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_plans_page",{name:"path",hash:{},data:data}))+'" class="button">UPGRADE YOUR PLAN</a>\n                <span class="bt-cancel link-2 js-lightbox-close">Not right now, thanks</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_directory"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Welcome to the exclusive Awwwards directory!</strong></p>\n        <p>The directory place where the top web designers, graphic designers, art directors, illustrators, developers and marketers come to play and grow their business.</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_submit"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Your site has now been submitted to Awwwards for review!</strong></p>\n        <p>Shortly, you’ll receive an email confirmation and in a few days, our team will send your project to our esteemed jury for their evaluation. Best of luck in the competition!</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_submit_professional"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>Your site has now been submitted to Awwwards for review!</strong></p>\n        <p>Shortly, you’ll receive an email confirmation and in a few days, our team will send your project to our esteemed jury for their evaluation. Best of luck in the competition!</p>\n        <p>Complete your profile in our exclusive directory which offers 360º business solutions for web professionals.</p>\n        <p>You can edit your profile at any time in your profile settings or just click <strong><a href="'+container.escapeExpression((helpers.path||depth0&&depth0.path||helpers.helperMissing).call(depth0!=null?depth0:{},"tv_user_settings_directory_without_username",{name:"path",hash:{},data:data}))+'" class="underline">here</a></strong></p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["message_job"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p class="mb-1 text-green"><strong>CONGRATULATIONS!</strong></p>\n        <p class="mb-0 fs-16"><strong>We are pleased to confirm that we have received your job submission!</strong></p>\n        <p>We are checking the details, your offer will be posted soon.</p>\n        <p>Thanks!</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button js-lightbox-close">FINISH</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["submission_images"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default">\n    <div class="box-inside">\n        <h3 class="heading-x-medium">Our system will create the image</h3>\n        <p>You\'ll be able to view taht image once your site has been approved and published as a nominee on Awwwards.</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span class="button">I UNDERSTAND</span>\n                <span class="bt-cancel link-2 js-lightbox-close">Cancel</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["welcome_collections"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'<div class="box-content-default">\n    <div class="box-inside">\n        <h3 class="heading-small">Welcome to your collections!</h3>\n        <div class="fs-16">\n            <p>Now you can save as many of your favorite sites as you like in your collections. Create, organise and share your collections with your team, clients or other designers.</p>\n            <p><strong>What can I collect?</strong></p>\n            <p>By clicking the “Add to Collection” button you can store:</p>\n            <ul class="list-info-icos">\n                <li>\n                    <div class="bt-icon">\n                        <div class="bt-add-like">\n                            <span class="bt-content"></span>\n                        </div>\n                    </div>\n                    <p>All the websites published on <strong class="text-green">Awwwards</strong>.</p>\n                </li>\n                <li>\n                    <div class="bt-icon">\n                        '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"exit",21,14,"ico-18",{name:"icon",hash:{},data:data}))+'\n                    </div>\n                    <p>Other websites, articles, resources or your latest projects on Dribbble or Behance.</p>\n                </li>\n            </ul>\n        </div>\n        <p>\n            <span class="button button-ico width-full js-lightbox-add">\n                '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"exit",21,14,"ico-18",{name:"icon",hash:{},data:data}))+'\n                ADD A FAVORITE\n            </span>\n        </p>\n        <p align="center"><strong class="link-2 js-lightbox-skip">Don\'t show this again</strong></p>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["no_search_results"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="block flex-1 vertical-center">\n    <div class="box-noresults">\n        <div class="box-icon icon-no-snitching">\n            <svg width="144" height="144" viewBox="0 0 511.992 512">\n                <g>\n                    <path d="M188.506,184.987c0-15.417-12.508-27.918-27.927-27.918c-15.417,0-27.927,12.5-27.927,27.918 c0,15.418,12.509,27.927,27.927,27.927C175.998,212.914,188.506,200.406,188.506,184.987z" />\n                    <path d="M346.323,157.07c-15.4,0-27.927,12.509-27.927,27.927c0,15.418,12.527,27.927,27.927,27.927 c15.417,0,27.927-12.508,27.927-27.927C374.249,169.579,361.74,157.07,346.323,157.07z" />\n                    <path d="M255.996,0C114.616,0,0,114.616,0,256.004C0,397.384,114.616,512,255.996,512 c141.38,0,255.996-114.616,255.996-255.996C511.992,114.616,397.376,0,255.996,0z M255.996,493.382 c-130.888,0-237.378-106.489-237.378-237.378c0-130.898,106.49-237.386,237.378-237.386c130.89,0,237.378,106.489,237.378,237.386 C493.374,386.893,386.885,493.382,255.996,493.382z" />\n                    <path d="M346.323,117.052c-37.464,0-67.945,30.481-67.945,67.944s30.481,67.944,67.945,67.944 c37.463,0,67.944-30.481,67.944-67.944S383.785,117.052,346.323,117.052z M346.323,235.996c-28.119,0-51-22.877-51-50.999 s22.882-50.999,51-50.999c28.118,0,50.999,22.877,50.999,50.999S374.44,235.996,346.323,235.996z" />\n                    <path d="M228.524,184.997c0-37.468-30.482-67.953-67.945-67.953c-37.472,0-67.962,30.486-67.962,67.953 c0,37.463,30.49,67.944,67.962,67.944C198.042,252.941,228.524,222.459,228.524,184.997z M109.562,184.997 c0-28.127,22.89-51.008,51.017-51.008c28.118,0,50.999,22.881,50.999,51.008c0,28.122-22.881,50.999-50.999,50.999 C132.452,235.996,109.562,213.119,109.562,184.997z" />\n                    <polygon points="357.967,296.295 261.459,347.603 164.953,296.295 156.207,312.731 241.633,358.148 156.207,403.566 164.953,420.002 261.459,368.694 357.967,420.002 366.713,403.566 281.286,358.148 366.713,312.731" />\n                </g>\n            </svg>\n        </div>\n        <div class="text">\n            <h1>Your search was not succesful!</h1>\n            <p>Try some different keywords.</p>\n            <p>Use more general keywords.</p>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["lightbox_sotm_vote"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-default size-small">\n    <div class="box-inside">\n        <p><a href="'+alias4((helper=(helper=helpers.internal_url||(depth0!=null?depth0.internal_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"internal_url",hash:{},data:data}):helper))+'"><img width="417" height="299" src="'+alias4((helper=(helper=helpers.image||(depth0!=null?depth0.image:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"image",hash:{},data:data}):helper))+'" class="img-block" /></a></p>\n        <p>'+((stack1=(helper=(helper=helpers.by||(depth0!=null?depth0.by:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"by",hash:{},data:data}):helper))!=null?stack1:"")+'</p>\n        <div class="box-bts">\n            <div class="box-left">\n                <span data-slug="'+alias4((helper=(helper=helpers.slug||(depth0!=null?depth0.slug:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"slug",hash:{},data:data}):helper))+'" class="button js-vote-tweet popup popup-no-return" data-link="http://twitter.com/share?text='+alias4((helper=(helper=helpers.share_text||(depth0!=null?depth0.share_text:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"share_text",hash:{},data:data}):helper))+"&amp;url="+alias4((helper=(helper=helpers.share_url||(depth0!=null?depth0.share_url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"share_url",hash:{},data:data}):helper))+'">VOTE AND TWEET</span>\n                <span class="bt-cancel link-2 js-lightbox-close">Cancel</span>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["users_collected"]=template({1:function(container,depth0,helpers,partials,data,blockParams){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'        <li>\n            <div class="item js-user" data-username="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.username:stack1,depth0))+'">\n                 <a href="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.homepage:stack1,depth0))+'"><img src="'+alias2((helpers.asset_thumb||depth0&&depth0.asset_thumb||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=blockParams[0][0])!=null?stack1.image:stack1,"thumb_user_70",{name:"asset_thumb",hash:{},data:data,blockParams:blockParams}))+'" width="32" height="32" alt="'+alias2(alias1((stack1=blockParams[0][0])!=null?stack1.display_name:stack1,depth0))+'" /></a>\n            </div>\n        </li>\n'},3:function(container,depth0,helpers,partials,data){return'        <li class="js-more more">\n            <span>+'+container.escapeExpression((helpers.math||depth0&&depth0.math||helpers.helperMissing).call(depth0!=null?depth0:{},depth0!=null?depth0.collected_count:depth0,"-",4,{name:"math",hash:{},data:data}))+"</span>\n        </li>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams){var stack1,helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<ul class="list-users '+alias4((helper=(helper=helpers.class_list||(depth0!=null?depth0.class_list:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"class_list",hash:{},data:data,blockParams:blockParams}):helper))+'" data-count="'+alias4((helper=(helper=helpers.collected_count||(depth0!=null?depth0.collected_count:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"collected_count",hash:{},data:data,blockParams:blockParams}):helper))+'">\n'+((stack1=helpers.each.call(alias1,depth0!=null?depth0.users_collected:depth0,{name:"each",hash:{},fn:container.program(1,data,2,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.collected_count:depth0,">",4,{name:"compare",hash:{},fn:container.program(3,data,0,blockParams),inverse:container.noop,data:data,blockParams:blockParams}))!=null?stack1:"")+"</ul>"},useData:true,useBlockParams:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["vote_soty"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="box-content-default size-small no-style-dark">\n    <div class="box-inside">\n        <div class="box-vote-soty">\n            <p><strong>1. Confirm your vote!</strong><br>\n            '+alias4((helper=(helper=helpers.title||(depth0!=null?depth0.title:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"title",hash:{},data:data}):helper))+'</p>\n            <div class="photo js-vote-site">\n                <img width="417" height="299" src="'+alias4((helper=(helper=helpers.image||(depth0!=null?depth0.image:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"image",hash:{},data:data}):helper))+'" class="img-block" />\n                <div class="box-action">\n                    <div class="box-start">\n                        <div class="button">CONFIRM</div>\n                    </div>\n                    <div class="box-end">\n                        <div class="box-icon icon-success">\n                            <svg width="100" height="100" viewBox="0 0 144 144">\n                                <g fill="none" stroke-width="2">\n                                    <circle stroke-width="4" cx="72" cy="72" r="70" fill="none" />\n                                    <polyline fill="none" stroke-width="4" stroke-miterlimit="10" points="40.705,74.475 61.918,95.688 109.295,48.312  "/>\n                                </g>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="step-end">\n                <p><strong>2. Win 2 tickets to Awwwards London</strong></p>\n                <p>To enter the competition to win 2 tickets to Awwwards London Conference Feb 2017 + Hotel + Travel click and tweet!</p>\n                <div class="bts">\n                    <p><span class="button width-full popup popup-no-return js-vote-tweet" data-link="http://twitter.com/share?url=http://bit.ly/2gvENzg&amp;text=Voted for @AWWWARDS  best sites 2016 - Next stop digital design talks, networking and after-party @AWWWARDSLDN&amp;hashtags=SOTY">TWEET TO WIN!</span></p>\n                    <p><strong class="link-2">Finish and close</strong></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["externalArticle"]=template({1:function(container,depth0,helpers,partials,data){return" no-hover"},3:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <video class="video-item js-video-hover" height="417" width="299" poster="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(alias1,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.isHome:stack1,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+' muted loop>\n                    <source src="'+alias3((helpers.asset_thumb||depth0&&depth0.asset_thumb||alias2).call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,"animated",{name:"asset_thumb",hash:{},data:data}))+'" type="video/mp4">\n                </video>\n'},4:function(container,depth0,helpers,partials,data){return" autoplay "},6:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression;return'                <img src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'"  width="417" height="299">\n                <span class="img-crop">\n                    <img width="417" height="299" src="'+alias3((helpers.asset||depth0&&depth0.asset||alias2).call(alias1,"bundles/tvweb/images/nophoto.png",{name:"asset",hash:{},data:data}))+'" alt="'+alias3(container.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+'" data-src="'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.program(9,data,0),data:data}))!=null?stack1:"")+'" class="lazy"/>\n                </span>\n'},7:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.animated:stack1,{name:"asset_tv",hash:{},data:data}))},9:function(container,depth0,helpers,partials,data){var stack1;return" "+container.escapeExpression((helpers.asset_tv||depth0&&depth0.asset_tv||helpers.helperMissing).call(depth0!=null?depth0:{},(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1["static"]:stack1,{name:"asset_tv",hash:{},data:data}))+" "},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3=container.escapeExpression,alias4=container.lambda;return'<div class="box-item">\n    <figure class="rollover'+alias3((helpers.darkenIfVoteActivity||depth0&&depth0.darkenIfVoteActivity||alias2).call(alias1,depth0!=null?depth0.item:depth0,{name:"darkenIfVoteActivity",hash:{},data:data}))+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_animated:stack1,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'">\n        <a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'" target="_blank">\n'+((stack1=helpers["if"].call(alias1,(stack1=(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.image:stack1)!=null?stack1.is_video:stack1,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(6,data,0),data:data}))!=null?stack1:"")+'        </a>\n    </figure>\n    <div class="box-info">\n        <div class="content">\n            <div class="row">\n                <h3><a href="'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'"  target="_blank" class="">'+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+'</a></h3>\n            </div>\n            <div class="row">\n                '+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.description_inspire:stack1,depth0))+'\n            </div>\n        </div>\n        <div class="footer">\n            <div class="box-left"></div>\n            <div class="box-right">\n                    <div class="list-share-circles gray style2">\n                        <ul>\n                            <li>\n                                <div class="bt-circle bt-facebook popup" data-link="http://www.facebook.com/sharer.php?u='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+"&amp;t="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+'">\n                                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"facebook",6.5,14,{name:"icon",hash:{},data:data}))+'\n                                </div>\n                            </li>\n                            <li>\n                                <div class="bt-circle bt-twitter popup" data-link="http://twitter.com/share?text='+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.title_inspire:stack1,depth0))+"&amp;url="+alias3(alias4((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.url:stack1,depth0))+'">\n                                    '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"twitter",17,14,{name:"icon",hash:{},data:data}))+'\n                                </div>\n                            </li>\n                        </ul>\n                        <div class="bt-circle bt-share js-social">\n                            '+alias3((helpers.icon||depth0&&depth0.icon||alias2).call(alias1,"share",14,14,{name:"icon",hash:{},data:data}))+"\n                         </div>\n                    </div>\n            </div>\n        </div>\n    </div>\n</div>"},useData:true})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["already_voted_soty"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="box-content-default size-small no-style-dark">\n    <div class="box-inside">\n        <div class="box-vote-soty">\n            <h3 class="heading-x-medium horizontal-center">Ooops!!</h3>\n            <p>Our system will not allow multiple votes from the same I.P address, sorry for the inconvenience!</p>\n            <div class="bts">\n                <p><span class="button width-full js-lightbox-close">ACCEPT AND CLOSE</span></p>\n            </div>\n        </div>\n    </div>\n</div>'},useData:true})})();
(function($){function CircleProgress(config){this.init(config)}CircleProgress.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:false,lineCap:"butt",constructor:CircleProgress,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(config){$.extend(this,config);this.radius=this.size/2;this.initWidget();this.initFill();this.draw()},initWidget:function(){var canvas=this.canvas=this.canvas||$("<canvas>").prependTo(this.el)[0];canvas.width=this.size;canvas.height=this.size;this.ctx=canvas.getContext("2d")},initFill:function(){var self=this,fill=this.fill,ctx=this.ctx,size=this.size;if(!fill)throw Error("The fill is not specified!");if(fill.color)this.arcFill=fill.color;if(fill.gradient){var gr=fill.gradient;if(gr.length==1){this.arcFill=gr[0]}else if(gr.length>1){var ga=fill.gradientAngle||0,gd=fill.gradientDirection||[size/2*(1-Math.cos(ga)),size/2*(1+Math.sin(ga)),size/2*(1+Math.cos(ga)),size/2*(1-Math.sin(ga))];var lg=ctx.createLinearGradient.apply(ctx,gd);for(var i=0;i<gr.length;i++){var color=gr[i],pos=i/(gr.length-1);if($.isArray(color)){pos=color[1];color=color[0]}lg.addColorStop(pos,color)}this.arcFill=lg}}if(fill.image){var img;if(fill.image instanceof Image){img=fill.image}else{img=new Image;img.src=fill.image}if(img.complete)setImageFill();else img.onload=setImageFill}function setImageFill(){var bg=$("<canvas>")[0];bg.width=self.size;bg.height=self.size;bg.getContext("2d").drawImage(img,0,0,size,size);self.arcFill=self.ctx.createPattern(bg,"no-repeat");self.drawFrame(self.lastFrameValue)}},draw:function(){if(this.animation)this.drawAnimated(this.value);else this.drawFrame(this.value)},drawFrame:function(v){this.lastFrameValue=v;this.ctx.clearRect(0,0,this.size,this.size);this.drawEmptyArc(v);this.drawArc(v)},drawArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;ctx.save();ctx.beginPath();if(!this.reverse){ctx.arc(r,r,r-t/2,a,a+Math.PI*2*v)}else{ctx.arc(r,r,r-t/2,a-Math.PI*2*v,a)}ctx.lineWidth=t;ctx.lineCap=this.lineCap;ctx.strokeStyle=this.arcFill;ctx.stroke();ctx.restore()},drawEmptyArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;if(v<1){ctx.save();ctx.beginPath();if(v<=0){ctx.arc(r,r,r-t/2,0,Math.PI*2)}else{if(!this.reverse){ctx.arc(r,r,r-t/2,a+Math.PI*2*v,a)}else{ctx.arc(r,r,r-t/2,a,a-Math.PI*2*v)}}ctx.lineWidth=t;ctx.strokeStyle=this.emptyFill;ctx.stroke();ctx.restore()}},drawAnimated:function(v){var self=this,el=this.el,canvas=$(this.canvas);canvas.stop(true,false);el.trigger("circle-animation-start");canvas.css({animationProgress:0}).animate({animationProgress:1},$.extend({},this.animation,{step:function(animationProgress){var stepValue=self.animationStartValue*(1-animationProgress)+v*animationProgress;self.drawFrame(stepValue);el.trigger("circle-animation-progress",[animationProgress,stepValue])}})).promise().always(function(){el.trigger("circle-animation-end")})},getThickness:function(){return $.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(newValue){if(this.animation)this.animationStartValue=this.lastFrameValue;this.value=newValue;this.draw()}};$.circleProgress={defaults:CircleProgress.prototype};$.easing.circleProgressEasing=function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b};$.fn.circleProgress=function(configOrCommand,commandArgument){var dataName="circle-progress",firstInstance=this.data(dataName);if(configOrCommand=="widget"){if(!firstInstance)throw Error('Calling "widget" method on not initialized instance is forbidden');return firstInstance.canvas}if(configOrCommand=="value"){if(!firstInstance)throw Error('Calling "value" method on not initialized instance is forbidden');if(typeof commandArgument=="undefined"){return firstInstance.getValue()}else{var newValue=arguments[1];return this.each(function(){$(this).data(dataName).setValue(newValue)})}}return this.each(function(){var el=$(this),instance=el.data(dataName),config=$.isPlainObject(configOrCommand)?configOrCommand:{};if(instance){instance.init(config)}else{var initialConfig=$.extend({},el.data());if(typeof initialConfig.fill=="string")initialConfig.fill=JSON.parse(initialConfig.fill);if(typeof initialConfig.animation=="string")initialConfig.animation=JSON.parse(initialConfig.animation);config=$.extend(initialConfig,config);config.el=el;instance=new CircleProgress(config);el.data(dataName,instance)}})}})(jQuery);
var app=app||{};app.loadCircleNotes=function(){$(".progressbar").each(function(){var $circle=$(this).find(".circle");var percent=$circle.data("note");var percentage=(parseFloat(percent)/10).toFixed(3);var red=$circle.data("red");var green=$circle.data("green");var blue=$circle.data("blue");var $int=$circle.find(".int");var $dec=$circle.find(".dec");$circle.circleProgress({startAngle:-Math.PI/2,value:percentage,thickness:4,size:83,fill:{color:"rgb("+red+", "+green+", "+blue+")"},emptyFill:"rgba("+red+", "+green+", "+blue+", .3)"}).on("circle-animation-progress",function(event,progress,stepValue){var intDec=(stepValue*10).toFixed(2).toString().split(".");var intPart=intDec[0];var dec=intDec[1];$int.text(intPart);$dec.text("."+dec)}).stop()})};app.loadCircleNotesInUsers=function(){$(".js-circle-notes li").each(function(){var item=$(this),note=item.data("note")*10,size=item.data("size"),border=1,radius=size/2-border,circle=2*Math.PI*radius,progress=circle-circle/100*note;item.append();item.find("svg").width(size).height(size);item.find("circle").attr({r:radius,cy:radius+border,cx:radius+border});item.find("circle").css({"stroke-dasharray":circle,"stroke-dashoffset":circle,"stroke-dashoffset":progress})})};
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.moment=factory()})(this,function(){"use strict";var hookCallback;function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==="[object Date]"}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}function valid__isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated;if(m._strict){m._isValid=m._isValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}function isUndefined(input){return input===void 0}var momentProperties=utils_hooks__hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject}if(!isUndefined(from._i)){to._i=from._i}if(!isUndefined(from._f)){to._f=from._f}if(!isUndefined(from._l)){to._l=from._l}if(!isUndefined(from._strict)){to._strict=from._strict}if(!isUndefined(from._tzm)){to._tzm=from._tzm}if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC}if(!isUndefined(from._offset)){to._offset=from._offset}if(!isUndefined(from._pf)){to._pf=getParsingFlags(from)}if(!isUndefined(from._locale)){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val}}}return to}var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(updateInProgress===false){updateInProgress=true;utils_hooks__hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||obj!=null&&obj._isAMomentObject!=null}function absFloor(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber)}return value}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function warn(msg){if(utils_hooks__hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){if(!deprecations[name]){warn(msg);deprecations[name]=true}}utils_hooks__hooks.suppressDeprecationWarnings=false;function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}function isObject(input){return Object.prototype.toString.call(input)==="[object Object]"}function locale_set__set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop}else{this["_"+i]=prop}}this._config=config;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop])}else if(childConfig[prop]!=null){res[prop]=childConfig[prop]}else{delete res[prop]}}}return res}function Locale(config){if(config!=null){this.set(config)}}var locales={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=="undefined"&&module&&module.exports){try{oldLocale=globalLocale._abbr;require("./locale/"+name);locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=locale_locales__getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}}return globalLocale._abbr}function defineLocale(name,config){if(config!==null){config.abbr=name;if(locales[name]!=null){deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale");config=mergeConfigs(locales[name]._config,config)}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){config=mergeConfigs(locales[config.parentLocale]._config,config)}else{deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet")}}locales[name]=new Locale(config);locale_locales__getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function updateLocale(name,config){if(config!=null){var locale;if(locales[name]!=null){config=mergeConfigs(locales[name]._config,config)}locale=new Locale(config);locale.parentLocale=locales[name];locales[name]=locale;locale_locales__getSetGlobalLocale(name)}else{if(locales[name]!=null){if(locales[name].parentLocale!=null){locales[name]=locales[name].parentLocale}else if(locales[name]!=null){delete locales[name]}}}return locales[name]}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}function locale_locales__listLocales(){return Object.keys(locales)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==="string"?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeGetSet(unit,keepTime){return function(value){if(value!=null){get_set__set(this,unit,value);utils_hooks__hooks.updateOffset(this,keepTime);return this}else{return get_set__get(this,unit)}}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function get_set__set(mom,unit,value){if(mom.isValid()){mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}function getSet(units,value){var unit;if(typeof units==="object"){for(unit in units){this.set(unit,units[unit])}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value)}}return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==="string"){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match3to4=/\d\d\d\d?/;var match5to6=/\d\d\d\d\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==="string"){token=[token]}if(typeof callback==="number"){func=function(input,array){array[callback]=toInt(input)}}for(i=0;i<token.length;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;var WEEK=7;var WEEKDAY=8;function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)});addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)});addUnitAlias("month","M");addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)});addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)});addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1});addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(m,format){return isArray(this._months)?this._months[m.month()]:this._months[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=create_utc__createUTC([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom}if(typeof value==="string"){if(/^\d+$/.test(value)){value=toInt(value)}else{value=mom.localeData().monthsParse(value);if(typeof value!=="number"){return mom}}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);utils_hooks__hooks.updateOffset(this,true);return this}else{return get_set__get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex}}var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsStrictRegex}else{return this._monthsRegex}}else{return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=create_utc__createUTC([2e3,i]);shortPieces.push(this.monthsShort(mom,""));longPieces.push(this.months(mom,""));mixedPieces.push(this.months(mom,""));mixedPieces.push(this.monthsShort(mom,""))}shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i])}this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")$","i");this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")$","i")}function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0)?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK}if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY}getParsingFlags(m).overflow=overflow}return m}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var tzRegex=/Z|[+-]\d\d(?::?\d\d)?/;var isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break}}if(dateFormat==null){config._isValid=false;return}if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}}if(timeFormat==null){config._isValid=false;return}}if(!allowTime&&timeFormat!=null){config._isValid=false;return}if(match[4]){if(tzRegex.exec(match[4])){tzFormat="Z"}else{config._isValid=false;return}}config._f=dateFormat+(timeFormat||"")+(tzFormat||"");configFromStringAndFormat(config)}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return}configFromISO(config);if(config._isValid===false){delete config._isValid;utils_hooks__hooks.createFromInputFallback(config)}}utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<100&&y>=0&&isFinite(date.getFullYear())){date.setFullYear(y)}return date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<100&&y>=0&&isFinite(date.getUTCFullYear())){date.setUTCFullYear(y)}return date}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,true],0,"year");addUnitAlias("year","y");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(input,array){array[YEAR]=input.length===2?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)});addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)});addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)});function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",false);function getIsLeapYear(){return isLeapYear(this.year())}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year)}else{resYear=year;resDayOfYear=dayOfYear}return{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy)}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1}else{resYear=mom.year();resWeek=week}return{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]}return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year);week=defaults(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true}}else{weekday=dow}}if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}}utils_hooks__hooks.ISO_8601=function(){};function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601){configFromISO(config);return}config._a=[];getParsingFlags(config).empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(getParsingFlags(config).bigHour===true&&config._a[HOUR]<=12&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!valid__isValid(tempConfig)){continue}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)});configFromArray(config)}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||locale_locales__getLocale(config._l);if(input===null||format===undefined&&input===""){return valid__createInvalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isArray(format)){configFromStringAndArray(config)}else if(format){configFromStringAndFormat(config)}else if(isDate(input)){config._d=input}else{configFromInput(config)}if(!valid__isValid(config)){config._d=null}return config}function configFromInput(config){var input=config._i;if(input===undefined){config._d=new Date(utils_hooks__hooks.now())}else if(isDate(input)){config._d=new Date(+input)}else if(typeof input==="string"){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(typeof input==="object"){configFromObject(config)}else if(typeof input==="number"){config._d=new Date(input)}else{utils_hooks__hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(typeof locale==="boolean"){strict=locale;locale=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other}else{return valid__createInvalid()}});var prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other}else{return valid__createInvalid()}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return local__createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i]}}return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}var now=function(){return Date.now?Date.now():+new Date};function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=locale_locales__getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign="+";if(offset<0){offset=-offset;sign="-"}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[];var chunk=matches[matches.length-1]||[];var parts=(chunk+"").match(chunkOffset)||["-",0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res;
res._d.setTime(+res._d+diff);utils_hooks__hooks.updateOffset(res,false);return res}else{return local__createLocal(input).local()}}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15}utils_hooks__hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN}if(input!=null){if(typeof input==="string"){input=offsetFromString(matchShortOffset,input)}else if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;utils_hooks__hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(offsetFromString(matchOffset,this._i))}return this}function hasAlignedHourOffset(input){if(!this.isValid()){return false}input=input?local__createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;var isoRegex=/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/;function create__createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret}create__createDuration.fn=Duration.prototype;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0}}other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function absRound(number){if(number<0){return Math.round(-1*number)*-1}else{return Math.round(number)}}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period).");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=create__createDuration(val,period);add_subtract__addSubtract(this,dur,direction);return this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return}updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days){get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding)}if(months){setMonth(mom,get_set__get(mom,"Month")+months*isAdding)}if(updateOffset){utils_hooks__hooks.updateOffset(mom,days||months)}}var add_subtract__add=createAdder(1,"add");var add_subtract__subtract=createAdder(-1,"subtract");function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";var output=formats&&(isFunction(formats[format])?formats[format]():formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:local__createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return+this>+localInput}else{return+localInput<+this.clone().startOf(units)}}function isBefore(input,units){var localInput=isMoment(input)?input:local__createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return+this<+localInput}else{return+this.clone().endOf(units)<+localInput}}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var localInput=isMoment(input)?input:local__createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units||"millisecond");if(units==="millisecond"){return+this===+localInput}else{inputMs=+localInput;return+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)}}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;if(!this.isValid()){return NaN}that=cloneWithOffset(input,this);if(!that.isValid()){return NaN}zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);if(units==="year"||units==="month"||units==="quarter"){output=monthDiff(this,that);if(units==="quarter"){output=output/3}else if(units==="year"){output=output/12}}else{delta=this-that;output=units==="second"?delta/1e3:units==="minute"?delta/6e4:units==="hour"?delta/36e5:units==="day"?(delta-zoneDelta)/864e5:units==="week"?(delta-zoneDelta)/6048e5:delta}return asFloat?output:absFloor(output)}function monthDiff(a,b){var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)}utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();if(0<m.year()&&m.year()<=9999){if(isFunction(Date.prototype.toISOString)){return this.toDate().toISOString()}else{return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())){return create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())){return create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=locale_locales__getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}function startOf(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function endOf(units){units=normalizeUnits(units);if(units===undefined||units==="millisecond"){return this}return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-(this._offset||0)*6e4}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)});addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget}return setWeekAll.call(this,input,week,weekday,dow,doy)}}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addRegexToken("Q",match1);addParseToken("Q",function(input,array){array[MONTH]=(toInt(input)-1)*3});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",true);addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)});addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)});addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",matchWord);addRegexToken("ddd",matchWord);addRegexToken("dddd",matchWord);addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}});addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});function parseWeekday(input,locale){if(typeof input!=="string"){return input}if(!isNaN(input)){return parseInt(input,10)}input=locale.weekdaysParse(input);if(typeof input==="number"){return input}return null}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){mom=local__createLocal([2e3,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[i]){regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="dddd"&&this._fullWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="ddd"&&this._shortWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="dd"&&this._minWeekdaysParse[i].test(weekdayName)){return i}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}}function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}return input==null?this.day()||7:this.day(this.day()%7?input:input-7)}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")}function hFormat(){return this.hours()%12||12}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}meridiem("a",true);meridiem("A",false);addUnitAlias("hour","h");function matchMeridiem(isStrict,locale){return locale._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input});addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true});addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true});addParseToken("hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true});addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos))});addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2))});function localeIsPM(input){return(input+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}}var getSetHour=makeGetSet("Hours",true);addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",false);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S"){addRegexToken(token,matchUnsigned)}function parseMs(input,array){array[MILLISECOND]=toInt(("0."+input)*1e3)}for(token="S";token.length<=9;token+="S"){addParseToken(token,parseMs)}var getSetMillisecond=makeGetSet("Milliseconds",false);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add;momentPrototype__proto.calendar=moment_calendar__calendar;momentPrototype__proto.clone=clone;momentPrototype__proto.diff=diff;momentPrototype__proto.endOf=endOf;momentPrototype__proto.format=format;momentPrototype__proto.from=from;momentPrototype__proto.fromNow=fromNow;momentPrototype__proto.to=to;momentPrototype__proto.toNow=toNow;momentPrototype__proto.get=getSet;momentPrototype__proto.invalidAt=invalidAt;momentPrototype__proto.isAfter=isAfter;momentPrototype__proto.isBefore=isBefore;momentPrototype__proto.isBetween=isBetween;momentPrototype__proto.isSame=isSame;momentPrototype__proto.isSameOrAfter=isSameOrAfter;momentPrototype__proto.isSameOrBefore=isSameOrBefore;momentPrototype__proto.isValid=moment_valid__isValid;momentPrototype__proto.lang=lang;momentPrototype__proto.locale=locale;momentPrototype__proto.localeData=localeData;momentPrototype__proto.max=prototypeMax;momentPrototype__proto.min=prototypeMin;momentPrototype__proto.parsingFlags=parsingFlags;momentPrototype__proto.set=getSet;momentPrototype__proto.startOf=startOf;momentPrototype__proto.subtract=add_subtract__subtract;momentPrototype__proto.toArray=toArray;momentPrototype__proto.toObject=toObject;momentPrototype__proto.toDate=toDate;momentPrototype__proto.toISOString=moment_format__toISOString;momentPrototype__proto.toJSON=toJSON;momentPrototype__proto.toString=toString;momentPrototype__proto.unix=unix;momentPrototype__proto.valueOf=to_type__valueOf;momentPrototype__proto.creationData=creationData;momentPrototype__proto.year=getSetYear;momentPrototype__proto.isLeapYear=getIsLeapYear;momentPrototype__proto.weekYear=getSetWeekYear;momentPrototype__proto.isoWeekYear=getSetISOWeekYear;momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter;momentPrototype__proto.month=getSetMonth;momentPrototype__proto.daysInMonth=getDaysInMonth;momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek;momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek;momentPrototype__proto.weeksInYear=getWeeksInYear;momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear;momentPrototype__proto.date=getSetDayOfMonth;momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek;momentPrototype__proto.weekday=getSetLocaleDayOfWeek;momentPrototype__proto.isoWeekday=getSetISODayOfWeek;momentPrototype__proto.dayOfYear=getSetDayOfYear;momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour;momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute;momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond;momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond;momentPrototype__proto.utcOffset=getSetOffset;momentPrototype__proto.utc=setOffsetToUTC;momentPrototype__proto.local=setOffsetToLocal;momentPrototype__proto.parseZone=setOffsetToParsedOffset;momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset;momentPrototype__proto.isDST=isDaylightSavingTime;momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted;momentPrototype__proto.isLocal=isLocal;momentPrototype__proto.isUtcOffset=isUtcOffset;momentPrototype__proto.isUtc=isUtc;momentPrototype__proto.isUTC=isUtc;momentPrototype__proto.zoneAbbr=getZoneAbbr;momentPrototype__proto.zoneName=getZoneName;momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto;function moment__createUnix(input){return local__createLocal(input*1e3)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return isFunction(output)?output.call(mom,now):output}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format}this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});return this._longDateFormat[key]}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d";var defaultOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}var prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar;prototype__proto.calendar=locale_calendar__calendar;prototype__proto._longDateFormat=defaultLongDateFormat;prototype__proto.longDateFormat=longDateFormat;prototype__proto._invalidDate=defaultInvalidDate;prototype__proto.invalidDate=invalidDate;prototype__proto._ordinal=defaultOrdinal;prototype__proto.ordinal=ordinal;prototype__proto._ordinalParse=defaultOrdinalParse;prototype__proto.preparse=preParsePostFormat;prototype__proto.postformat=preParsePostFormat;prototype__proto._relativeTime=defaultRelativeTime;prototype__proto.relativeTime=relative__relativeTime;prototype__proto.pastFuture=pastFuture;prototype__proto.set=locale_set__set;prototype__proto.months=localeMonths;prototype__proto._months=defaultLocaleMonths;prototype__proto.monthsShort=localeMonthsShort;prototype__proto._monthsShort=defaultLocaleMonthsShort;prototype__proto.monthsParse=localeMonthsParse;prototype__proto._monthsRegex=defaultMonthsRegex;prototype__proto.monthsRegex=monthsRegex;prototype__proto._monthsShortRegex=defaultMonthsShortRegex;prototype__proto.monthsShortRegex=monthsShortRegex;prototype__proto.week=localeWeek;prototype__proto._week=defaultLocaleWeek;prototype__proto.firstDayOfYear=localeFirstDayOfYear;prototype__proto.firstDayOfWeek=localeFirstDayOfWeek;prototype__proto.weekdays=localeWeekdays;prototype__proto._weekdays=defaultLocaleWeekdays;prototype__proto.weekdaysMin=localeWeekdaysMin;prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin;prototype__proto.weekdaysShort=localeWeekdaysShort;prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort;prototype__proto.weekdaysParse=localeWeekdaysParse;prototype__proto.isPM=localeIsPM;prototype__proto._meridiemParse=defaultLocaleMeridiemParse;prototype__proto.meridiem=localeMeridiem;function lists__get(format,index,field,setter){var locale=locale_locales__getLocale();var utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if(typeof format==="number"){index=format;format=undefined}format=format||"";if(index!=null){return lists__get(format,index,field,setter)}var i;var out=[];for(i=0;i<count;i++){out[i]=lists__get(format,i,field,setter)}return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale);utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);
var mathAbs=Math.abs;function duration_abs__abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){if(number<0){return Math.floor(number)}else{return Math.ceil(number)}}function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!(milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0)){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0}data.milliseconds=milliseconds%1e3;seconds=absFloor(milliseconds/1e3);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this}function daysToMonths(days){return days*4800/146097}function monthsToDays(months){return months*146097/4800}function as(units){var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==="month"?months:months/12}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return days*24+milliseconds/36e5;case"minute":return days*1440+milliseconds/6e4;case"second":return days*86400+milliseconds/1e3;case"millisecond":return Math.floor(days*864e5)+milliseconds;default:throw new Error("Unknown unit "+units)}}}function duration_as__valueOf(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms");var asSeconds=makeAs("s");var asMinutes=makeAs("m");var asHours=makeAs("h");var asDays=makeAs("d");var asWeeks=makeAs("w");var asMonths=makeAs("M");var asYears=makeAs("y");function duration_get__get(units){units=normalizeUnits(units);return this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}var milliseconds=makeGetter("milliseconds");var seconds=makeGetter("seconds");var minutes=makeGetter("minutes");var hours=makeGetter("hours");var days=makeGetter("days");var months=makeGetter("months");var years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round;var thresholds={s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs();var seconds=round(duration.as("s"));var minutes=round(duration.as("m"));var hours=round(duration.as("h"));var days=round(duration.as("d"));var months=round(duration.as("M"));var years=round(duration.as("y"));var a=seconds<thresholds.s&&["s",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false}if(limit===undefined){return thresholds[threshold]}thresholds[threshold]=limit;return true}function humanize(withSuffix){var locale=this.localeData();var output=duration_humanize__relativeTime(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output)}return locale.postformat(output)}var iso_string__abs=Math.abs;function iso_string__toISOString(){var seconds=iso_string__abs(this._milliseconds)/1e3;var days=iso_string__abs(this._days);var months=iso_string__abs(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds;var total=this.asSeconds();if(!total){return"P0D"}return(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":"")}var duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs;duration_prototype__proto.add=duration_add_subtract__add;duration_prototype__proto.subtract=duration_add_subtract__subtract;duration_prototype__proto.as=as;duration_prototype__proto.asMilliseconds=asMilliseconds;duration_prototype__proto.asSeconds=asSeconds;duration_prototype__proto.asMinutes=asMinutes;duration_prototype__proto.asHours=asHours;duration_prototype__proto.asDays=asDays;duration_prototype__proto.asWeeks=asWeeks;duration_prototype__proto.asMonths=asMonths;duration_prototype__proto.asYears=asYears;duration_prototype__proto.valueOf=duration_as__valueOf;duration_prototype__proto._bubble=bubble;duration_prototype__proto.get=duration_get__get;duration_prototype__proto.milliseconds=milliseconds;duration_prototype__proto.seconds=seconds;duration_prototype__proto.minutes=minutes;duration_prototype__proto.hours=hours;duration_prototype__proto.days=days;duration_prototype__proto.weeks=weeks;duration_prototype__proto.months=months;duration_prototype__proto.years=years;duration_prototype__proto.humanize=humanize;duration_prototype__proto.toISOString=iso_string__toISOString;duration_prototype__proto.toString=iso_string__toISOString;duration_prototype__proto.toJSON=iso_string__toISOString;duration_prototype__proto.locale=locale;duration_prototype__proto.localeData=localeData;duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString);duration_prototype__proto.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(input,array,config){config._d=new Date(parseFloat(input,10)*1e3)});addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))});utils_hooks__hooks.version="2.12.0";setHookCallback(local__createLocal);utils_hooks__hooks.fn=momentPrototype;utils_hooks__hooks.min=min;utils_hooks__hooks.max=max;utils_hooks__hooks.now=now;utils_hooks__hooks.utc=create_utc__createUTC;utils_hooks__hooks.unix=moment__createUnix;utils_hooks__hooks.months=lists__listMonths;utils_hooks__hooks.isDate=isDate;utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale;utils_hooks__hooks.invalid=valid__createInvalid;utils_hooks__hooks.duration=create__createDuration;utils_hooks__hooks.isMoment=isMoment;utils_hooks__hooks.weekdays=lists__listWeekdays;utils_hooks__hooks.parseZone=moment__createInZone;utils_hooks__hooks.localeData=locale_locales__getLocale;utils_hooks__hooks.isDuration=isDuration;utils_hooks__hooks.monthsShort=lists__listMonthsShort;utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin;utils_hooks__hooks.defineLocale=defineLocale;utils_hooks__hooks.updateLocale=updateLocale;utils_hooks__hooks.locales=locale_locales__listLocales;utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort;utils_hooks__hooks.normalizeUnits=normalizeUnits;utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;utils_hooks__hooks.prototype=momentPrototype;var _moment=utils_hooks__hooks;return _moment});
var app=app||{};(function(){"use strict";var LoaderFiltersView=Backbone.View.extend({tagName:"div",className:"overlay-content",isOpen:false,buttons:null,events:{"click .box-loading":"close",click:"triggerClose"},initialize:function(){this.$el.html(this.getTemplate());this.buttons=this.$(".bts");this.$el.hide();$(".wrapper").append(this.$el)},hidePreload:function(){this.$el.find(".spinner").hide()},preload:function(){this.open();this.$el.find(".spinner").show()},open:function(){var self=this;this.$el.show();this.isOpen=true;setTimeout(function(){self.$el.addClass("show");$(".box-loading").addClass("open")},100)},openForFilters:function(container){$(".box-filters").addClass("active");this.$el.addClass("box-loading style2");container.append(this.$el);this.open()},openForSearchText:function(){this.trigger("open_search_text");this.open();this.buttons.hide()},closeLoading:function(){this.$el.find(".spinner").hide()},showLoading:function(){this.$el.find(".spinner").show()},closeFilters:function(){this.close(false);setTimeout(function(){$(".box-filters").removeClass("active")},400)},closeSearchText:function(doTrigger){this.buttons.show();if(doTrigger){this.trigger("close_search_text")}this.close()},triggerClose:function(){this.trigger("close");this.close()},close:function(){var self=this;this.$el.removeClass("show");setTimeout(function(){self._close()},400)},_close:function(){this.$el.hide();$(".wrapper").append(this.$el);this.$el.removeClass("box-loading style2 open");this.isOpen=false},getTemplate:function(){return'<div class="bts"><div class="bt bt-close"></div></div><div class="spinner"></div>'}});app.loader=new LoaderFiltersView})();
var SeachText=Backbone.Model.extend({searching:false,suggesting:false,request:null,search:function(text){var self=this;this.searching=true;self._abortRequest();$.ajax({type:"GET",url:Routing.generate("tv_inspiration_search"),data:{text:text},cache:false,success:function(datas){self.trigger("search_load",datas);self.searching=false;self._abortRequest()}})},suggest:function(text){this._abortRequest();var self=this;this.suggesting=true;this.request=$.ajax({type:"GET",url:Routing.generate("tv_inspiration_suggest"),data:{text:text},success:function(datas){self.trigger("suggest_load",datas,text);self.suggesting=false}})},_abortRequest:function(){if(this.request){this.request.abort()}},isSuggesting:function(){return this.suggesting}});
var app=app||{};var SearchTextView=Backbone.View.extend({el:"body",viewResults:null,searchBox:null,searchText:"",timer:null,isOpen:false,containerSearch:null,urlBeforeSearch:null,suggestionText:"",suggestions:"",events:{"click .bt-search":"_show","click .bt-close":"_hide","click .box-input":"_removeTagsAndShowInput","click .bt-remove-tag":"_removeTag","click .suggest":"_searchSuggest","keyup #search-text":"_search"},template:Handlebars.templates.search,initialize:function(options){this.model=new SeachText;this.searchBox=$("<div class='box-search' id='box-search'></div>");this.urlBeforeSearch=window.location.href;$("header").append(this.searchBox);this._loadEvents()},_loadEvents:function(){var self=this;this.model.on("search_load",this._loadSearch,this);this.model.on("suggest_load",this._loadSuggestion,this);app.loader.on("close",this._close,this);app.history.on("go_back_history_filter",this._close,this);app.history.on("go_back_history_search",this._goBackHistory,this);$("body").keydown(function(ev){self._checkKeyPress(ev)})},_checkKeyPress:function(ev){if(!this.isOpen){return}if(ev.keyCode==27){if(this.searchText.length>0){this.render()}else{this._hide()}}},_goBackHistory:function(state){var history=state.datas;this._show();this.searchText=history.text;this._loadSearch(history.items)},_show:function(){var self=this;this._resetUrlBeforSearch();this.isOpen=true;app.loader.openForSearchText();this.searchBox.addClass("show");this.render();setTimeout(function(){self.searchBox.find("#search-text").focus()},100)},_resetUrlBeforSearch:function(){var url=window.location.href;if(!url.includes("search")){this.urlBeforeSearch=window.location.href}},_hide:function(){this._close();window.history.pushState({href:this.urlBeforeSearch},"",this.urlBeforeSearch)},_close:function(){this.searchText="";this.isOpen=false;app.loader.closeSearchText(true);this.searchBox.removeClass("show");$(".results-container").remove();$("#content").show();this.resetView()},_search:function(ev){var self=this;var text=$(ev.currentTarget).val();if(ev.keyCode==13&&!this.model.searching){this.searchText=text;this.render();this._openLoadAndSearch()}else{if(this.timer){clearTimeout(this.timer)}this.timer=setTimeout(function(){self.model.suggest(text)},500)}},_searchSuggest:function(ev){ev.stopPropagation();var text=$(ev.currentTarget).text();this.suggestions="";this.searchText=text;this.render();this._openLoadAndSearch()},_loadSuggestion:function(results,text){this.searchBox.find(".box-search-autocomplete").html("");var suggests=results["suggestions"];var suggestions=[];text=text.toUpperCase();this.suggestionText=text;for(var i=0;i<suggests.length;i++){var suggestion=suggests[i]["key"].toUpperCase();suggestions[i]='<li class="suggest">'+suggestion.replace(text,"<strong>"+text+"</strong>")+"</li>"}if(suggests.length>0){this._addModule("SUGGESTIONS",suggestions)}if(results["results"].length>0){this._setResources(results["results"])}if(results["users"].length>0){this._setUsers(results["users"])}if(results["collections"].length>0){this._setCollections(results["collections"])}},_setCollections:function(collections){var collectionsList=[];for(var i=0;i<collections.length;i++){var url=Routing.generate("tv_user_collection",{username:collections[i]["user"]["username"],slug:collections[i]["slug"]});var name=collections[i]["name"].toUpperCase();var to=collections[i]["user"]["display_name"];var image=app.assetTv(collections[i]["images"][0]);collectionsList[i]='<li><a href="'+url+'"><img src="'+image+'" width="20" height="20"><strong>'+name+'</strong> BY <span class="text-bold">'+to+"</span></a></li>"}this._addModule("COLLECTIONS",collectionsList)},_setResources:function(results){var resources=[];for(var i=0;i<results.length;i++){var url=type=="submission"?Routing.generate("tv_site_show",{slug:results[i]["slug"]}):Routing.generate("tv_blog_post",{slug:results[i]["slug"]});var type=results[i]["type"]=="post"?"MAGAZINE":results[i]["type"];var title=type=="submission"?results[i]["site_name"].toUpperCase():results[i]["title"].toUpperCase();resources[i]='<li><strong><a href="'+url+'">'+title+'</a></strong> in <span class="text-bold">'+type+"</span></li>"}this._addModule("RESOURCES",resources)},_setUsers:function(users){var usersList=[];for(var i=0;i<users.length;i++){var url=Routing.generate("tv_user_homepage",{username:users[i]["username"]});var name=users[i]["display_name"].toUpperCase();var from=users[i]["country"];var image=app.thumb(users[i]["image"],"thumb_user_70");usersList[i]='<li><a href="'+url+'"><img src="'+image+'" width="20" height="20" /><strong>'+name+'</strong> FROM <span class="text-bold">'+from+"</span></a></li>"}this._addModule("AGENCIES AND USERS",usersList)},_addModule:function(title,results){var module=$('<div class="module"><h3>'+title+"</h3><ul>"+results.join("")+"</ul></div>");var autocomplete=this.searchBox.find(".box-search-autocomplete");autocomplete.addClass("open");autocomplete.append(module)},_loadSearch:function(models){$("#content").hide();this.resetView();this._showResults(models);app.loader.closeSearchText();this.render()},_showResults:function(models){$("body").scrollTop(0);var url=Routing.generate("tv_inspiration_search",{text:this.searchText});this.viewResults=new app.InspirationView({routeScroll:url,models:models});this._createResultsContainer(models);this.setHistory(this.searchText,models,url)},_createResultsContainer:function(models){$(".results-container").remove();this.containerSearch=$('<section id="#content" class="results-container"><div class="block" id="search-result"><div class="inner search-container"><div class="grid"></div></div></div></section>');if(models.length==0){this.containerSearch.html(Handlebars.templates.no_search_results({text_searched:this.searchText}));$("#footer").show()}else{this.containerSearch.find(".search-container > .grid").html(this.viewResults.el);$("#footer").hide()}this.$("#content").before(this.containerSearch);$(window).lazyLoadXT()},_removeTagsAndShowInput:function(){this.searchBox.find("#search-text").val(this.searchText).show();this.searchBox.find(".box-search-tags").html("");this.searchBox.find("#search-text").focus()},_removeTag:function(ev){ev.stopPropagation();var tagToRemove=$(ev.currentTarget).parent().text();this.render(tagToRemove);this._openLoadAndSearch()},_openLoadAndSearch:function(){this.suggestionText="";app.loader.openForSearchText();this.model.search(this.searchText)},setHistory:function(text,models,url){if(!url){url=window.location.href}var history={service:"search",url:url,datas:{text:text,items:models,href:url}};app.history.addHistoryPoint(history)},resetView:function(){if(this.viewResults){this.viewResults.undelegateEvents();this.viewResults.remove();this.viewResults=null;$("#search-result").remove()}},render:function(remove_word){this._cleanSearchText(remove_word);var parameters=this._getSearchDatas();this.searchBox.html(this.template({search:parameters}));if($(window).width()<700){this.$("#search-text").attr("placeholder",this.$("#search-text").data("placeholder-mobile"))}},_cleanSearchText:function(remove_word){if(remove_word){this.searchText=this.searchText.replace(remove_word,"")}this.searchText=this.searchText.replace(/\s\s+/g," ");this.searchText=this.searchText.trim()},_getSearchDatas:function(){var words=this.searchText.length>0?this.searchText.split(" "):[];var showWords=words.length>0?true:false;var filtersLinks=Routing.generate("tv_search_websites");var text=this.suggestionText.length>0?this.suggestionText:this.searchText;return{text:text,words:words,filtersLinks:filtersLinks,showWords:showWords}}});$(document).ready(function(){app.searchText=new SearchTextView});
var app=app||{};(function(){app.LightBox=Backbone.View.extend({className:"box-lightbox",events:{"click .js-lightbox-close":"close","click ":"_closeFromOutside","click .yes":"_confirmationOk","click .no":"close"},options:{close_callback:null,remove_after_close:false,extra_info:{}},isOpen:false,btnCloseLightbox:'<div class="bt-close js-lightbox-close"></div>',initialize:function(options){this.options=$.extend({},this.options,options);this.$el.append(this.btnCloseLightbox);$("body").append(this.$el)},openConfirmation:function(msg,button,callback){if(this.isOpen){return}this.isOpen=true;this.$el.html("");this.$el.append(this.btnCloseLightbox);var view=Handlebars.templates.confirmation({msg:msg,button:button});this.callback_confirmation=callback;this.show(view)},getExtraInfo:function(){return this.options.extra_info},_confirmationOk:function(){this.close();return this.callback_confirmation()},show:function(view,empty){app.block=true;app.lightboxes.add(this);$("body").addClass("hidden-y");if(empty){this.$el.empty()}this.$el.append(view);var self=this;setTimeout(function(){self.$el.addClass("open")},100)},close:function(){if(this.options.close_callback){this.options.close_callback()}app.block=false;$("body").removeClass("hidden-y");this.$el.removeClass("open");this.isOpen=false;this.$el.empty();app.lightboxes.remove();var self=this;if(this.options.remove_after_close){setTimeout(function(){self.remove()},500)}},destroy:function(){this.close();this.remove()},_closeFromOutside:function(e){if($(e.target).hasClass("box-lightbox")){this.close()}}})})();
var app=app||{};(function(){"use strict";app.TooltipModel=Backbone.Model.extend({defaults:{username:""},request:null,isLoaded:function(){return this.has("homepage")},fetchData:function(){var self=this;this.request=$.ajax({type:"GET",url:Routing.generate("tv_user_tooltip",{username:self.get("username")}),success:function(json){self.set({displayName:json.displayName,homepage:json.homepage,image:json.image,countryName:json.countryName,collectables:json.collectables,numberOfCollections:json.numberOfCollections,totalAwards:json.totalAwards,status:json.status});app.TooltipCollection.add(self);self.trigger("loaded")}})},abort:function(){if(this.request){this.request.abort();this.request=null}}})})();
var app=app||{};(function(){var TooltipCollection=Backbone.Collection.extend({model:app.TooltipModel,findOrCreateByUsername:function(username){var tooltip=this.findWhere({username:username});if(tooltip){return tooltip}return new app.TooltipModel({username:username})}});app.TooltipCollection=new TooltipCollection})();
var app=app||{};(function($){"use strict";app.Tooltip=Backbone.View.extend({tagName:"div",aborted:false,className:"tooltip-user",initialize:function(options){this.options=options;this.model.on("loaded",this._render,this)},abort:function(){this.aborted=true;var self=this;this.$el.removeClass("open");this.model.abort();setTimeout(function(){self.remove()},300)},render:function(){this._loading();var self=this;setTimeout(function(){self.$el.addClass("open")},100);if(this.model.isLoaded()){this._render()}else{this.model.fetchData()}return this},_loading:function(){this.$el.html('<div class="box-loading style3"><div class="spinner"></div></div>');if(this.options.classBottom){this.$el.addClass(this.options.classBottom)}this.options.target.append(this.$el)},_render:function(){if(this.aborted){return}var self=this;this.$el.find(".box-loading").fadeOut();this.$el.append(Handlebars.templates.tooltip({user:this.model.toJSON()}));this.$el.find("img").on("load",function(){self.options.target.append(self.$el)})}})})(jQuery);
var app=app||{};(function(){"use strict";app.UserTypeView=Backbone.View.extend({el:"body",events:{"click .js-usertype":"_show","click .box-content-usertype ul.tabs li":"_changeTab"},lightbox:null,_show:function(e){var lightbox=new app.LightBox({remove_after_close:true});this.$el.css("margin","0");this.$el.addClass("hidden-y");var type=$(e.currentTarget).data("type");lightbox.show(Handlebars.templates["user-type"]({selected:type}));var self=this;setTimeout(function(){self.$el.css("margin","auto")},10)},_changeTab:function(e){var selectedTab=$(e.currentTarget);var tab_id=selectedTab.attr("data-tab");$(".box-content-usertype .tabs li, .tab-content").removeClass("active");$(".box-content-usertype .tab-content").hide();selectedTab.addClass("active");$("#"+tab_id).fadeIn()}})})();
var app=app||{};(function(){"use strict";app.JuryDevView=Backbone.View.extend({el:"#content",events:{"click .js-jurydev":"_show"},lightbox:null,_show:function(e){if(!this.lightbox){this.lightbox=new app.LightBox;this.template=Handlebars.templates["jury-dev"]}var scores=$(e.currentTarget).data("scores");var final_score=$(e.currentTarget).data("final");this.lightbox.show(this.template({url_more_info:"#",scores:scores,final_score:final_score}))}})})();
var app=app||{};(function(){"use strict";app.InfiniteScroll=Backbone.Model.extend({page:1,isLoading:false,nextResults:{},endOfList:false,options:{items_per_page:24},defaults:{contentRoute:null,nodeRoute:null},initialize:function(options){this.options=$.extend({},this.options,options)},loadContent:function(){if(this.nextResults.length>0){this.trigger("loadData",this.nextResults);this.getNextResults()}},setEndOfList:function(){this.endOfList=true;this.trigger("remove_loading")},setNextPage:function(models){if(!models){this.endOfList=true;this.trigger("remove_loading");return}this.nextResults=models;this.addPage()},getNextResults:function(){if(!this.endOfList){this.isLoading=true;var self=this;this.trigger("is_loading");$.ajax({type:"GET",url:self.getRoute(),success:function(datas){if(datas.length===0){self.endOfList=true;self.nextResults={};self.trigger("remove_loading");return}self.nextResults=datas;self.isLoading=false}})}else{this.nextResults={}}},addPage:function(){this.page++},getRoute:function(){this.addPage();var separator=this.get("contentRoute").indexOf("?")!==-1?"&":"?";return this.get("contentRoute")+separator+"page="+this.page+"&scroll=true"},resetAndChangeUrl:function(href){this.page=1;this.endOfList=false;this.set("contentRoute",href);this.nextResults=null}})})();
var app=app||{};(function($){"use strict";app.InfiniteScrollView=Backbone.View.extend({heightOffset:100,target:$(window),initialize:function(){$("footer").hide();var self=this;this.target.bind("scroll",function(ev){self.scrolling(ev)});this.model.on("remove_loading",this.showFooter,this)},scrolling:function(ev){var mayLoadContent=this.target.scrollTop()+this.heightOffset>=$(document).height()-this.target.height();if(mayLoadContent&&!this.model.isLoading){this.loadContent()}else{ev.stopPropagation()}},loadContent:function(){this.model.loadContent()},showFooter:function(){if(!$("#footer").is(":visible")){$("#footer").show()}},resetUrl:function(href){this.model.resetAndChangeUrl(href)}})})(jQuery);
var app=app||{};(function(){"use strict";app.Collectable=Backbone.Model.extend({defaults:{id:"",site_name:"",type:"",image:"",user:{url:"",username:""},nominee_date:"",design_by:"",sotd_date:"",is_site_of_the_day:"",is_honorable_mention:"",country:"",slug:"",users_collection:{},is_already_collected:false,collected_user_id:null},getUserDatas:function(){var user=this.get("user");if(!user){return{display_name:"",username:"",url:"",country:""}}return{display_name:user.hasOwnProperty("displayName")?user.displayName:user.display_name,username:user.username,url:Routing.generate("tv_user_homepage",{username:user.username}),country:user.country}},getCategoryUrl:function(category){return Routing.generate("tv_blog_category",{slug:category.slug})},getUserUrl:function(user){return Routing.generate("tv_user_homepage",{username:user.username})},getUrl:function(){return Routing.generate("tv_nominees_show",{slug:this.get("slug")})},getUrlClean:function(){return this.get("url").replace("http://","")},getUsersCollectedCount:function(){if(!this.has("users_collection")){return 0}return this.get("users_collection").length},getUsersCollected:function(){var users=[];if(this.has("users_collection")){var users_collected=this.get("users_collection");if(!Array.isArray(users_collected)){var new_collected=[];_.forEach(users_collected,function(value,key){new_collected.push(value)});users_collected=new_collected}var collected=users_collected.reverse();for(var i=0;i<4&&i<collected.length;i++){users.push(this._parseUser(collected[i]))}}return users},_parseUser:function(user){return{display_name:user.displayName,homepage:Routing.generate("tv_user_homepage",{username:user.username}),url:user.url,image:user.image,username:user.username}},nomineeDaydiff:function(){return moment(this.get("nominee_date")).fromNow()},getNomineeOrAwardDay:function(){if(this.get("is_site_of_the_month")){return moment(this.get("sotd_date")).format("MMMM")+" in <strong><a href='"+Routing.generate("tv_sotms_gallery")+"'  class='text-black'>SOTM</a></strong>"}else if(this.get("is_site_of_the_day")){return moment(this.get("sotd_date")).format("LL")+" in <strong><a href='"+Routing.generate("tv_sotds_gallery")+"'  class='text-black'>SOTD</a></strong>"}else if(this.get("is_honorable_mention")){return moment(this.get("nominee_date")).format("LL")+" in <strong><a href='"+Routing.generate("tv_honorable_mention_list")+"' class='text-black'>H.M</a></strong>"}return moment(this.get("nominee_date")).format("LL")+" in <strong><a href='"+Routing.generate("tv_nominees")+"' class='text-black'>Nominees</a></strong>"},_formatNumber:function(num,size){var str=""+num;var pad=new Array(size+1).join("0");return pad.substring(0,pad.length-str.length)+str},dateToFinishVoting:function(){if(!this.get("finish_voting_date")){return}var date=moment(this.get("finish_voting_date"));var now=moment();var duration=moment.duration(date.diff(now));if(this._formatNumber(duration.days(),2)<0||this._formatNumber(duration.hours(),2)<0||this._formatNumber(duration.minutes(),2)<0){return}return{days:this._formatNumber(duration.days(),2),hours:this._formatNumber(duration.hours(),2),minutes:this._formatNumber(duration.minutes(),2)}},isVotingOpen:function(){return this.get("is_voting_open")},getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_create_submission_collectable",{slug:this.get("slug"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("site_name")}},saveInCollection:function(idCollection){var self=this;this.set("is_already_collected",true);$.ajax({type:"POST",url:self.getUrlToSaveInCollection(idCollection),data:self.getDataToSaveInCollection(),success:function(){},error:function(){}})},removeFromCollection:function(){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_collection_remove_collectable",{idCollection:app.profile.options.id_collection,idCollectable:self.get("_id")})}).success(function(){self.trigger("removed_me")})}})})();
var app=app||{};(function(){"use strict";app.Country=Backbone.Model.extend({defaults:{name:"",countryId:"",count:0,type:"country",selected:false},filter_key:"countries",getUrlShow:function(){return Routing.generate("tv_search_websites_by_tag",{parameter:this.get("name")})},getFilterParam:function(){return this.get("name")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Taxonomy=Backbone.Model.extend({defaults:{name:"",popular:false,slug:"",count:0,type:"",selected:false},filter_key:"categories",getUrlShow:function(){return Routing.generate("tv_search_websites_by_tag",{parameter:this.get("slug")})},getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.UserType=Backbone.Model.extend({defaults:{key:"",name:"",count:0,type:"type",selected:false},filter_key:"type",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.UserQuote=Backbone.Model.extend({defaults:{key:"",name:"",count:0,type:"quote",selected:false},filter_key:"budget",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Job=Backbone.Model.extend({defaults:{key:"",name:"",count:0,type:"type",selected:false},filter_key:"type",getFilterParam:function(){return this.get("key")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Awards=Backbone.Model.extend({defaults:{name:"",slug:"",count:0,type:"",selected:false},filter_key:"type",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var app=app||{};(function(){"use strict";app.Year=Backbone.Model.extend({defaults:{name:"",slug:"",count:0,type:"",selected:false},filter_key:"year",getFilterParam:function(){return this.get("slug")},isSelected:function(){return this.get("selected")}})})();
var FilterView=Backbone.View.extend({tagName:"li",events:{click:"filter"},options:{redirect:false},initialize:function(options){this.options=$.extend({},this.options,options)},removeFilter:function(){this.unbind();this.undelegateEvents();this.remove()},filter:function(e){e.preventDefault();e.stopPropagation();var currentTarget=$(e.currentTarget);this.model.href=currentTarget.find(".nav-item").attr("href");if(this.options.redirect){window.location=this.model.href;$("body").removeClass("nav-sidebar-open");return}if(this.model.isSelected()){this.trigger("filter_remove",this.model,currentTarget)}else{this.trigger("filter",this.model,currentTarget)}app.dispatcher.trigger(app.EVENTS.MENU_FILTER)},render:function(href){var printed='<strong><a class="nav-item" data-count="'+this.model.get("count")+'" href="'+href+'">'+this.model.get("name")+"</a></strong>";this.$el.html(printed);if(this.model.isSelected()){this.$el.addClass("active-close")}return this}});
var Filters=Backbone.Model.extend({defaults:{filters:{}},selectedByType:{},filterActive:{section:"",title:"",view:null},loadFilters:function(){var filters_array={};var filters=this.get("filters");for(var key in filters){filters_array[key]=this.createCollection(key,filters[key])}this.trigger("filters_loaded",filters_array)},createCollection:function(key,models){var modelTypes={tag:app.Taxonomy,category:app.Taxonomy,color:app.Taxonomy,country:app.Country,quote:app.UserQuote,type:app.UserType,award:app.Awards,job_types:app.Job,year:app.Year};var Collection=Backbone.Collection.extend({model:modelTypes[key]});return new Collection(models)},setActiveView:function(section,view){this.filterActive.section=section;this.filterActive.view=view},filterByTaxon:function(model){var self=this;$.ajax({type:"GET",url:model.href,cache:false,success:function(data){self.trigger("results_loaded",data,model.href)}})},resetFilters:function(href){var self=this;$.ajax({type:"GET",url:href,cache:false,success:function(data){self.trigger("results_loaded",data,href)}})},resetSelected:function(){this.selectedByType={}},pushInSelected:function(model){this.selectedByType[model.get("type")]=model},generateUrlWithoutFilter:function(model){var selectedByType=_.clone(this.selectedByType);delete selectedByType[model.get("type")];return this._getParameters(selectedByType)},getFilterParameters:function(model){var selectedByType=_.clone(this.selectedByType);selectedByType[model.get("type")]=model;return this._getParameters(selectedByType)},_getParameters:function(selectedByType){var filters=[];for(var type in selectedByType){if(typeof filters[selectedByType[type].filter_key]==="undefined"){filters[selectedByType[type].filter_key]=[]}filters[selectedByType[type].filter_key].push(selectedByType[type].getFilterParam())}var parameters={};var parameter=null;for(var key in filters){if(filters[key].length>0){parameters[key]=filters[key].join(",");parameter=filters[key][0]}}if(Object.keys(parameters).length==1){parameters=parameter}return parameters},setAndLoadFilters:function(filters){this.selectedByType={};this.set("filters",filters);this.loadFilters()}});
var FiltersView=Backbone.View.extend({className:"box-filters fixed",sections:{submission:"Websites",collections:"Collections",blog:"Magazine",job:"Jobs",judge:"Judges",winner:"Most Awarded Profiles",directory:"Directory"},filtersView:[],options:{current_view:"",navigation:"",navigation_section:"",first_state_models:"",show_filters:false,first_time:false,filter_options:{},total:0,redirect:false,template:"filter",show_view_options:true},isNewView:false,resetIsLoad:false,events:{"click .item-looking a":"_loadFilters","click .dropdown":"_showLoader","click .change_grid":"_changeGrid","click #reset-btn":"_resetFilters"},urls:{submission:"tv_search_websites",collections:"tv_collection_search",blog:"tv_search_articles",jobs:"tv_job_search",judge:"tv_judge_search",directory:"tv_directory_search",winner:"tv_user_winner_list"},initialize:function(options){this.options=$.extend({},this.options,options);this.template=Handlebars.templates[this.options.template];this._loadEvents();this.render();this._pushInHistory(this.options.models,null,"first_state")},_loadEvents:function(){var self=this;app.loader.on("open_search_text",this._hide,this);app.loader.on("close_search_text",this._show,this);app.loader.on("close",this._show,this);this.model.on("filters_loaded",this._createItems,this);this.model.on("results_loaded",this._showResults,this);app.history.on("go_back_history_filter",this._goBackHistory,this)},_goBackHistory:function(state){var history=state.datas;if(!history.items){window.location.href=history.href}if(history.section!==this.options.navigation_section){this._setNavigationsAndGenerateNewView(history.section,history.section_text,history.href)}this.model.resetSelected();this.model.setAndLoadFilters(history.navigation);this.options.current_view.collection.reset(history.items)},_resetFilters:function(){var url=Routing.generate(this.urls[this.options.navigation_section]);this.resetIsLoad=false;this.$el.find("#reset-btn").remove();app.loader.openForFilters(this.$el);app.loader.showLoading();this.model.resetFilters(url)},_changeGrid:function(ev){ev.stopPropagation();var cols=$(ev.currentTarget).data("cols");var value=cols==4?"mini":"default";Cookies.set("current_element_view",value,{expires:365});$(".list-items > li").removeClass("col-3 col-4");$(".list-items > li").addClass("col-"+cols);this._changeGridIcon(cols);this._closeFilters()},_changeGridIcon:function(cols){var icon="grid-2cols";if(cols!=4){icon="grid"}$(".grid-icon").html('<svg id="cols-view" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" class="ico-svg ico-13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#'+icon+'"></use></svg>')},_loadFilters:function(el){el.stopPropagation();var element=$(el.currentTarget).clone();var type=element.data("type");var url=Routing.generate(this.urls[type]);if(type=="winner"){window.location=url;return}this._setNavigationsAndGenerateNewView(type,element.text(),url)},_setNavigationsAndGenerateNewView:function(type,text,url){this.options.navigation_section=type;this.options.navigation_text=text;this._generateCurrentView(url);this.model.filterByTaxon({href:url})},_hide:function(){this.$el.hide()},_show:function(){this._closeFilters();this.$el.show()},_showLoader:function(ev){ev.stopPropagation();app.loader.openForFilters(this.$el);app.loader.closeLoading();this.dropDown=$(ev.currentTarget);this.dropDown.toggleClass("open")},_showFilters:function(){this.$(".box-left").find(".item.dropdown:not(.item-looking)").remove();this.$("#looking").html(this.options.navigation_text);this.$el.find("#filters-section").after(this.itemsView);this._setMainFilterName()},_setMainFilterName:function(){var name=this.sections[this.options.navigation_section];this.$(".item-looking > span.name-filter").html(name);this.options.navigation_section!="submission"?this.$(".options-view").hide():this.$(".options-view").show()},_capitalizeFirstLetter:function(string){if(typeof string=="string"){string=string.replace("_"," ");return string.charAt(0).toUpperCase()+string.slice(1)}return string},_createItems:function(filters_loaded){this.itemsView=[];this._pushSelectedFilters(filters_loaded);for(var key in filters_loaded){var filters_taxon=filters_loaded[key];var filter_name=this._getSelectedFilter(filters_taxon,key);var className=filter_name===key?"item dropdown":"item dropdown selected";var classNameDiv=filters_taxon.models.length<8?" style2":"";var li=$('<li class="'+className+'">'+'<span class="name-filter" id="'+key+'">'+this._capitalizeFirstLetter(filter_name)+"</span>"+'<div class="menu-dropdown'+classNameDiv+'"></div></li>');var ul=$("<ul></ul>");for(var i=0;i<filters_taxon.models.length;i++){var taxon=filters_taxon.models[i];var filterView=new FilterView({redirect:this.options.redirect,model:taxon});var route_root=this.urls[this.options.navigation_section];var route_params=taxon.isSelected()?this.model.generateUrlWithoutFilter(taxon):this.model.getFilterParameters(taxon);if(typeof route_params!="object"){route_root=route_root+"_by_tag";route_params={parameter:route_params}}var href=Routing.generate(route_root,route_params);ul.append(filterView.render(href).el);filterView.on("filter",this.model.filterByTaxon,this.model);filterView.on("filter",this._addResetFilter,this);filterView.on("filter_remove",this.model.filterByTaxon,this.model);this.filtersView.push(filterView)}li.find(".menu-dropdown").append(ul);this.itemsView.push(li)}this._showFilters()},_addResetFilter:function(){if(!this.resetIsLoad){this.$el.find(".box-left .menu-filters").append('<li class="item not-hover" id="reset-btn"><div class="bt bt-reset"><div class="ico"><svg viewBox="0 0 14 14" class="ico-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/bundles/tvweb/images/sprite-icons.svg#reload"></use></svg></div>RESET FILTERS</div></li>');this.resetIsLoad=true}},_removeFilter:function(){this._closeFilters()},_showResults:function(data,url){if(this.isNewView){$(".grid").html(this.options.current_view.el);this.isNewView=false}window.scrollTo(0,0);this.options.current_view.resetInfiniteScroll(url);this.options.navigation=data.navigation;this.options.current_view._resetCollection(data.items);this.options.current_view.updateExtraFields(data);this.model.setAndLoadFilters(data.navigation);this._pushInHistory(data.items,url);this._closeFilters()},_generateCurrentView:function(scrollInfiniteUrl){var sections={submission:app.SubmissionsView,collections:app.CollectionsView,blog:app.PostsView,directory:app.UsersView,winner:app.UsersView};var view=sections[this.options.navigation_section];if(this.options.current_view!=null){this.options.current_view.undelegateEvents()}this.options.current_view=new view({routeScroll:scrollInfiniteUrl});this.isNewView=true},_closeFilters:function(){app.loader.closeFilters();$(".dropdown").removeClass("open")},_getSelectedFilter:function(filters_loaded,key){var filter=filters_loaded.findWhere({selected:true});return typeof filter==="undefined"?key:filter.get("name")},_pushSelectedFilters:function(filters_loaded){for(var key in filters_loaded){var taxon=filters_loaded[key].findWhere({selected:true});if(typeof taxon!=="undefined"){this.model.pushInSelected(taxon)}}},_pushInHistory:function(items,url,service){if(!url){url=window.location.href}var history={service:"filter",url:url,datas:{navigation:this.options.navigation,items:items,point:service,section:this.options.navigation_section,href:url}};app.history.addHistoryPoint(history)},render:function(){$(".seo").remove();this.$el.html(this.template({show_view_options:this.options.show_view_options,filter_options:this.options.filter_options}));this.model.setAndLoadFilters(this.options.navigation,this.options.navigation_section);this.options.container.append(this.$el)}});
var app=app||{};(function(){"use strict";app.Submission=app.Collectable.extend({getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_create_submission_collectable",{slug:this.get("slug"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("site_name")}},getAbsoluteUrl:function(){return Routing.generate("tv_site_show",{slug:this.get("slug")},true)}})})();
var app=app||{};(function(){app.SubmissionCollection=Backbone.Collection.extend({model:app.Submission})})();
var app=app||{};(function($){"use strict";app.SubmissionView=Backbone.View.extend({tagName:"li",className:"col-3",options:{fixed_class:null,extraClass:"",template_name:"submission",class_footer:"",canBeRemoved:false,simple_view:false,lazy_load:true,is_grid:false,isHome:false},showingTooltip:null,addToCollectionContainer:null,events:function(){return _.extend({},this.originalEvents,this.additionalEvents)},additionalEvents:{},originalEvents:{"click .open-folder":"openFolder","click .follow-collection":"_followCollection","click .add-collection":"addCollection","click .remove_collectable":"_openRemoveModal","click .js-more":"_showUsersCollected","mouseover .js-video-hover":"_playVideo","mouseout .js-video-hover":"_pauseVideo"},_followCollection:null,addCollection:function(ev){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}var id_collection=$(ev.currentTarget).data("collection");this.model.saveInCollection(id_collection);location.reload()},initialize:function(options){this.options=$.extend({},this.options,options);this._changeClassViewCookie();this._loadEvents()},_showUsersCollected:function(){var likesView=new app.UsersCollaboratorView;likesView.show(this.model.get("users_collection"))},_changeClassViewCookie:function(){if(!this.options.is_grid){return}this.gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(this.gridView!="default"){this.$el.removeClass("col-3");this.$el.addClass("col-4")}},setSimpleView:function(simple_view){this.options.simple_view=simple_view},_loadEvents:function(){this.model.on("removed_me",this.removeMe,this);this.model.on("change:is_already_collected",this._closeAndActiveButton,this)},_closeAndActiveButton:function(){this.addToCollectionContainer.closeLightBox();app.buttons.load(this.$(".bt-add-like.js-bt-load"))},removeMe:function(){this.trigger("remove_me",this)},renderFromExisting:function(){var isLoggedIn=app.user.isLoggedIn();var itemParsed=this._parseToTemplate();this.$(".footer").html(Handlebars.templates[this.options.template_name]({item:itemParsed}));if(isLoggedIn){this.$el.find(".open_login").removeClass("open_login")}return this},_openRemoveModal:function(){var self=this;var lightBox=new app.LightBox;lightBox.openConfirmation("Are you sure?","DELETE!",function(){self._removeFromCollection()})},_removeFromCollection:function(){this.$el.fadeOut();this.model.removeFromCollection()},_parseToTemplate:function(){return{name:this.model.get("site_name"),image:this._getImageDatas(),url:this.model.getUrl(),show_url:this.model.getAbsoluteUrl(),external_url:this.model.get("url"),users_collected:this.model.getUsersCollected(),collected_count:this.model.getUsersCollectedCount(),day_diff:this.model.nomineeDaydiff(),time_to_finish_vote:this.model.dateToFinishVoting(),mobile_view:this.model.get("mobile_view"),is_voting_process_open:this.model.isVotingOpen(),title:this._getSubmissionName(),isHome:this.options.isHome,date:this.model.getNomineeOrAwardDay(),class_footer:this.options.class_footer,type:"submission"}},_getImageDatas:function(image,defaultImage){var image_to_process=image==null?this.model.get("image"):image;return app.getImageInfo(image_to_process,defaultImage)},_getSubmissionName:function(){var user=this.model.getUserDatas();if(user.username=="awwwards-team"||user.username=="awwwards"){user.display_name=this.model.get("design_by");user.url=this.model.getUrl()}var title="By <strong><a href='"+user.url+"'>"+user.display_name+"</a></strong> from "+this.model.get("country").name;return title},openFolder:function(){this.addToCollectionContainer=new AddToCollectionContainerView;this.addToCollectionContainer.openFolder(this.model)},_playVideo:function(ev){$(ev.currentTarget).get(0).play()},_pauseVideo:function(ev){$(ev.currentTarget).get(0).pause()},render:function(){var itemParsed=this._parseToTemplate();itemParsed.delete_available=itemParsed.type!=="activity"&&(this.options.canBeRemoved||app.user.isSameUserLoggedIn(this.model.get("collected_user_id")));itemParsed.simple_view=this.options.simple_view;itemParsed.lazy_load=itemParsed.lazyload==false?false:this.options.lazy_load;this.$el.html(Handlebars.templates[this.options.template_name]({item:itemParsed}));if(this.options.extraClass){this.$el.addClass(this.options.extraClass)}return this}})})(jQuery);
var app=app||{};(function($){"use strict";app.SubmissionsView=Backbone.View.extend({id:"grid_list",className:"list-items list-flex",tagName:"ul",views:[],options:{itemClassName:"",extraItemClassName:"",items_per_page:24,default_class:false,itemTemplate:"",routeScroll:"",models:[],el:null,isHome:false,canBeRemoved:false,simple_view:false,lazy_load:true,isUserlist:false,template_name:null,is_grid:false},collection:null,updateExtraFields:function(data){},_createChildView:function(parameters){return new app.SubmissionView(parameters)},initialize:function(options){this.options=$.extend({},this.options,options);this._createCollection();if(this.options.routeScroll){this._loadNewScroll(this.options.routeScroll)}var self=this;if(this.options.el){this._resetCollection();this._loadEvents();if(!this.options.isUserList){var children=self.options.extraItemClassName?this.$el.children("."+this.options.extraItemClassName):this.$el.children();_.each(children,function(item,i){var params={el:item,template_name:self.options.itemTemplate?self.options.itemTemplate:"footer",is_grid:self.options.is_grid};var view=self._getItemView(self.collection.at(i),params);self.animateItem(view);self.views.push(view);view.renderFromExisting()})}}else{this._loadEvents();this._resetCollection();this.$(".popup").popupWindow()}},_resetCollection:function(models){if(models){this.options.models=models}var length=this.options.models.length;var next_page=null;if(length==0){return}var half=length-this.options.items_per_page;var models_to_reset=this.options.models.slice(0,this.options.items_per_page);if(half>0){var next_page=this.options.models.slice(this.options.items_per_page,length);if(half<this.options.items_per_page){this.loadFromScroll.model.setEndOfList()}}if(this.options.routeScroll){this.loadFromScroll.model.setNextPage(next_page)}this.collection.reset(models_to_reset)},_createCollection:function(){this.collection=new app.SubmissionCollection},_loadScroll:function(href){if(typeof this.loadFromScroll!=="undefined"){this.loadFromScroll.resetUrl(href);return}this._loadNewScroll(this.options.inifiniteScrollRoute)},_loadNewScroll:function(route){this.loadFromScroll=new app.InfiniteScrollView({el:this.el,model:new app.InfiniteScroll({contentRoute:route,models:this.options.models,items_per_page:this.options.items_per_page})});this.loadFromScroll.model.on("loadData",this.collection.add,this.collection);this.loadFromScroll.model.on("loadData",this.updateNewItems,this);this.loadFromScroll.model.on("loadData",this._loadViewScripts,this);this.loadFromScroll.model.on("is_loading",this._addLoadingDiv,this);this.loadFromScroll.model.on("remove_loading",this._loadViewScripts,this)},_addLoadingDiv:function(){this.$el.append('<div class="box-loading loading-scroll"><div class="spinner"></div></div>')},updateNewItems:function(elements){},_loadEvents:function(){this.collection.on("add",this._addItemView,this);this.collection.on("reset",this._renderCollection,this)},animateItem:function(view){},_getItemView:function(model,params){var params=params||{};var parameters={model:model,lazy_load:this.options.lazy_load,canBeRemoved:this.options.canBeRemoved,isHome:this.options.isHome};for(var param in params){parameters[param]=params[param]}if(!this.options.default_class){parameters.className=this._getColsCookie()}if(this.options.extraItemClassName){parameters.extraClass=this.options.extraItemClassName}if(this.options.itemClassName){parameters.className=this.options.itemClassName}return this._createChildView(parameters)},_getColsCookie:function(parameters){var cols="col-3";var gridView=Cookies.get("current_element_view")===undefined?"default":Cookies.get("current_element_view");if(gridView!="default"){cols="col-4"}return cols},resetInfiniteScroll:function(url){if(this.options.routeScroll){this.loadFromScroll.resetUrl(url)}},_loadViewScripts:function(){$(window).lazyLoadXT();app.user.removeLoginIfLogged();this.$(".loading-scroll").remove();this.$(".popup").popupWindow()},_addItemView:function(model){var view=this._getItemView(model);view.on("remove_me",this.removeView,this);this.views.push(view);this._render(view)},removeView:function(view){this.collection.remove(view.model);view.$el.remove()},_renderCollection:function(){this.$el.html("");this.collection.each(function(item_model){this._addItemView(item_model)},this);this._loadViewScripts();this.updateNewItems(this.collection.toJSON())},_render:function(view){view.setSimpleView(this.options.simple_view);this.animateItem(view);this.$el.append(view.render().el);this.index++}})})(jQuery);
var app=app||{};(function(){"use strict";app.NomineeView=app.SubmissionView.extend({})})();
var app=app||{};(function(){"use strict";app.ExternalElement=app.Collectable.extend({defaults:{id:"",slug:"",title:"",taxons:"",url:"",images:""},getUserUrlShow:function(){return Routing.generate("tv_user_homepage",{username:this.get("user").username})},getCategoryUrl:function(category){return Routing.generate("tv_blog_category",{slug:category.slug})},getUrl:function(){return Routing.generate("tv_nominees_show",{slug:this.get("id")})},getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_add_external_to_collection",{id:this.get("id"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("site_name")}}})})();
var app=app||{};(function(){"use strict";app.ExternalElementView=app.SubmissionView.extend({_parseToTemplate:function(){var external_article=this.model.get("is_external_article");var url=external_article?this.model.get("url"):Routing.generate("tv_collection_collectable",{idCollectable:this.model.get("id")});var cover=this.model.get("cover");cover=this._getImageDatas(cover,app.asset("bundles/tvweb/images/nophoto.png"));return{name:this.model.get("title"),image:this.options.isHome?cover:this._getImageDatas(),isHome:this.options.isHome,title_inspire:this.model.get("title_inspire"),description_inspire:this.model.get("description_inspire"),is_external_article:external_article,url:url,slug:this.model.get("slug"),external_url:this.model.get("url"),user:this.model.getUserDatas(),users_collected:this.model.getUsersCollected(),collected_count:this.model.getUsersCollectedCount(),first_collection:this.model.get("first_collection"),type:"external"}}})})();
var app=app||{};(function(){"use strict";app.Post=app.Collectable.extend({defaults:{slug:"",title:"",user:{url:"",username:"",displayName:""},users_collection:"",categories:"",image:"",type:"post"},getUserUrlShow:function(){return Routing.generate("tv_blog_post",{slug:this.get("slug")})},getUrl:function(){if(this.get("is_external")){return this.get("url")}return Routing.generate("tv_blog_post",{slug:this.get("slug")})},getUrlToSaveInCollection:function(idCollection){return Routing.generate("tv_favourites_create_post_collectable",{slug:this.get("slug"),idCollection:idCollection})},getDataToSaveInCollection:function(){return{title:this.get("title")}}})})();
var app=app||{};(function(){app.PostCollection=Backbone.Collection.extend({model:app.Post})})();
var app=app||{};(function(){"use strict";app.PostView=app.SubmissionView.extend({_parseToTemplate:function(){var taxons=this._parseTaxonsUrl();var cover=this.model.get("cover");cover=this._getImageDatas(cover,app.asset("bundles/tvweb/images/nophoto.png"));return{name:this.model.get("title"),title_inspire:this.model.get("title_inspire"),image:this.options.isHome?cover:this._getImageDatas(),url:this.model.getUrl(),is_external:this.model.get("is_external"),external_url:this.model.getUrl(),user:this.model.getUserDatas(),users_collected:this.model.getUsersCollected(),collected_count:this.model.getUsersCollectedCount(),taxon:taxons[0],type:"post",class_footer:this.options.class_footer}},_parseTaxonsUrl:function(){var taxons=[];_.each(this.model.get("taxons"),function(taxon){var taxonParsed={name:taxon.name,url:Routing.generate("tv_blog_category",{slug:taxon.slug})};taxons.push(taxonParsed)});return taxons},_getColsCookie:function(parameters){return parameters}})})();
var app=app||{};(function(){"use strict";app.PostsView=app.SubmissionsView.extend({_createCollection:function(){this.collection=new app.PostCollection},_createChildView:function(parameters){return new app.PostView(parameters)}})})();
var app=app||{};(function(){app.InspirationCollection=Backbone.Collection.extend({model:function(attrs,options){if(attrs.type==="submission"){return new app.Submission(attrs,options)}else if(attrs.type==="external_element"){return new app.ExternalElement(attrs,options)}else if(attrs.type==="post"){return new app.Post(attrs,options)}else if(attrs.type==="collection"){return new app.CollectionModel(attrs,options)}}})})();
var app=app||{};(function(){app.InspirationView=app.SubmissionsView.extend({_createCollection:function(){this.collection=new app.InspirationCollection},_createChildView:function(parameters){var view=app.SubmissionView;if(app.is_its_own_profile){parameters.attributes=function(){return{"data-sort-id":this.model.get("key")}}}var model=parameters.model;if(model instanceof app.Submission){view=new app.SubmissionView(parameters)}else if(model instanceof app.ExternalElement){if(this.options.isHome){if(model.get("cover")){parameters.template_name="post"}if(model.get("is_external_article")){parameters.template_name="externalArticle"}}view=new app.ExternalElementView(parameters)}else if(model instanceof app.Post){if(this.options.isHome&&model.get("cover")){parameters.template_name="post"}view=new app.PostView(parameters)}else if(model instanceof app.CollectionModel){parameters.template_name="post";view=new app.CollectionView(parameters)}return view},updateNewItems:function(elements){var ids=[];var followers_ids=[];for(var i=0;i<elements.length;i++){if(elements[i].type=="collection"){ids.push(elements[i].id);followers_ids.push(elements[i].followers)}}this.updateFollows(ids,followers_ids)},updateFollows:function(ids,user_ids){var self=this;if(user_ids.length==0){return}$.ajax({type:"POST",data:{user_ids:user_ids},url:Routing.generate("tv_collection_check_followers"),success:function(response){self.fillFollowers(response,ids)},error:function(response){}})},fillFollowers:function(users,ids){_.each(ids,function(id){var followers=this.collection.get(id).get("followers");var hidrated_followers=[];for(var i=0;i<followers.length;i++){hidrated_followers.push(users[followers[i]])}if(hidrated_followers.length==0){return}this.collection.get(id).set("users_collected_hidrated",hidrated_followers)},this)}})})();
var app=app||{};(function(){"use strict";app.User=Backbone.Model.extend({defaults:{id:"",display_name:"",user_plan:"",username:"",url:"",country:"",last_submissions:{},awards_count:{},social_media:{},image:{},background:"http://www.awwwards.com",followed:false},getUserUrlShow:function(){return Routing.generate("tv_user_homepage",{username:this.get("username")})},getUrl:function(){return this.get("url")},hasFacebook:function(){return typeof this.get("social_media")["facebook"]!=="undefined"&&this.get("social_media")["facebook"]!==null},hasTwitter:function(){return typeof this.get("social_media")["twitter"]!=="undefined"&&this.get("social_media")["twitter"]!==null},hasGooglePlus:function(){return typeof this.get("social_media")["googleplus"]!=="undefined"&&this.get("social_media")["googleplus"]!==null},getCountProjects:function(){return this.get("awards_count").submissions},getStatus:function(){return this.get("status")==null||this.get("status")==""?"tribe":this.get("status")},getAwardsByType:function(){var awards=this.get("awards_count");var total=parseInt(awards["soty"])+parseInt(awards["sotm"])+parseInt(awards["sotdds"])+parseInt(awards["sotds"])+parseInt(awards["honorable"]);return awards["submissions"]+" PROJECTS - "+total+" AWWWARDS"},followOrUnfollow:function(){var self=this;var isFollowing=this.get("followed");var href=isFollowing?"tv_user_unfollow":"tv_user_follow";self.set("followed",!isFollowing);$.ajax({type:"POST",url:Routing.generate(href,{username:this.get("username")}),success:function(response){if(!response){self.set("followed",isFollowing)}}})}})})();
var app=app||{};(function(){app.UserCollection=Backbone.Collection.extend({model:app.User,followById:function(ids){_.each(ids,function(id){this.get(id).set("followed",true)},this)},updateFollows:function(elements){var self=this;var ids=_.pluck(elements,"id");if(!app.user.isLoggedIn()){return}$.ajax({type:"POST",data:{ids:ids},url:Routing.generate("tv_user_check_followers"),success:function(response){self.followById(response)},error:function(response){}})}})})();
var app=app||{};(function(){"use strict";app.UserView=app.SubmissionView.extend({additionalEvents:{"click .bt-check":"followOrUnfollow"},_parseToTemplate:function(){return{display_name:this.model.get("display_name"),image:this.model.get("image"),background:this.model.get("background"),url:this.model.getUrl(),country:this.model.get("country"),show_url:this.model.getUserUrlShow(),has_facebook:this.model.hasFacebook(),has_twitter:this.model.hasTwitter(),has_google_plus:this.model.hasGooglePlus(),last_submissions:this.model.get("last_submissions"),social_media:this.model.get("social_media"),awards:this._createAwardsList(),status:this.model.getStatus(),awards_count:this.model.get("awards_count"),following_count:this.model.get("following_count"),is_directory:!this.options.is_winner_list,is_winner_list:this.options.is_winner_list,colletions_count:this.model.get("colletions_count"),number:this.options.number,following:this._isFollowing()}},_isFollowing:function(){return true},_changeClassViewCookie:function(){},_createAwardsList:function(){var awards=this.model.get("awards_count");var awards_title={sotds:{title:"Sites Of The Day",let:"SOTD"},sotm:{title:"Sites Of The Month",let:"SOTM"},soty:{title:"Sites Of The Year",let:"SOTY"}};if(!this.options.is_winner_list){awards_title["honorable"]={title:"Horable Mentions",let:"H.M"}}var total=0;var results=[];for(var key in awards_title){var totalAwards=key=="sotds"?parseInt(awards["sotds"])+parseInt(awards["sotdds"]):parseInt(awards[key]);if(totalAwards>0){total=total+totalAwards;awards_title[key].count=this._formatNumber(totalAwards,2);results.push(awards_title[key])}}if(this.options.is_winner_list){results.push({title:"Total",let:"TOTAL",count:total})}return results},_formatNumber:function(num,size){var str=""+num;var pad=new Array(size+1).join("0");return pad.substring(0,pad.length-str.length)+str},followOrUnfollow:function(el){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}el.preventDefault();app.buttons.load($(el.currentTarget));this.model.followOrUnfollow()},_loadEvents:function(){}})})();
var app=app||{};(function(){"use strict";app.UsersView=app.SubmissionsView.extend({options:{itemClassName:"",itemTemplate:"",routeScroll:"",models:[],el:null,canBeRemoved:false,simple_view:false,is_winner_list:false,lazy_load:true,isUserlist:false,template_name:"user"},number:20,_createCollection:function(){this.collection=new app.UserCollection},updateNewItems:function(elements){this.collection.updateFollows(elements)},updateExtraFields:function(data){$(".total_users").text(this._numberWithCommas(data.total_users))},_numberWithCommas:function(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_createChildView:function(parameters){this.number++;parameters.className="cols-5";parameters.template_name=this.options.template_name;parameters.is_winner_list=this.options.is_winner_list;parameters.number=this.number;return new app.UserView(parameters)}})})();
var app=app||{};(function(){"use strict";app.UsersCollaboratorView=Backbone.View.extend({events:{"click .bt-check":"_followOrUnfollowUser","click .button-loadmore":"_loadMore"},className:"box-content-likes",template_datas:{count:0,users_collected:[]},initialize:function(){var self=this;this.template=Handlebars.templates.likes;this.lightBox=new app.LightBox({close_callback:function(){self.remove()},remove_after_close:true})},show:function(users_collected){this.template_datas.users_collected=users_collected;this.template_datas.count=this.template_datas.users_collected.length;this.updateFollows();this.lightBox.show(this.el)},_render:function(){this.$el.html(this.template({item:this.template_datas}));this.$el.find(".list-user-likes li:gt(6)").hide()},_loadMore:function(){this.$el.find(".list-user-likes li:gt(6)").show();this.$el.find(".button-loadmore").hide()},_followOrUnfollowUser:function(ev){if(!app.user.isLoggedIn()){return}var $button=$(ev.currentTarget);var username=$button.data("username");var self=this;var isFollowing=this._isFollowing(username);var href=isFollowing?"tv_user_unfollow":"tv_user_follow";app.buttons.load($button);self.setFollowUser(username,!isFollowing);$.ajax({type:"POST",url:Routing.generate(href,{username:username}),success:function(response){if(!response){}}})},_isFollowing:function(username){var user=this._searchUser(username);if(!user){return false}return user.following},setFollowUser:function(username,isFollowing){var user=this._searchUser(username);if(!user){return false}user.following=isFollowing},_searchUser:function(username){var count=this.template_datas.users_collected.length;for(var i=count-1;i>=0;i--){if(this.template_datas.users_collected[i].username==username){return this.template_datas.users_collected[i]}}return false},_parseParameters:function(ids){var collaborators=[];var count=this.template_datas.users_collected.length;for(var i=count-1;i>=0;i--){collaborators[i]=this.template_datas.users_collected[i];collaborators[i].url=Routing.generate("tv_user_homepage",{username:collaborators[i].username});collaborators[i].following=this.inArray(collaborators[i].id,ids)}this._render()},followById:function(ids){_.each(ids,function(id){this.get(id).set("followed",true)},this)},inArray:function(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle)return true}return false},updateFollows:function(){var self=this;var ids=_.pluck(this.template_datas.users_collected,"id");if(!app.user.isLoggedIn()){this._parseParameters([]);return}$.ajax({type:"POST",data:{ids:ids},url:Routing.generate("tv_user_check_followers"),success:function(response){self._parseParameters(response)},error:function(response){}})}})})();
var app=app||{};(function(){"use strict";app.Vote=Backbone.Model.extend({defaults:{total_steps:0,grade:0,step:0,key:"",title:""},setGrade:function(grade){this.set("grade",grade)},getGrade:function(){return this.get("grade")},getStep:function(){return this.get("step")+"/"+this.get("total_steps")},getKey:function(){return this.get("key")},getTitle:function(){return this.get("title")}})})();
var app=app||{};(function($){"use strict";app.VoteView=Backbone.View.extend({className:"slide",events:{"click li":"vote"},template:Handlebars.templates.vote,render:function(){var vote={step:this.model.getStep(),title:this.model.getTitle(),key:this.model.getKey()};this.$el.addClass("slide-"+this.model.getKey());this.$el.html(this.template({vote_process:vote}));return this},vote:function(e){var grade=parseInt($(e.currentTarget).text());this._closeView();this.model.setGrade(grade);this.trigger("voted",this.model.get("step"))},show:function(){this.$el.addClass("active")},_closeView:function(){this.$el.removeClass("active")}})})(jQuery);
var app=app||{};(function($){"use strict";app.VoteProcess=Backbone.View.extend({el:".box-vote-site",isVoting:false,submission_url:"",votes:[],events:{"click .js-votenow":"startVoting","click .js-sendvote":"sendVote","click .js-editvote":"editVote"},initialize:function(options){this.votes=this._getStepConfiguration();this.render();this.submission_url=options.submission_url;this.checkIfItsJustVoted()},_getStepConfiguration:function(){return[]},checkIfItsJustVoted:function(){var $voteInfo=$(".box-vote-info");if(0===$voteInfo.length){return}var self=this;setTimeout(function(){self.showScorePoints($voteInfo)},1e3)},editVote:function(){this.$(".slide-result").removeClass("active");this.step=0;this.$(".chartnote").empty();this.votes[0].view.show()},startVoting:function(el){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}this.step=0;this.$(el.currentTarget).hide();this.$(".slides").fadeIn();$(".box-screenshot").addClass("style2");$(".box-vote-site").addClass("voting");this.votes[0].view.show()},render:function(){var step=1;var self=this;var totalSteps=this.votes.length;_.each(this.votes,function(voteModel){var vote=new app.VoteView({model:new app.Vote({key:voteModel.key,title:voteModel.title,step:step,total_steps:totalSteps})});vote.on("voted",self._nextStep,self);voteModel.view=vote;self.$(".slides").append(vote.render().$el);step++})},_nextStep:function(step){var isLastStep=step===this.votes.length;if(isLastStep){this._showTotal()}else{this.votes[step].view.show()}},_showTotal:function(){this.$(".slide-result").show();this.$(".slide-result").addClass("active");$(".box-screenshot").addClass("style3");var resultContainer=this.$(".js-result-grades");resultContainer.empty();_.each(this.votes,function(vote){var itemResult="<li>"+vote.view.model.getTitle().toUpperCase()+" <strong>"+vote.view.model.getGrade()+"</strong></li>";resultContainer.append(itemResult)});var options={useEasing:true,useGrouping:true,separator:",",decimal:".",prefix:"",suffix:""};var noteCountUp=new CountUp("total-note",0,this._calculateAverage(),2,2.5,options);setTimeout(function(){noteCountUp.start()},500)},_calculateAverage:function(){var average=0;_.each(this.votes,function(vote){average+=vote.view.model.getGrade()*vote.percent});return average},sendVote:function(ev){if(this.isVoting){return}this._showLoading();this.isVoting=true;ev.preventDefault();_.each(this.votes,function(vote){$("input.vote-"+vote.view.model.getKey()).val(vote.view.model.getGrade())});var self=this;var form=this.$(".vote_bundle_new_vote");$.ajax({type:"POST",url:form.attr("action"),data:form.serialize(),success:function(){$(".js-sendvote").fadeOut();setTimeout(function(){location.reload()},500)},error:function(msg){self._resetVoting();var lightbox=new app.LightBox({remove_after_close:true});lightbox.openConfirmation(msg.responseText,"OK",function(){})},complete:function(){self.isVoting=false}})},_resetVoting:function(){this.$(".slide-result").removeClass("active");this.step=0;this.$(".chartnote").empty();this.votes[0].view.show();this._hideLoading()},_showLoading:function(){var loading='<div class="box-loading style2 open"><div class="spinner"></div></div>';$(".box-screenshot").append(loading);$(".slide").removeClass("active");$(".box-screenshot").removeClass("style2")},_hideLoading:function(){$(".box-screenshot .box-loading").remove();$(".box-screenshot").addClass("style2")},showScorePoints:function($voteInfo){$voteInfo.removeClass("off");var currentNum=1;var timer=setInterval(function(){if(currentNum==6){clearInterval(timer);setTimeout(function(){$voteInfo.addClass("off")},500)}else{currentNum++;var updateNum=currentNum-1;$(".js-scorepoints").text("+"+updateNum)}},120);$(".js-bar").animate({width:"100%"},720)}})})(jQuery);
var app=app||{};(function($){"use strict";app.VoteDesignProcess=app.VoteProcess.extend({_getStepConfiguration:function(){return[{key:"design",title:"Design",color:"#FF9A3D",percent:.4},{key:"usability",title:"Usability",color:"#FFCF81",percent:.3},{key:"creativity",title:"Creativity",color:"#01AF9D",percent:.2},{key:"content",title:"Content",color:"#12A5C8",percent:.1}]}})})(jQuery);
var app=app||{};(function($){"use strict";app.VoteCodeProcess=app.VoteProcess.extend({_getStepConfiguration:function(){return[{key:"wpo",title:"WPO",color:"#017eff",percent:.2},{key:"responsive_design",title:"Responsive Design",color:"##017eff",percent:.2},{key:"semantics",title:"Semantics",color:"#017eff",percent:.2},{key:"markup",title:"Markup / Meta-Data",color:"#017eff",percent:.15},{key:"animations",title:"Animation",color:"#017eff",percent:.15},{key:"accessibility",title:"Accessibility",color:"#017eff",percent:.1}]}})})(jQuery);
var AddToCollectionContainerView=Backbone.View.extend({tagName:"div",className:"box-content-collections",views:null,currentView:null,events:{"click .bt-create-collection":"_showCreateCollection"},template:Handlebars.templates.add_to_collection_container,initialize:function(){if(!app.user.isLoggedIn()){this.undelegateEvents();return}if(typeof app.lightBoxCollection==="undefined"){app.lightBoxCollection=new app.LightBox}},openFolder:function(elementModel){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}app.block=true;this.elementModel=elementModel;this._render();this._showAddToFolder()},editCollection:function(collection){app.block=true;this._showEmptyLightBox();this._showEditCollection(collection)},createNewCollection:function(){this._showEmptyLightBox();this._showJustCreateCollection()},closeLightBox:function(){app.block=false;app.lightBoxCollection.close()},_reload:function(){window.location.reload()},_destroyActualView:function(){if(this.currentView){this.currentView.destroy();this.currentView=null}},_render:function(){this._showLightBox({image:app.getImageInfo(this.elementModel.get("image"),null)},false)},_showEmptyLightBox:function(){this._showLightBox({},true)},_showLightBox:function(parameters,empty){this.$el.html(this.template(parameters));app.lightBoxCollection.show(this.$el,empty)},_showCreateCollection:function(){var view=this._createCreateCollectionView();view.on("close",this._showAddToFolder,this);this._changeCurrentView(view)},_showEditCollection:function(collection){var view=this._createCreateCollectionView(collection);this._attachEventsToSingleView(view);this._changeCurrentView(view)},_showJustCreateCollection:function(){var view=this._createCreateCollectionView();this._attachEventsToSingleView(view);this._changeCurrentView(view)},_attachEventsToSingleView:function(view){view.on("close",this.closeLightBox,this);view.on("collection_created",this._reload,this);view.model.on("edit",this._reload,this)},_createCreateCollectionView:function(collection){var parameters={model:new CreateCollectionModel};if(collection){parameters.collection=collection}return new CreateCollectionView(parameters)},_showAddToFolder:function(){var view=new AddToCollectionView({model:new AddToCollectionModel,itemModel:this.elementModel});view.on("close",this.closeLightBox,this);this._changeCurrentView(view)},_changeCurrentView:function(view){this._destroyActualView();this.currentView=view;this.$(".box-categories").html(this.currentView.render().$el)}});
var CreateCollectionView=Backbone.View.extend({isActiveToSend:true,template:null,className:"tab-form active",tagName:"div",options:[],actions:{create:{categories:{},action:"CREATE"},edit:{categories:{},collection:{},action:"SAVE",delete:true}},management:"create",events:{"click .new-folder":"_send","click .link-delete":"_delete","click .bt-cancel":"hideForm"},template:Handlebars.templates.create_collection,initialize:function(options){this.model.getCategories();this.options=options;if(options.collection){this.management="edit";this.actions.edit.collection=options.collection;this.model.setCollection(options.collection)}this.loadEvents()},_delete:function(){var confirmationLightbox=new app.LightBox;var self=this;confirmationLightbox.openConfirmation("Are you sure?","DELETE COLLECTION!",function(){self.model.removeCollection(self.options.collection.id)})},hideForm:function(){this.trigger("close")},close:function(){this.model.resetCollaborators();this.$("#tab-form").hide()},showError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},hideError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},_send:function(){this.$(".form-group").removeClass("has-error");this.$(".alert").hide();this.model.setFolderName(this.$el.find("#folder-name").val());this.model.setCategory(this.$el.find("#collection_category").val());this.model.setDescription(this.$el.find("#folder-description").val());this.model.setPrivate(this.$el.find("#private").is(":checked"));var is_valid=this.model.isValid();if(is_valid!==true){for(var i=0,len=is_valid.length;i<len;i++){this.showError(is_valid[i])}return}if(!this.isActiveToSend){return}this.isActiveToSend=false;this.model._send(this.management,this.actions[this.management])},render:function(){var data=this.actions[this.management];data.categories=this.model.get("categories");this.$el.html(this.template({data:data}));this.$("#collection_category").chosen();return this},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)},activeButtonToSend:function(){this.isActiveToSend=true;this.trigger("collection_created");this.hideForm()},loadCollectionDatas:function(collection){this.actions.edit.collection=collection;this.render()},getResponse:function(){return this.model.getResponse()},_reload:function(){location.reload()},loadEvents:function(){this.model.on("send",this.activeButtonToSend,this);this.model.on("categories_loaded",this.render,this);this.model.on("collection_removed",this._reload,this)}});
var AddToCollectionModel=Backbone.Model.extend({defaults:{collections_loaded:false,collections:[]},initialize:function(){},getCollections:function(model){var self=this;var route=typeof app.Activity!=="undefined"&&model instanceof app.Activity?Routing.generate("tv_favourites_collections_by_id",{collectableId:model.get("collectable").id}):Routing.generate("tv_favourites_collections",{type:model.get("type"),id:model.get("id")});$.ajax({type:"GET",url:route}).success(function(collections){self._setCollections(collections)})},addToCollection:function(collection){var collections=this.get("collections");collections.unshift(collection);this.set("collections",collections)},_setCollections:function(collections){this.set("collections",collections);this.set("collections_loaded",true);this.trigger("collections_loaded")},_getCollections:function(){return _.map(this.get("collections"),function(collection){collection.images=_.map(collection.images,function(image){return app.getImageInfo(image,null)});return collection})}});
var CreateCollectionModel=Backbone.Model.extend({defaults:{route:"tv_favourites_create_folder",categories:[]},collection:null,categories_loaded:false,form_datas:{name:null,categoryId:null,isPrivate:false},removeCollection:function(id){if(!id){return}var self=this;$.ajax({type:"DELETE",url:Routing.generate("tv_collection_remove",{id:id})}).success(function(data){self.trigger("collection_removed")})},getCategories:function(){if(this.get("categories").length>0){this.trigger("categories_loaded");return}var route=Routing.generate("tv_collection_collection_categories");var self=this;$.ajax({type:"GET",url:route}).success(function(categories){self.set("categories",categories);self.categories_loaded=true;self.trigger("categories_loaded")})},setCollection:function(collection){this.collection=collection},setDescription:function(description){this.form_datas["description"]=description},setFolderName:function(folderName){this.form_datas["name"]=folderName},setPrivate:function(checked){this.form_datas["isPrivate"]=checked},setCategory:function(categoryId){this.form_datas["categoryId"]=categoryId},_send:function(management,actions){var self=this;if(management=="create"){var route=Routing.generate("tv_favourites_create_folder");var trigger="send"}else{var route=Routing.generate("tv_favourites_edit_folder");self.form_datas["collection_id"]=actions.collection.id;var trigger="edit"}$.ajax({type:"POST",url:route,data:self.form_datas}).success(function(datas){self.set("response",datas);self.trigger(trigger,self)})},isValid:function(){var errors=[];if(!this.form_datas["categoryId"].length){errors.push("category")}if(!this.form_datas["name"]){errors.push("name")}return errors.length>0?errors:true},getResponse:function(){return this.get("response")}});
var AddToCollectionView=Backbone.View.extend({className:"tab-form active",itemModel:null,events:{"click .add-to-collection":"_addToCollection","click .create_folder":"_triggerCreateFolder"},template:Handlebars.templates.add_collection,initialize:function(options){this.model.on("collections_loaded",this.render,this);this.itemModel=options.itemModel;this.model.getCollections(this.itemModel)},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)},_triggerCreateFolder:function(){this.trigger("create_folder")},render:function(){var collections=this.model._getCollections();this.$el.html(this.template({collections:collections,empty_collections_loaded:this.model.get("collections_loaded")&&collections.length===0,loading_collections:this.model.get("collections_loaded")===false}));return this},_setCollectionAndSend:function(e){this.model.setIdCollection($(e.currentTarget).data("id"));this._send()},addInNewCollection:function(collection){this.model.addToCollection(collection)},_send:function(){this.model._send()},_addToCollection:function(e){this.itemModel.saveInCollection($(e.currentTarget).data("id"))}});
var app=app||{};(function(){"use strict";app.CollectionCollaborators=Backbone.Model.extend({currentCollection:null,currentCollaborators:[],fetchCollaborators:function(collection){var self=this;this.currentCollection=collection;$.ajax({type:"GET",url:Routing.generate("tv_collection_get_collaborators",{id:collection.id}),success:function(collaborators){if(collaborators.length>0){self.currentCollaborators=collaborators;self.trigger("collaborators_loaded",collaborators)}}})},searchUserByUsernameOrEmail:function(username){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_directory_suggest"),data:{text:username},success:function(users){if(users.length>0){self.trigger("show_users_found",users)}}})},existCollaborator:function(collaborator){for(var i=0;i<this.currentCollaborators.length;i++){if(this.currentCollaborators[i].id===collaborator.id){return true}}return false},addCollaborator:function(collaborator){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_collection_add_collaborator",{id:this.currentCollection.id}),data:{collaborator:collaborator.id},success:function(){}})},removeCollaborator:function(collaborator){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_collection_remove_collaborator",{id:this.currentCollection.id}),data:{collaborator:collaborator.id},success:function(){}})}})})();
var app=app||{};(function(){"use strict";app.CollectionCollaboratorView=Backbone.View.extend({events:{"keyup #username":"searchUser","click .add-colaborator":"addCollaborator"},initialize:function(){this.template=Handlebars.templates.collaborators_in;this.lightBox=new app.LightBox({el:"#lightbox-share"});this.model.on("collaborators_loaded",this.showCollaborators,this);this.model.on("show_users_found",this.showUsersFound,this)},show:function(collection){this.$el.html(this.template({collection:collection}));this.lightBox.show(this.el);this.model.fetchCollaborators(collection)},showCollaborators:function(collaborators){var self=this;var items=[];for(var i=0;i<collaborators.length;i++){var collaborator=collaborators[i];var item=this._createCollaboratorItem(collaborator);items.push(item)}this.$(".list-users").html(items)},_createCollaboratorItem:function(collaborator){var self=this;var image=$('<img width="32" height="32"/>').prop("src",app.assetTv(collaborator.photo)).prop("alt",collaborator.display_name);var deleteBtn=$('<div class="bt-delete"></div>');var li=$("<li/>");deleteBtn.click(function(){li.remove();self.model.removeCollaborator(collaborator)});var itemDiv=$('<div class="js-user" data-username="'+collaborator.username+'"></div>');itemDiv.append(image).append(deleteBtn);return li.append(itemDiv)},searchUser:function(e){var term=$(e.currentTarget).val();if(term.length<3){return}this.model.searchUserByUsernameOrEmail(term);this.$(".box-users-autocomplete").show()},completeEmail:function(text){this.$("#complete_email").text('Invite to "'+text+'"');if(this.isValidEmail(text)){this.$(".warning-email").hide()}else{this.$(".warning-email").show()}},isValidEmail:function(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)},addCollaborator:function(el){var currentTarget=$(el.currentTarget);var collaborator=currentTarget.data("user");if(!this.model.existCollaborator(collaborator)){this.$(".box-users-autocomplete").hide();this.$("#username").val("");var item=this._createCollaboratorItem(collaborator);this.$(".list-users").append(item);this.model.addCollaborator(collaborator)}},showUsersFound:function(users){var list=this.$("#suggest-list");var items=[];for(var i=0;i<users.length;i++){var item=$('<li class="add-colaborator"></li>');var text='<img src="'+app.thumb(users[i].photo,"thumb_user_70")+'" width="32" height="32"><span>'+users[i].display_name+"</span>";item.html(text);item.data("user",users[i]);items.push(item)}list.html(items)}})})();
(function(factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(typeof jQuery!="undefined"?jQuery:window.Zepto)}})(function($){"use strict";var feature={};feature.fileapi=$("<input type='file'/>").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;var hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp){return this.attr.apply(this,arguments)}var val=this.prop.apply(this,arguments);if(val&&val.jquery||typeof val==="string"){return val}return this.attr.apply(this,arguments)};$.fn.ajaxSubmit=function(options){if(!this.length){log("ajaxSubmit: skipping submit process - no element selected");return this}var method,action,url,$form=this;if(typeof options=="function"){options={success:options}}else if(options===undefined){options={}}method=options.type||this.attr2("method");action=options.url||this.attr2("action");url=typeof action==="string"?$.trim(action):"";url=url||window.location.href||"";if(url){url=(url.match(/^([^#]+)/)||[])[1]}options=$.extend(true,{url:url,success:$.ajaxSettings.success,type:method||$.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options);var veto={};this.trigger("form-pre-serialize",[this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var traditional=options.traditional;if(traditional===undefined){traditional=$.ajaxSettings.traditional}var elements=[];var qx,a=this.formToArray(options.semantic,elements);if(options.data){options.extraData=options.data;qx=$.param(options.data,traditional)}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[a,this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var q=$.param(a,traditional);if(qx){q=q?q+"&"+qx:qx}if(options.type.toUpperCase()=="GET"){options.url+=(options.url.indexOf("?")>=0?"&":"?")+q;options.data=null}else{options.data=q}var callbacks=[];if(options.resetForm){callbacks.push(function(){$form.resetForm()})}if(options.clearForm){callbacks.push(function(){$form.clearForm(options.includeHidden)})}if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})}else if(options.success){callbacks.push(options.success)}options.success=function(data,status,xhr){var context=options.context||this;for(var i=0,max=callbacks.length;i<max;i++){callbacks[i].apply(context,[data,status,xhr||$form,$form])}};if(options.error){var oldError=options.error;options.error=function(xhr,status,error){var context=options.context||this;oldError.apply(context,[xhr,status,error,$form])}}if(options.complete){var oldComplete=options.complete;options.complete=function(xhr,status){var context=options.context||this;oldComplete.apply(context,[xhr,status,$form])}}var fileInputs=$("input[type=file]:enabled",this).filter(function(){return $(this).val()!==""});var hasFileInputs=fileInputs.length>0;var mp="multipart/form-data";var multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp;var fileAPI=feature.fileapi&&feature.formdata;log("fileAPI :"+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;var jqxhr;if(options.iframe!==false&&(options.iframe||shouldUseFrame)){if(options.closeKeepAlive){$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a)})}else{jqxhr=fileUploadIframe(a)}}else if((hasFileInputs||multipart)&&fileAPI){jqxhr=fileUploadXhr(a)}else{jqxhr=$.ajax(options)}$form.removeData("jqxhr").data("jqxhr",jqxhr);for(var k=0;k<elements.length;k++){elements[k]=null}this.trigger("form-submit-notify",[this,options]);return this;function deepSerialize(extraData){var serialized=$.param(extraData,options.traditional).split("&");var len=serialized.length;var result=[];var i,part;for(i=0;i<len;i++){serialized[i]=serialized[i].replace(/\+/g," ");part=serialized[i].split("=");result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])])}return result}function fileUploadXhr(a){var formdata=new FormData;for(var i=0;i<a.length;i++){formdata.append(a[i].name,a[i].value)}if(options.extraData){var serializedData=deepSerialize(options.extraData);for(i=0;i<serializedData.length;i++){if(serializedData[i]){formdata.append(serializedData[i][0],serializedData[i][1])}}}options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:method||"POST"});if(options.uploadProgress){s.xhr=function(){var xhr=$.ajaxSettings.xhr();if(xhr.upload){xhr.upload.addEventListener("progress",function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable){percent=Math.ceil(position/total*100)}options.uploadProgress(event,position,total,percent)},false)}return xhr}}s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){if(options.formData){o.data=options.formData}else{o.data=formdata}if(beforeSend){beforeSend.call(this,xhr,o)}};return $.ajax(s)}function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var deferred=$.Deferred();deferred.abort=function(status){xhr.abort(status)};if(a){for(i=0;i<elements.length;i++){el=$(elements[i]);if(hasProp){el.prop("disabled",false)}else{el.removeAttr("disabled")}}}s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id="jqFormIO"+(new Date).getTime();if(s.iframeTarget){$io=$(s.iframeTarget);n=$io.attr2("name");if(!n){$io.attr2("name",id)}else{id=n}}else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />');$io.css({position:"absolute",top:"-1000px",left:"-1000px"})}io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=status==="timeout"?"timeout":"aborted";log("aborting upload... "+e);this.aborted=1;try{if(io.contentWindow.document.execCommand){io.contentWindow.document.execCommand("Stop")}}catch(ignore){}$io.attr("src",s.iframeSrc);xhr.error=e;if(s.error){s.error.call(s.context,xhr,e,status)}if(g){$.event.trigger("ajaxError",[xhr,s,e])}if(s.complete){s.complete.call(s.context,xhr,e)}}};g=s.global;if(g&&0===$.active++){$.event.trigger("ajaxStart")}if(g){$.event.trigger("ajaxSend",[xhr,s])}if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global){$.active--}deferred.reject();return deferred}if(xhr.aborted){deferred.reject();return deferred}sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+".x"]=form.clk_x;s.extraData[n+".y"]=form.clk_y}}}var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=null;try{if(frame.contentWindow){doc=frame.contentWindow.document}}catch(err){log("cannot get iframe.contentWindow document: "+err)}if(doc){return doc}try{doc=frame.contentDocument?frame.contentDocument:frame.document}catch(err){log("cannot get iframe.contentDocument: "+err);doc=frame.document}return doc}var csrf_token=$("meta[name=csrf-token]").attr("content");var csrf_param=$("meta[name=csrf-param]").attr("content");if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token}function doSubmit(){var t=$form.attr2("target"),a=$form.attr2("action"),mp="multipart/form-data",et=$form.attr("enctype")||$form.attr("encoding")||mp;form.setAttribute("target",id);if(!method||/post/i.test(method)){form.setAttribute("method","POST")}if(a!=s.url){form.setAttribute("action",s.url)}if(!s.skipEncodingOverride&&(!method||/post/i.test(method))){$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(s.timeout){timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT)},s.timeout)}function checkState(){try{var state=getDoc(io).readyState;log("state = "+state);if(state&&state.toLowerCase()=="uninitialized"){setTimeout(checkState,50)}}catch(e){log("Server abort: ",e," (",e.name,")");cb(SERVER_ABORT);if(timeoutHandle){clearTimeout(timeoutHandle)}timeoutHandle=undefined}}var extraInputs=[];try{if(s.extraData){for(var n in s.extraData){if(s.extraData.hasOwnProperty(n)){if($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty("name")&&s.extraData[n].hasOwnProperty("value")){extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">').val(s.extraData[n].value).appendTo(form)[0])}else{extraInputs.push($('<input type="hidden" name="'+n+'">').val(s.extraData[n]).appendTo(form)[0])}}}}if(!s.iframeTarget){$io.appendTo("body")}if(io.attachEvent){io.attachEvent("onload",cb)}else{io.addEventListener("load",cb,false)}setTimeout(checkState,15);try{form.submit()}catch(err){var submitFn=document.createElement("form").submit;submitFn.apply(form)}}finally{form.setAttribute("action",a);form.setAttribute("enctype",et);if(t){form.setAttribute("target",t)}else{$form.removeAttr("target")}$(extraInputs).remove()}}if(s.forceSync){doSubmit()}else{setTimeout(doSubmit,10)}var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed){return}doc=getDoc(io);if(!doc){log("cannot access response document");e=SERVER_ABORT}if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort("timeout");deferred.reject(xhr,"timeout");return}else if(e==SERVER_ABORT&&xhr){xhr.abort("server abort");deferred.reject(xhr,"error","server abort");return}if(!doc||doc.location.href==s.iframeSrc){if(!timedOut){return}}if(io.detachEvent){io.detachEvent("onload",cb)}else{io.removeEventListener("load",cb,false)}var status="success",errMsg;try{if(timedOut){throw"timeout"}var isXml=s.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc);log("isXml="+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML)){if(--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}}var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml){s.dataType="xml"}xhr.getResponseHeader=function(header){var headers={"content-type":s.dataType};return headers[header.toLowerCase()]};if(docRoot){xhr.status=Number(docRoot.getAttribute("status"))||xhr.status;xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText}var dt=(s.dataType||"").toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName("textarea")[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute("status"))||xhr.status;xhr.statusText=ta.getAttribute("statusText")||xhr.statusText}else if(scr){var pre=doc.getElementsByTagName("pre")[0];var b=doc.getElementsByTagName("body")[0];if(pre){xhr.responseText=pre.textContent?pre.textContent:pre.innerText}else if(b){xhr.responseText=b.textContent?b.textContent:b.innerText}}}else if(dt=="xml"&&!xhr.responseXML&&xhr.responseText){xhr.responseXML=toXml(xhr.responseText)}try{data=httpData(xhr,dt,s)}catch(err){status="parsererror";xhr.error=errMsg=err||status}}catch(err){log("error caught: ",err);status="error";xhr.error=errMsg=err||status}if(xhr.aborted){log("upload aborted");status=null}if(xhr.status){status=xhr.status>=200&&xhr.status<300||xhr.status===304?"success":"error"}if(status==="success"){if(s.success){s.success.call(s.context,data,"success",xhr)}deferred.resolve(xhr.responseText,"success",xhr);if(g){$.event.trigger("ajaxSuccess",[xhr,s])}}else if(status){if(errMsg===undefined){errMsg=xhr.statusText}if(s.error){s.error.call(s.context,xhr,status,errMsg)}deferred.reject(xhr,"error",errMsg);if(g){$.event.trigger("ajaxError",[xhr,s,errMsg])}}if(g){$.event.trigger("ajaxComplete",[xhr,s])}if(g&&!--$.active){$.event.trigger("ajaxStop")}if(s.complete){s.complete.call(s.context,xhr,status)}callbackProcessed=true;if(s.timeout){clearTimeout(timeoutHandle)}setTimeout(function(){if(!s.iframeTarget){$io.remove()}else{$io.attr("src",s.iframeSrc)}xhr.responseXML=null},100)}var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");doc.async="false";doc.loadXML(s)}else{doc=(new DOMParser).parseFromString(s,"text/xml")}return doc&&doc.documentElement&&doc.documentElement.nodeName!="parsererror"?doc:null};var parseJSON=$.parseJSON||function(s){return window["eval"]("("+s+")")};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){if($.error){$.error("parsererror")}}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){data=parseJSON(data)}else if(type==="script"||!type&&ct.indexOf("javascript")>=0){$.globalEval(data)}}return data};return deferred}};$.fn.ajaxForm=function(options){options=options||{};options.delegation=options.delegation&&$.isFunction($.fn.on);if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log("DOM not ready, queuing ajaxForm");$(function(){$(o.s,o.c).ajaxForm(options)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}if(options.delegation){$(document).off("submit.form-plugin",this.selector,doAjaxSubmit).off("click.form-plugin",this.selector,captureSubmittingElement).on("submit.form-plugin",this.selector,options,doAjaxSubmit).on("click.form-plugin",this.selector,options,captureSubmittingElement);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",options,doAjaxSubmit).bind("click.form-plugin",options,captureSubmittingElement)};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(e.target).ajaxSubmit(options)}}function captureSubmittingElement(e){var target=e.target;var $el=$(target);if(!$el.is("[type=submit],[type=image]")){var t=$el.closest("[type=submit]");if(t.length===0){return}target=t[0]}var form=this;form.clk=target;if(target.type=="image"){if(e.offsetX!==undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY}else if(typeof $.fn.offset=="function"){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop}}setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)}$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic,elements){var a=[];if(this.length===0){return a}var form=this[0];var formId=this.attr("id");var els=semantic?form.getElementsByTagName("*"):form.elements;var els2;if(els&&!/MSIE [678]/.test(navigator.userAgent)){els=$(els).get()}if(formId){els2=$(':input[form="'+formId+'"]').get();if(els2.length){els=(els||[]).concat(els2)}}if(!els||!els.length){return a}var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n||el.disabled){continue}if(semantic&&form.clk&&el.type=="image"){if(form.clk==el){a.push({name:n,value:$(el).val(),type:el.type});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}continue}v=$.fieldValue(el,true);if(v&&v.constructor==Array){if(elements){elements.push(el)}for(j=0,jmax=v.length;j<jmax;j++){a.push({name:n,value:v[j]})}}else if(feature.fileapi&&el.type=="file"){if(elements){elements.push(el)}var files=el.files;if(files.length){for(j=0;j<files.length;j++){a.push({name:n,value:files[j],type:el.type})}}else{a.push({name:n,value:"",type:el.type})}}else if(v!==null&&typeof v!="undefined"){if(elements){elements.push(el)}a.push({name:n,value:v,type:el.type,required:el.required})}}if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=="image"){a.push({name:n,value:$input.val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}}return a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n){return}var v=$.fieldValue(this,successful);if(v&&v.constructor==Array){for(var i=0,max=v.length;i<max;i++){a.push({name:n,value:v[i]})}}else if(v!==null&&typeof v!="undefined"){a.push({name:this.name,value:v})}});return $.param(a)};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=="undefined"||v.constructor==Array&&!v.length){continue}if(v.constructor==Array){$.merge(val,v)}else{val.push(v)}}return val};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined){successful=true}if(successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1)){return null}if(tag=="select"){var index=el.selectedIndex;if(index<0){return null}var a=[],ops=el.options;var one=t=="select-one";var max=one?index+1:ops.length;for(var i=one?index:0;i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v){v=op.attributes&&op.attributes.value&&!op.attributes.value.specified?op.text:op.value}if(one){return v}a.push(v)}}return a}return $(el).val()};$.fn.clearForm=function(includeHidden){return this.each(function(){$("input,select,textarea",this).clearFields(includeHidden)})};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag=="textarea"){this.value=""}else if(t=="checkbox"||t=="radio"){this.checked=false}else if(tag=="select"){this.selectedIndex=-1}else if(t=="file"){if(/MSIE/.test(navigator.userAgent)){$(this).replaceWith($(this).clone(true))}else{$(this).val("")}}else if(includeHidden){if(includeHidden===true&&/hidden/.test(t)||typeof includeHidden=="string"&&$(this).is(includeHidden)){this.value=""}}})};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};$.fn.enable=function(b){if(b===undefined){b=true}return this.each(function(){this.disabled=!b})};$.fn.selected=function(select){if(select===undefined){select=true}return this.each(function(){var t=this.type;if(t=="checkbox"||t=="radio"){this.checked=select}else if(this.tagName.toLowerCase()=="option"){var $sel=$(this).parent("select");if(select&&$sel[0]&&$sel[0].type=="select-one"){$sel.find("option").selected(false)}this.selected=select}})};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug){return}var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(msg)}else if(window.opera&&window.opera.postError){window.opera.postError(msg)}}});
(function(){"use strict";var $;var Swiper=function(container,params){if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,autoplayStopOnLast:false,iOSEdgeSwipeDetection:false,iOSEdgeSwipeThreshold:20,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,freeModeMinimumVelocity:.02,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},flip:{slideShadows:true,limitRotation:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,scrollbarDraggable:false,scrollbarSnapOnRelease:false,keyboardControl:false,mousewheelControl:false,mousewheelReleaseOnEdges:false,mousewheelInvert:false,mousewheelForceToAxis:false,mousewheelSensitivity:1,hashnav:false,breakpoints:undefined,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,uniqueNavElements:true,pagination:null,paginationElement:"span",paginationClickable:false,paginationHide:false,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:true,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,controlBy:"slide",allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:true};var initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};var originalParams={};for(var param in params){if(typeof params[param]==="object"&&params[param]!==null&&!(params[param].nodeType||params[param]===window||params[param]===document||typeof Dom7!=="undefined"&&params[param]instanceof Dom7||typeof jQuery!=="undefined"&&params[param]instanceof jQuery)){originalParams[param]={};for(var deepParam in params[param]){originalParams[param][deepParam]=params[param][deepParam]}}else{originalParams[param]=params[param]}}for(var def in defaults){if(typeof params[def]==="undefined"){params[def]=defaults[def]}else if(typeof params[def]==="object"){for(var deepDef in defaults[def]){if(typeof params[def][deepDef]==="undefined"){params[def][deepDef]=defaults[def][deepDef]}}}}var s=this;s.params=params;s.originalParams=originalParams;s.classNames=[];if(typeof $!=="undefined"&&typeof Dom7!=="undefined"){$=Dom7}if(typeof $==="undefined"){if(typeof Dom7==="undefined"){$=window.Dom7||window.Zepto||window.jQuery}else{$=Dom7}if(!$)return}s.$=$;s.currentBreakpoint=undefined;s.getActiveBreakpoint=function(){if(!s.params.breakpoints)return false;var breakpoint=false;var points=[],point;for(point in s.params.breakpoints){if(s.params.breakpoints.hasOwnProperty(point)){points.push(point)}}points.sort(function(a,b){return parseInt(a,10)>parseInt(b,10)});for(var i=0;i<points.length;i++){point=points[i];if(point>=window.innerWidth&&!breakpoint){breakpoint=point}}return breakpoint||"max"};s.setBreakpoint=function(){var breakpoint=s.getActiveBreakpoint();if(breakpoint&&s.currentBreakpoint!==breakpoint){var breakPointsParams=breakpoint in s.params.breakpoints?s.params.breakpoints[breakpoint]:s.originalParams;var needsReLoop=s.params.loop&&breakPointsParams.slidesPerView!==s.params.slidesPerView;for(var param in breakPointsParams){s.params[param]=breakPointsParams[param]}s.currentBreakpoint=breakpoint;if(needsReLoop&&s.destroyLoop){s.reLoop(true)}}};if(s.params.breakpoints){s.setBreakpoint()}s.container=$(container);if(s.container.length===0)return;if(s.container.length>1){var swipers=[];s.container.each(function(){var container=this;swipers.push(new Swiper(this,params))});return swipers}s.container[0].swiper=s;s.container.data("swiper",s);s.classNames.push("swiper-container-"+s.params.direction);if(s.params.freeMode){s.classNames.push("swiper-container-free-mode")}if(!s.support.flexbox){s.classNames.push("swiper-container-no-flexbox");s.params.slidesPerColumn=1}if(s.params.autoHeight){s.classNames.push("swiper-container-autoheight")}if(s.params.parallax||s.params.watchSlidesVisibility){s.params.watchSlidesProgress=true}if(["cube","coverflow","flip"].indexOf(s.params.effect)>=0){if(s.support.transforms3d){s.params.watchSlidesProgress=true;s.classNames.push("swiper-container-3d")}else{s.params.effect="slide"}}if(s.params.effect!=="slide"){s.classNames.push("swiper-container-"+s.params.effect)}if(s.params.effect==="cube"){s.params.resistanceRatio=0;s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.centeredSlides=false;s.params.spaceBetween=0;s.params.virtualTranslate=true;s.params.setWrapperSize=false}if(s.params.effect==="fade"||s.params.effect==="flip"){s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.watchSlidesProgress=true;s.params.spaceBetween=0;s.params.setWrapperSize=false;if(typeof initialVirtualTranslate==="undefined"){s.params.virtualTranslate=true}}if(s.params.grabCursor&&s.support.touch){s.params.grabCursor=false}s.wrapper=s.container.children("."+s.params.wrapperClass);if(s.params.pagination){s.paginationContainer=$(s.params.pagination);if(s.params.uniqueNavElements&&typeof s.params.pagination==="string"&&s.paginationContainer.length>1&&s.container.find(s.params.pagination).length===1){s.paginationContainer=s.container.find(s.params.pagination)}if(s.params.paginationType==="bullets"&&s.params.paginationClickable){s.paginationContainer.addClass("swiper-pagination-clickable")}else{s.params.paginationClickable=false}s.paginationContainer.addClass("swiper-pagination-"+s.params.paginationType)}if(s.params.nextButton||s.params.prevButton){if(s.params.nextButton){s.nextButton=$(s.params.nextButton);if(s.params.uniqueNavElements&&typeof s.params.nextButton==="string"&&s.nextButton.length>1&&s.container.find(s.params.nextButton).length===1){s.nextButton=s.container.find(s.params.nextButton)}}if(s.params.prevButton){s.prevButton=$(s.params.prevButton);if(s.params.uniqueNavElements&&typeof s.params.prevButton==="string"&&s.prevButton.length>1&&s.container.find(s.params.prevButton).length===1){s.prevButton=s.container.find(s.params.prevButton)}}}s.isHorizontal=function(){return s.params.direction==="horizontal"};s.rtl=s.isHorizontal()&&(s.container[0].dir.toLowerCase()==="rtl"||s.container.css("direction")==="rtl");if(s.rtl){s.classNames.push("swiper-container-rtl")}if(s.rtl){s.wrongRTL=s.wrapper.css("display")==="-webkit-box"}if(s.params.slidesPerColumn>1){s.classNames.push("swiper-container-multirow")}if(s.device.android){s.classNames.push("swiper-container-android")}s.container.addClass(s.classNames.join(" "));s.translate=0;s.progress=0;s.velocity=0;s.lockSwipeToNext=function(){s.params.allowSwipeToNext=false};s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=false};s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=false};s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=true};s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=true};s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=true};function round(a){return Math.floor(a)}if(s.params.grabCursor){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grab";s.container[0].style.cursor="-moz-grab";s.container[0].style.cursor="grab"}s.imagesToLoad=[];s.imagesLoaded=0;s.loadImage=function(imgElement,src,srcset,checkForComplete,callback){var image;function onReady(){if(callback)callback()}if(!imgElement.complete||!checkForComplete){if(src){image=new window.Image;image.onload=onReady;image.onerror=onReady;if(srcset){image.srcset=srcset}if(src){image.src=src}}else{onReady()}}else{onReady()}};s.preloadImages=function(){s.imagesToLoad=s.container.find("img");function _onReady(){if(typeof s==="undefined"||s===null)return;if(s.imagesLoaded!==undefined)s.imagesLoaded++;if(s.imagesLoaded===s.imagesToLoad.length){if(s.params.updateOnImagesReady)s.update();s.emit("onImagesReady",s)}}for(var i=0;i<s.imagesToLoad.length;i++){s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),s.imagesToLoad[i].srcset||s.imagesToLoad[i].getAttribute("srcset"),true,_onReady)}};s.autoplayTimeoutId=undefined;s.autoplaying=false;s.autoplayPaused=false;function autoplay(){s.autoplayTimeoutId=setTimeout(function(){if(s.params.loop){s.fixLoop();s._slideNext();s.emit("onAutoplay",s)}else{if(!s.isEnd){s._slideNext();s.emit("onAutoplay",s)}else{if(!params.autoplayStopOnLast){s._slideTo(0);s.emit("onAutoplay",s)}else{s.stopAutoplay()}}}},s.params.autoplay)}s.startAutoplay=function(){if(typeof s.autoplayTimeoutId!=="undefined")return false;if(!s.params.autoplay)return false;if(s.autoplaying)return false;s.autoplaying=true;s.emit("onAutoplayStart",s);autoplay()};s.stopAutoplay=function(internal){if(!s.autoplayTimeoutId)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplaying=false;s.autoplayTimeoutId=undefined;s.emit("onAutoplayStop",s)};s.pauseAutoplay=function(speed){if(s.autoplayPaused)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplayPaused=true;if(speed===0){s.autoplayPaused=false;autoplay()}else{s.wrapper.transitionEnd(function(){if(!s)return;s.autoplayPaused=false;if(!s.autoplaying){s.stopAutoplay()}else{autoplay()}})}};s.minTranslate=function(){return-s.snapGrid[0]};s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]};s.updateAutoHeight=function(){var slide=s.slides.eq(s.activeIndex)[0];if(typeof slide!=="undefined"){var newHeight=slide.offsetHeight;if(newHeight)s.wrapper.css("height",newHeight+"px")}};s.updateContainerSize=function(){var width,height;if(typeof s.params.width!=="undefined"){width=s.params.width}else{width=s.container[0].clientWidth}if(typeof s.params.height!=="undefined"){height=s.params.height}else{height=s.container[0].clientHeight}if(width===0&&s.isHorizontal()||height===0&&!s.isHorizontal()){return}width=width-parseInt(s.container.css("padding-left"),10)-parseInt(s.container.css("padding-right"),10);height=height-parseInt(s.container.css("padding-top"),10)-parseInt(s.container.css("padding-bottom"),10);s.width=width;s.height=height;s.size=s.isHorizontal()?s.width:s.height};s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass);s.snapGrid=[];s.slidesGrid=[];s.slidesSizesGrid=[];var spaceBetween=s.params.spaceBetween,slidePosition=-s.params.slidesOffsetBefore,i,prevSlideSize=0,index=0;if(typeof s.size==="undefined")return;if(typeof spaceBetween==="string"&&spaceBetween.indexOf("%")>=0){spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size}s.virtualSize=-spaceBetween;if(s.rtl)s.slides.css({marginLeft:"",marginTop:""});else s.slides.css({marginRight:"",marginBottom:""});var slidesNumberEvenToRows;if(s.params.slidesPerColumn>1){if(Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn){slidesNumberEvenToRows=s.slides.length}else{slidesNumberEvenToRows=Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn}if(s.params.slidesPerView!=="auto"&&s.params.slidesPerColumnFill==="row"){slidesNumberEvenToRows=Math.max(slidesNumberEvenToRows,s.params.slidesPerView*s.params.slidesPerColumn)}}var slideSize;var slidesPerColumn=s.params.slidesPerColumn;var slidesPerRow=slidesNumberEvenToRows/slidesPerColumn;var numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex;var column,row;if(s.params.slidesPerColumnFill==="column"){column=Math.floor(i/slidesPerColumn);row=i-column*slidesPerColumn;if(column>numFullColumns||column===numFullColumns&&row===slidesPerColumn-1){if(++row>=slidesPerColumn){row=0;column++}}newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn;slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,order:newSlideOrderIndex})}else{row=Math.floor(i/slidesPerRow);column=i-row*slidesPerRow}slide.css({"margin-top":row!==0&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}if(slide.css("display")==="none")continue;if(s.params.slidesPerView==="auto"){slideSize=s.isHorizontal()?slide.outerWidth(true):slide.outerHeight(true);if(s.params.roundLengths)slideSize=round(slideSize)}else{slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView;if(s.params.roundLengths)slideSize=round(slideSize);if(s.isHorizontal()){s.slides[i].style.width=slideSize+"px"}else{s.slides[i].style.height=slideSize+"px"}}s.slides[i].swiperSlideSize=slideSize;s.slidesSizesGrid.push(slideSize);if(s.params.centeredSlides){slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(i===0)slidePosition=slidePosition-s.size/2-spaceBetween;if(Math.abs(slidePosition)<1/1e3)slidePosition=0;if(index%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition)}else{if(index%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween}s.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index++}s.virtualSize=Math.max(s.virtualSize,s.size)+s.params.slidesOffsetAfter;var newSlidesGrid;if(s.rtl&&s.wrongRTL&&(s.params.effect==="slide"||s.params.effect==="coverflow")){s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"})}if(!s.support.flexbox||s.params.setWrapperSize){if(s.isHorizontal())s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});else s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})}if(s.params.slidesPerColumn>1){s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows;s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween;s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"});if(s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<s.virtualSize+s.snapGrid[0])newSlidesGrid.push(s.snapGrid[i])}s.snapGrid=newSlidesGrid}}if(!s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<=s.virtualSize-s.size){newSlidesGrid.push(s.snapGrid[i])}}s.snapGrid=newSlidesGrid;if(Math.floor(s.virtualSize-s.size)-Math.floor(s.snapGrid[s.snapGrid.length-1])>1){s.snapGrid.push(s.virtualSize-s.size)}}if(s.snapGrid.length===0)s.snapGrid=[0];if(s.params.spaceBetween!==0){if(s.isHorizontal()){if(s.rtl)s.slides.css({marginLeft:spaceBetween+"px"});else s.slides.css({marginRight:spaceBetween+"px"})}else s.slides.css({marginBottom:spaceBetween+"px"})}if(s.params.watchSlidesProgress){s.updateSlidesOffset()}};s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++){s.slides[i].swiperSlideOffset=s.isHorizontal()?s.slides[i].offsetLeft:s.slides[i].offsetTop}};s.updateSlidesProgress=function(translate){if(typeof translate==="undefined"){translate=s.translate||0}if(s.slides.length===0)return;if(typeof s.slides[0].swiperSlideOffset==="undefined")s.updateSlidesOffset();var offsetCenter=-translate;if(s.rtl)offsetCenter=translate;s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i];var slideProgress=(offsetCenter-slide.swiperSlideOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset);var slideAfter=slideBefore+s.slidesSizesGrid[i];var isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||slideBefore<=0&&slideAfter>=s.size;if(isVisible){s.slides.eq(i).addClass(s.params.slideVisibleClass)}}slide.progress=s.rtl?-slideProgress:slideProgress}};s.updateProgress=function(translate){if(typeof translate==="undefined"){translate=s.translate||0}var translatesDiff=s.maxTranslate()-s.minTranslate();var wasBeginning=s.isBeginning;var wasEnd=s.isEnd;if(translatesDiff===0){s.progress=0;s.isBeginning=s.isEnd=true}else{s.progress=(translate-s.minTranslate())/translatesDiff;s.isBeginning=s.progress<=0;s.isEnd=s.progress>=1}if(s.isBeginning&&!wasBeginning)s.emit("onReachBeginning",s);if(s.isEnd&&!wasEnd)s.emit("onReachEnd",s);if(s.params.watchSlidesProgress)s.updateSlidesProgress(translate);s.emit("onProgress",s,s.progress)};s.updateActiveIndex=function(){var translate=s.rtl?s.translate:-s.translate;var newActiveIndex,i,snapIndex;for(i=0;i<s.slidesGrid.length;i++){if(typeof s.slidesGrid[i+1]!=="undefined"){if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2){newActiveIndex=i}else if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]){newActiveIndex=i+1}}else{if(translate>=s.slidesGrid[i]){newActiveIndex=i}}}if(newActiveIndex<0||typeof newActiveIndex==="undefined")newActiveIndex=0;snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup);if(snapIndex>=s.snapGrid.length)snapIndex=s.snapGrid.length-1;if(newActiveIndex===s.activeIndex){return}s.snapIndex=snapIndex;s.previousIndex=s.activeIndex;s.activeIndex=newActiveIndex;s.updateClasses()};s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);activeSlide.addClass(s.params.slideActiveClass);var nextSlide=activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass);if(s.params.loop&&nextSlide.length===0){s.slides.eq(0).addClass(s.params.slideNextClass)}var prevSlide=activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass);if(s.params.loop&&prevSlide.length===0){s.slides.eq(-1).addClass(s.params.slidePrevClass)}if(s.paginationContainer&&s.paginationContainer.length>0){var current,total=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;if(s.params.loop){current=Math.ceil((s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup);if(current>s.slides.length-1-s.loopedSlides*2){current=current-(s.slides.length-s.loopedSlides*2)}if(current>total-1)current=current-total;if(current<0&&s.params.paginationType!=="bullets")current=total+current}else{if(typeof s.snapIndex!=="undefined"){current=s.snapIndex}else{current=s.activeIndex||0}}if(s.params.paginationType==="bullets"&&s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);if(s.paginationContainer.length>1){s.bullets.each(function(){if($(this).index()===current)$(this).addClass(s.params.bulletActiveClass)})}else{s.bullets.eq(current).addClass(s.params.bulletActiveClass)}}if(s.params.paginationType==="fraction"){s.paginationContainer.find("."+s.params.paginationCurrentClass).text(current+1);s.paginationContainer.find("."+s.params.paginationTotalClass).text(total)}if(s.params.paginationType==="progress"){var scale=(current+1)/total,scaleX=scale,scaleY=1;if(!s.isHorizontal()){scaleY=scale;scaleX=1}s.paginationContainer.find("."+s.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+scaleX+") scaleY("+scaleY+")").transition(s.params.speed)}if(s.params.paginationType==="custom"&&s.params.paginationCustomRender){s.paginationContainer.html(s.params.paginationCustomRender(s,current+1,total));s.emit("onPaginationRendered",s,s.paginationContainer[0])}}if(!s.params.loop){if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){if(s.isBeginning){s.prevButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.prevButton)}else{s.prevButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.prevButton)}}if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){if(s.isEnd){s.nextButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.nextButton)}else{s.nextButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.nextButton)}}}};s.updatePagination=function(){if(!s.params.pagination)return;if(s.paginationContainer&&s.paginationContainer.length>0){var paginationHTML="";if(s.params.paginationType==="bullets"){var numberOfBullets=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;for(var i=0;i<numberOfBullets;i++){if(s.params.paginationBulletRender){paginationHTML+=s.params.paginationBulletRender(i,s.params.bulletClass)}else{paginationHTML+="<"+s.params.paginationElement+' class="'+s.params.bulletClass+'"></'+s.params.paginationElement+">"}}s.paginationContainer.html(paginationHTML);s.bullets=s.paginationContainer.find("."+s.params.bulletClass);if(s.params.paginationClickable&&s.params.a11y&&s.a11y){s.a11y.initPagination()}}if(s.params.paginationType==="fraction"){if(s.params.paginationFractionRender){paginationHTML=s.params.paginationFractionRender(s,s.params.paginationCurrentClass,s.params.paginationTotalClass)}else{paginationHTML='<span class="'+s.params.paginationCurrentClass+'"></span>'+" / "+'<span class="'+s.params.paginationTotalClass+'"></span>'}s.paginationContainer.html(paginationHTML)}if(s.params.paginationType==="progress"){if(s.params.paginationProgressRender){paginationHTML=s.params.paginationProgressRender(s,s.params.paginationProgressbarClass)}else{paginationHTML='<span class="'+s.params.paginationProgressbarClass+'"></span>'}s.paginationContainer.html(paginationHTML)}if(s.params.paginationType!=="custom"){s.emit("onPaginationRendered",s,s.paginationContainer[0])}}};s.update=function(updateTranslate){s.updateContainerSize();s.updateSlidesSize();s.updateProgress();s.updatePagination();s.updateClasses();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set()}function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses()}if(updateTranslate){var translated,newTranslate;if(s.controller&&s.controller.spline){s.controller.spline=undefined}if(s.params.freeMode){forceSetTranslate();if(s.params.autoHeight){s.updateAutoHeight()}}else{if((s.params.slidesPerView==="auto"||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides){translated=s.slideTo(s.slides.length-1,0,false,true)}else{translated=s.slideTo(s.activeIndex,0,false,true)}if(!translated){forceSetTranslate()}}}else if(s.params.autoHeight){s.updateAutoHeight()}};s.onResize=function(forceUpdatePagination){if(s.params.breakpoints){s.setBreakpoint()}var allowSwipeToPrev=s.params.allowSwipeToPrev;var allowSwipeToNext=s.params.allowSwipeToNext;s.params.allowSwipeToPrev=s.params.allowSwipeToNext=true;s.updateContainerSize();s.updateSlidesSize();if(s.params.slidesPerView==="auto"||s.params.freeMode||forceUpdatePagination)s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set()}if(s.controller&&s.controller.spline){s.controller.spline=undefined}var slideChangedBySlideTo=false;if(s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();if(s.params.autoHeight){s.updateAutoHeight()}}else{s.updateClasses();if((s.params.slidesPerView==="auto"||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides){slideChangedBySlideTo=s.slideTo(s.slides.length-1,0,false,true)}else{slideChangedBySlideTo=s.slideTo(s.activeIndex,0,false,true)}}if(s.params.lazyLoading&&!slideChangedBySlideTo&&s.lazy){s.lazy.load()}s.params.allowSwipeToPrev=allowSwipeToPrev;s.params.allowSwipeToNext=allowSwipeToNext};var desktopEvents=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled)desktopEvents=["pointerdown","pointermove","pointerup"];else if(window.navigator.msPointerEnabled)desktopEvents=["MSPointerDown","MSPointerMove","MSPointerUp"];s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(s.params.touchEventsTarget==="container"?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction)}s.initEvents=function(detach){var actionDom=detach?"off":"on";var action=detach?"removeEventListener":"addEventListener";var touchEventsTarget=s.params.touchEventsTarget==="container"?s.container[0]:s.wrapper[0];var target=s.support.touch?touchEventsTarget:document;var moveCapture=s.params.nested?true:false;if(s.browser.ie){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);target[action](s.touchEvents.move,s.onTouchMove,moveCapture);target[action](s.touchEvents.end,s.onTouchEnd,false)}else{if(s.support.touch){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture);touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,false)}if(params.simulateTouch&&!s.device.ios&&!s.device.android){touchEventsTarget[action]("mousedown",s.onTouchStart,false);document[action]("mousemove",s.onTouchMove,moveCapture);document[action]("mouseup",s.onTouchEnd,false)}}window[action]("resize",s.onResize);if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.nextButton[actionDom]("click",s.onClickNext);if(s.params.a11y&&s.a11y)s.nextButton[actionDom]("keydown",s.a11y.onEnterKey)}if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.prevButton[actionDom]("click",s.onClickPrev);if(s.params.a11y&&s.a11y)s.prevButton[actionDom]("keydown",s.a11y.onEnterKey)}if(s.params.pagination&&s.params.paginationClickable){s.paginationContainer[actionDom]("click","."+s.params.bulletClass,s.onClickIndex);if(s.params.a11y&&s.a11y)s.paginationContainer[actionDom]("keydown","."+s.params.bulletClass,s.a11y.onEnterKey)}if(s.params.preventClicks||s.params.preventClicksPropagation)touchEventsTarget[action]("click",s.preventClicks,true)};s.attachEvents=function(){s.initEvents()};s.detachEvents=function(){s.initEvents(true)};s.allowClick=true;s.preventClicks=function(e){if(!s.allowClick){if(s.params.preventClicks)e.preventDefault();if(s.params.preventClicksPropagation&&s.animating){e.stopPropagation();e.stopImmediatePropagation()}}};s.onClickNext=function(e){e.preventDefault();if(s.isEnd&&!s.params.loop)return;s.slideNext()};s.onClickPrev=function(e){e.preventDefault();if(s.isBeginning&&!s.params.loop)return;s.slidePrev()};s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;if(s.params.loop)index=index+s.loopedSlides;s.slideTo(index)};function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector)){if(typeof selector==="string"){el=el.parents(selector)}else if(selector.nodeType){var found;el.parents().each(function(index,_el){if(_el===selector)found=selector});if(!found)return undefined;else return selector}}if(el.length===0){return undefined}return el[0]}s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass);var slideFound=false;if(slide){for(var i=0;i<s.slides.length;i++){if(s.slides[i]===slide)slideFound=true}}if(slide&&slideFound){s.clickedSlide=slide;s.clickedIndex=$(slide).index()}else{s.clickedSlide=undefined;s.clickedIndex=undefined;return}if(s.params.slideToClickedSlide&&s.clickedIndex!==undefined&&s.clickedIndex!==s.activeIndex){var slideToIndex=s.clickedIndex,realIndex,duplicatedSlides;if(s.params.loop){if(s.animating)return;realIndex=$(s.clickedSlide).attr("data-swiper-slide-index");if(s.params.centeredSlides){if(slideToIndex<s.loopedSlides-s.params.slidesPerView/2||slideToIndex>s.slides.length-s.loopedSlides+s.params.slidesPerView/2){s.fixLoop();slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex)},0)}else{s.slideTo(slideToIndex)}}else{if(slideToIndex>s.slides.length-s.params.slidesPerView){s.fixLoop();slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex)},0)}else{s.slideTo(slideToIndex)}}}else{s.slideTo(slideToIndex)}}};var isTouched,isMoved,allowTouchCallbacks,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,formElements="input, select, textarea, button",lastClickTime=Date.now(),clickTimeout,velocities=[],allowMomentumBounce;s.animating=false;s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;s.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;isTouchEvent=e.type==="touchstart";if(!isTouchEvent&&"which"in e&&e.which===3)return;if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass)){s.allowClick=true;return}if(s.params.swipeHandler){if(!findElementInEvent(e,s.params.swipeHandler))return}var startX=s.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;var startY=s.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY;if(s.device.ios&&s.params.iOSEdgeSwipeDetection&&startX<=s.params.iOSEdgeSwipeThreshold){return}isTouched=true;isMoved=false;allowTouchCallbacks=true;isScrolling=undefined;startMoving=undefined;s.touches.startX=startX;s.touches.startY=startY;touchStartTime=Date.now();s.allowClick=true;s.updateContainerSize();s.swipeDirection=undefined;if(s.params.threshold>0)allowThresholdMove=false;if(e.type!=="touchstart"){var preventDefault=true;if($(e.target).is(formElements))preventDefault=false;if(document.activeElement&&$(document.activeElement).is(formElements)){document.activeElement.blur()}if(preventDefault){e.preventDefault()}}s.emit("onTouchStart",s,e)};s.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(isTouchEvent&&e.type==="mousemove")return;if(e.preventedByNestedSwiper){s.touches.startX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.startY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;return}if(s.params.onlyExternal){s.allowClick=false;if(isTouched){s.touches.startX=s.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.startY=s.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;touchStartTime=Date.now();
}return}if(isTouchEvent&&document.activeElement){if(e.target===document.activeElement&&$(e.target).is(formElements)){isMoved=true;s.allowClick=false;return}}if(allowTouchCallbacks){s.emit("onTouchMove",s,e)}if(e.targetTouches&&e.targetTouches.length>1)return;s.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;s.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof isScrolling==="undefined"){var touchAngle=Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))*180/Math.PI;isScrolling=s.isHorizontal()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling){s.emit("onTouchMoveOpposite",s,e)}if(typeof startMoving==="undefined"&&s.browser.ieTouch){if(s.touches.currentX!==s.touches.startX||s.touches.currentY!==s.touches.startY){startMoving=true}}if(!isTouched)return;if(isScrolling){isTouched=false;return}if(!startMoving&&s.browser.ieTouch){return}s.allowClick=false;s.emit("onSliderMove",s,e);e.preventDefault();if(s.params.touchMoveStopPropagation&&!s.params.nested){e.stopPropagation()}if(!isMoved){if(params.loop){s.fixLoop()}startTranslate=s.getWrapperTranslate();s.setWrapperTransition(0);if(s.animating){s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(s.params.autoplay&&s.autoplaying){if(s.params.autoplayDisableOnInteraction){s.stopAutoplay()}else{s.pauseAutoplay()}}allowMomentumBounce=false;if(s.params.grabCursor){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grabbing";s.container[0].style.cursor="-moz-grabbin";s.container[0].style.cursor="grabbing"}}isMoved=true;var diff=s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff=diff*s.params.touchRatio;if(s.rtl)diff=-diff;s.swipeDirection=diff>0?"prev":"next";currentTranslate=diff+startTranslate;var disableParentSwiper=true;if(diff>0&&currentTranslate>s.minTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio)}else if(diff<0&&currentTranslate<s.maxTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio)}if(disableParentSwiper){e.preventedByNestedSwiper=true}if(!s.params.allowSwipeToNext&&s.swipeDirection==="next"&&currentTranslate<startTranslate){currentTranslate=startTranslate}if(!s.params.allowSwipeToPrev&&s.swipeDirection==="prev"&&currentTranslate>startTranslate){currentTranslate=startTranslate}if(!s.params.followFinger)return;if(s.params.threshold>0){if(Math.abs(diff)>s.params.threshold||allowThresholdMove){if(!allowThresholdMove){allowThresholdMove=true;s.touches.startX=s.touches.currentX;s.touches.startY=s.touches.currentY;currentTranslate=startTranslate;s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;return}}else{currentTranslate=startTranslate;return}}if(s.params.freeMode||s.params.watchSlidesProgress){s.updateActiveIndex()}if(s.params.freeMode){if(velocities.length===0){velocities.push({position:s.touches[s.isHorizontal()?"startX":"startY"],time:touchStartTime})}velocities.push({position:s.touches[s.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})}s.updateProgress(currentTranslate);s.setWrapperTranslate(currentTranslate)};s.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;if(allowTouchCallbacks){s.emit("onTouchEnd",s,e)}allowTouchCallbacks=false;if(!isTouched)return;if(s.params.grabCursor&&isMoved&&isTouched){s.container[0].style.cursor="move";s.container[0].style.cursor="-webkit-grab";s.container[0].style.cursor="-moz-grab";s.container[0].style.cursor="grab"}var touchEndTime=Date.now();var timeDiff=touchEndTime-touchStartTime;if(s.allowClick){s.updateClickedSlide(e);s.emit("onTap",s,e);if(timeDiff<300&&touchEndTime-lastClickTime>300){if(clickTimeout)clearTimeout(clickTimeout);clickTimeout=setTimeout(function(){if(!s)return;if(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)){s.paginationContainer.toggleClass(s.params.paginationHiddenClass)}s.emit("onClick",s,e)},300)}if(timeDiff<300&&touchEndTime-lastClickTime<300){if(clickTimeout)clearTimeout(clickTimeout);s.emit("onDoubleTap",s,e)}}lastClickTime=Date.now();setTimeout(function(){if(s)s.allowClick=true},0);if(!isTouched||!isMoved||!s.swipeDirection||s.touches.diff===0||currentTranslate===startTranslate){isTouched=isMoved=false;return}isTouched=isMoved=false;var currentPos;if(s.params.followFinger){currentPos=s.rtl?s.translate:-s.translate}else{currentPos=-currentTranslate}if(s.params.freeMode){if(currentPos<-s.minTranslate()){s.slideTo(s.activeIndex);return}else if(currentPos>-s.maxTranslate()){if(s.slides.length<s.snapGrid.length){s.slideTo(s.snapGrid.length-1)}else{s.slideTo(s.slides.length-1)}return}if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop();var distance=lastMoveEvent.position-velocityEvent.position;var time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time;s.velocity=s.velocity/2;if(Math.abs(s.velocity)<s.params.freeModeMinimumVelocity){s.velocity=0}if(time>150||(new window.Date).getTime()-lastMoveEvent.time>300){s.velocity=0}}else{s.velocity=0}velocities.length=0;var momentumDuration=1e3*s.params.freeModeMomentumRatio;var momentumDistance=s.velocity*momentumDuration;var newPosition=s.translate+momentumDistance;if(s.rtl)newPosition=-newPosition;var doBounce=false;var afterBouncePosition;var bounceAmount=Math.abs(s.velocity)*20*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition+s.maxTranslate()<-bounceAmount){newPosition=s.maxTranslate()-bounceAmount}afterBouncePosition=s.maxTranslate();doBounce=true;allowMomentumBounce=true}else{newPosition=s.maxTranslate()}}else if(newPosition>s.minTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition-s.minTranslate()>bounceAmount){newPosition=s.minTranslate()+bounceAmount}afterBouncePosition=s.minTranslate();doBounce=true;allowMomentumBounce=true}else{newPosition=s.minTranslate()}}else if(s.params.freeModeSticky){var j=0,nextSlide;for(j=0;j<s.snapGrid.length;j+=1){if(s.snapGrid[j]>-newPosition){nextSlide=j;break}}if(Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||s.swipeDirection==="next"){newPosition=s.snapGrid[nextSlide]}else{newPosition=s.snapGrid[nextSlide-1]}if(!s.rtl)newPosition=-newPosition}if(s.velocity!==0){if(s.rtl){momentumDuration=Math.abs((-newPosition-s.translate)/s.velocity)}else{momentumDuration=Math.abs((newPosition-s.translate)/s.velocity)}}else if(s.params.freeModeSticky){s.slideReset();return}if(s.params.freeModeMomentumBounce&&doBounce){s.updateProgress(afterBouncePosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();s.animating=true;s.wrapper.transitionEnd(function(){if(!s||!allowMomentumBounce)return;s.emit("onMomentumBounce",s);s.setWrapperTransition(s.params.speed);s.setWrapperTranslate(afterBouncePosition);s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd()})})}else if(s.velocity){s.updateProgress(newPosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd()})}}else{s.updateProgress(newPosition)}s.updateActiveIndex()}if(!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs){s.updateProgress();s.updateActiveIndex()}return}var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup){if(typeof s.slidesGrid[i+s.params.slidesPerGroup]!=="undefined"){if(currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]){stopIndex=i;groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]}}else{if(currentPos>=s.slidesGrid[i]){stopIndex=i;groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]}}}var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes){s.slideTo(s.activeIndex);return}if(s.swipeDirection==="next"){if(ratio>=s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex)}if(s.swipeDirection==="prev"){if(ratio>1-s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex)}}else{if(!s.params.shortSwipes){s.slideTo(s.activeIndex);return}if(s.swipeDirection==="next"){s.slideTo(stopIndex+s.params.slidesPerGroup)}if(s.swipeDirection==="prev"){s.slideTo(stopIndex)}}};s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,true,true)};s.slideTo=function(slideIndex,speed,runCallbacks,internal){if(typeof runCallbacks==="undefined")runCallbacks=true;if(typeof slideIndex==="undefined")slideIndex=0;if(slideIndex<0)slideIndex=0;s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup);if(s.snapIndex>=s.snapGrid.length)s.snapIndex=s.snapGrid.length-1;var translate=-s.snapGrid[s.snapIndex];if(s.params.autoplay&&s.autoplaying){if(internal||!s.params.autoplayDisableOnInteraction){s.pauseAutoplay(speed)}else{s.stopAutoplay()}}s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++){if(-Math.floor(translate*100)>=Math.floor(s.slidesGrid[i]*100)){slideIndex=i}}if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate()){return false}if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate()){if((s.activeIndex||0)!==slideIndex)return false}if(typeof speed==="undefined")speed=s.params.speed;s.previousIndex=s.activeIndex||0;s.activeIndex=slideIndex;if(s.rtl&&-translate===s.translate||!s.rtl&&translate===s.translate){if(s.params.autoHeight){s.updateAutoHeight()}s.updateClasses();if(s.params.effect!=="slide"){s.setWrapperTranslate(translate)}return false}s.updateClasses();s.onTransitionStart(runCallbacks);if(speed===0){s.setWrapperTranslate(translate);s.setWrapperTransition(0);s.onTransitionEnd(runCallbacks)}else{s.setWrapperTranslate(translate);s.setWrapperTransition(speed);if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd(runCallbacks)})}}return true};s.onTransitionStart=function(runCallbacks){if(typeof runCallbacks==="undefined")runCallbacks=true;if(s.params.autoHeight){s.updateAutoHeight()}if(s.lazy)s.lazy.onTransitionStart();if(runCallbacks){s.emit("onTransitionStart",s);if(s.activeIndex!==s.previousIndex){s.emit("onSlideChangeStart",s);if(s.activeIndex>s.previousIndex){s.emit("onSlideNextStart",s)}else{s.emit("onSlidePrevStart",s)}}}};s.onTransitionEnd=function(runCallbacks){s.animating=false;s.setWrapperTransition(0);if(typeof runCallbacks==="undefined")runCallbacks=true;if(s.lazy)s.lazy.onTransitionEnd();if(runCallbacks){s.emit("onTransitionEnd",s);if(s.activeIndex!==s.previousIndex){s.emit("onSlideChangeEnd",s);if(s.activeIndex>s.previousIndex){s.emit("onSlideNextEnd",s)}else{s.emit("onSlidePrevEnd",s)}}}if(s.params.hashnav&&s.hashnav){s.hashnav.setHash()}};s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)}else return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)};s._slideNext=function(speed){return s.slideNext(true,speed,true)};s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)}else return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)};s._slidePrev=function(speed){return s.slidePrev(true,speed,true)};s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks)};s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration);if(s.params.effect!=="slide"&&s.effects[s.params.effect]){s.effects[s.params.effect].setTransition(duration)}if(s.params.parallax&&s.parallax){s.parallax.setTransition(duration)}if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTransition(duration)}if(s.params.control&&s.controller){s.controller.setTransition(duration,byController)}s.emit("onSetTransition",s,duration)};s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;if(s.isHorizontal()){x=s.rtl?-translate:translate}else{y=translate}if(s.params.roundLengths){x=round(x);y=round(y)}if(!s.params.virtualTranslate){if(s.support.transforms3d)s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)");else s.wrapper.transform("translate("+x+"px, "+y+"px)")}s.translate=s.isHorizontal()?x:y;var progress;var translatesDiff=s.maxTranslate()-s.minTranslate();if(translatesDiff===0){progress=0}else{progress=(translate-s.minTranslate())/translatesDiff}if(progress!==s.progress){s.updateProgress(translate)}if(updateActiveIndex)s.updateActiveIndex();if(s.params.effect!=="slide"&&s.effects[s.params.effect]){s.effects[s.params.effect].setTranslate(s.translate)}if(s.params.parallax&&s.parallax){s.parallax.setTranslate(s.translate)}if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTranslate(s.translate)}if(s.params.control&&s.controller){s.controller.setTranslate(s.translate,byController)}s.emit("onSetTranslate",s,s.translate)};s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;if(typeof axis==="undefined"){axis="x"}if(s.params.virtualTranslate){return s.rtl?-s.translate:s.translate}curStyle=window.getComputedStyle(el,null);if(window.WebKitCSSMatrix){curTransform=curStyle.transform||curStyle.webkitTransform;if(curTransform.split(",").length>6){curTransform=curTransform.split(", ").map(function(a){return a.replace(",",".")}).join(", ")}transformMatrix=new window.WebKitCSSMatrix(curTransform==="none"?"":curTransform)}else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");matrix=transformMatrix.toString().split(",")}if(axis==="x"){if(window.WebKitCSSMatrix)curTransform=transformMatrix.m41;else if(matrix.length===16)curTransform=parseFloat(matrix[12]);else curTransform=parseFloat(matrix[4])}if(axis==="y"){if(window.WebKitCSSMatrix)curTransform=transformMatrix.m42;else if(matrix.length===16)curTransform=parseFloat(matrix[13]);else curTransform=parseFloat(matrix[5])}if(s.rtl&&curTransform)curTransform=-curTransform;return curTransform||0};s.getWrapperTranslate=function(axis){if(typeof axis==="undefined"){axis=s.isHorizontal()?"x":"y"}return s.getTranslate(s.wrapper[0],axis)};s.observers=[];function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver;var observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(true);s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:typeof options.attributes==="undefined"?true:options.attributes,childList:typeof options.childList==="undefined"?true:options.childList,characterData:typeof options.characterData==="undefined"?true:options.characterData});s.observers.push(observer)}s.initObservers=function(){if(s.params.observeParents){var containerParents=s.container.parents();for(var i=0;i<containerParents.length;i++){initObserver(containerParents[i])}}initObserver(s.container[0],{childList:false});initObserver(s.wrapper[0],{attributes:false})};s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++){s.observers[i].disconnect()}s.observers=[]};s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children("."+s.params.slideClass);if(s.params.slidesPerView==="auto"&&!s.params.loopedSlides)s.params.loopedSlides=slides.length;s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10);s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides;if(s.loopedSlides>slides.length){s.loopedSlides=slides.length}var prependSlides=[],appendSlides=[],i;slides.each(function(index,el){var slide=$(this);if(index<s.loopedSlides)appendSlides.push(el);if(index<slides.length&&index>=slides.length-s.loopedSlides)prependSlides.push(el);slide.attr("data-swiper-slide-index",index)});for(i=0;i<appendSlides.length;i++){s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass))}for(i=prependSlides.length-1;i>=0;i--){s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass))}};s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();s.slides.removeAttr("data-swiper-slide-index")};s.reLoop=function(updatePosition){var oldIndex=s.activeIndex-s.loopedSlides;s.destroyLoop();s.createLoop();s.updateSlidesSize();if(updatePosition){s.slideTo(oldIndex+s.loopedSlides,0,false)}};s.fixLoop=function(){var newIndex;if(s.activeIndex<s.loopedSlides){newIndex=s.slides.length-s.loopedSlides*3+s.activeIndex;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true)}else if(s.params.slidesPerView==="auto"&&s.activeIndex>=s.loopedSlides*2||s.activeIndex>s.slides.length-s.params.slidesPerView*2){newIndex=-s.slides.length+s.activeIndex+s.loopedSlides;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true)}};s.appendSlide=function(slides){if(s.params.loop){s.destroyLoop()}if(typeof slides==="object"&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.append(slides[i])}}else{s.wrapper.append(slides)}if(s.params.loop){s.createLoop()}if(!(s.params.observer&&s.support.observer)){s.update(true)}};s.prependSlide=function(slides){if(s.params.loop){s.destroyLoop()}var newActiveIndex=s.activeIndex+1;if(typeof slides==="object"&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.prepend(slides[i])}newActiveIndex=s.activeIndex+slides.length}else{s.wrapper.prepend(slides)}if(s.params.loop){s.createLoop()}if(!(s.params.observer&&s.support.observer)){s.update(true)}s.slideTo(newActiveIndex,0,false)};s.removeSlide=function(slidesIndexes){if(s.params.loop){s.destroyLoop();s.slides=s.wrapper.children("."+s.params.slideClass)}var newActiveIndex=s.activeIndex,indexToRemove;if(typeof slidesIndexes==="object"&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++){indexToRemove=slidesIndexes[i];if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--}newActiveIndex=Math.max(newActiveIndex,0)}else{indexToRemove=slidesIndexes;if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}if(s.params.loop){s.createLoop()}if(!(s.params.observer&&s.support.observer)){s.update(true)}if(s.params.loop){s.slideTo(newActiveIndex+s.loopedSlides,0,false)}else{s.slideTo(newActiveIndex,0,false)}};s.removeAllSlides=function(){var slidesIndexes=[];for(var i=0;i<s.slides.length;i++){slidesIndexes.push(i)}s.removeSlide(slidesIndexes)};s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var offset=slide[0].swiperSlideOffset;var tx=-offset;if(!s.params.virtualTranslate)tx=tx-s.translate;var ty=0;if(!s.isHorizontal()){ty=tx;tx=0}var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform("translate3d("+tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){s.slides.transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.transitionEnd(function(){if(eventTriggered)return;if(!s)return;eventTriggered=true;s.animating=false;var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i])}})}}},flip:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var progress=slide[0].progress;if(s.params.flip.limitRotation){progress=Math.max(Math.min(slide[0].progress,1),-1)}var offset=slide[0].swiperSlideOffset;var rotate=-180*progress,rotateY=rotate,rotateX=0,tx=-offset,ty=0;if(!s.isHorizontal()){ty=tx;tx=0;rotateX=-rotateY;rotateY=0}else if(s.rtl){rotateY=-rotateY}slide[0].style.zIndex=-Math.abs(Math.round(progress))+s.slides.length;if(s.params.flip.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"></div>');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"></div>');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0)}slide.transform("translate3d("+tx+"px, "+ty+"px, 0px) rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)")}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.eq(s.activeIndex).transitionEnd(function(){if(eventTriggered)return;if(!s)return;if(!$(this).hasClass(s.params.slideActiveClass))return;eventTriggered=true;s.animating=false;var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i])}})}}},cube:{setTranslate:function(){var wrapperRotate=0,cubeShadow;if(s.params.cube.shadow){if(s.isHorizontal()){cubeShadow=s.wrapper.find(".swiper-cube-shadow");if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.wrapper.append(cubeShadow)}cubeShadow.css({height:s.width+"px"})}else{cubeShadow=s.container.find(".swiper-cube-shadow");if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.container.append(cubeShadow)}}}for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var slideAngle=i*90;var round=Math.floor(slideAngle/360);if(s.rtl){slideAngle=-slideAngle;round=Math.floor(-slideAngle/360)}var progress=Math.max(Math.min(slide[0].progress,1),-1);var tx=0,ty=0,tz=0;if(i%4===0){tx=-round*4*s.size;tz=0}else if((i-1)%4===0){tx=0;tz=-round*4*s.size}else if((i-2)%4===0){tx=s.size+round*4*s.size;tz=s.size}else if((i-3)%4===0){tx=-s.size;tz=3*s.size+s.size*4*round}if(s.rtl){tx=-tx}if(!s.isHorizontal()){ty=tx;tx=0}var transform="rotateX("+(s.isHorizontal()?0:-slideAngle)+"deg) rotateY("+(s.isHorizontal()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(progress<=1&&progress>-1){wrapperRotate=i*90+progress*90;if(s.rtl)wrapperRotate=-i*90-progress*90}slide.transform(transform);if(s.params.cube.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"></div>');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"></div>');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0)}}s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"});if(s.params.cube.shadow){if(s.isHorizontal()){cubeShadow.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")")}else{var shadowAngle=Math.abs(wrapperRotate)-Math.floor(Math.abs(wrapperRotate)/90)*90;var multiplier=1.5-(Math.sin(shadowAngle*2*Math.PI/360)/2+Math.cos(shadowAngle*2*Math.PI/360)/2);var scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(s.isHorizontal()?0:wrapperRotate)+"deg) rotateY("+(s.isHorizontal()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration);if(s.params.cube.shadow&&!s.isHorizontal()){s.container.find(".swiper-cube-shadow").transition(duration)}}},coverflow:{setTranslate:function(){var transform=s.translate;var center=s.isHorizontal()?-transform+s.width/2:-transform+s.height/2;var rotate=s.isHorizontal()?s.params.coverflow.rotate:-s.params.coverflow.rotate;var translate=s.params.coverflow.depth;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideSize=s.slidesSizesGrid[i];var slideOffset=slide[0].swiperSlideOffset;var offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier;var rotateY=s.isHorizontal()?rotate*offsetMultiplier:0;var rotateX=s.isHorizontal()?0:rotate*offsetMultiplier;var translateZ=-translate*Math.abs(offsetMultiplier);var translateY=s.isHorizontal()?0:s.params.coverflow.stretch*offsetMultiplier;var translateX=s.isHorizontal()?s.params.coverflow.stretch*offsetMultiplier:0;if(Math.abs(translateX)<.001)translateX=0;if(Math.abs(translateY)<.001)translateY=0;if(Math.abs(translateZ)<.001)translateZ=0;if(Math.abs(rotateY)<.001)rotateY=0;if(Math.abs(rotateX)<.001)rotateX=0;var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";slide.transform(slideTransform);slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1;if(s.params.coverflow.slideShadows){var shadowBefore=s.isHorizontal()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top");var shadowAfter=s.isHorizontal()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"left":"top")+'"></div>');slide.append(shadowBefore)}if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?"right":"bottom")+'"></div>');slide.append(shadowAfter)}if(shadowBefore.length)shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0;if(shadowAfter.length)shadowAfter[0].style.opacity=-offsetMultiplier>0?-offsetMultiplier:0}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}};s.lazy={initialImageLoaded:false,loadImageInSlide:function(index,loadInDuplicate){if(typeof index==="undefined")return;if(typeof loadInDuplicate==="undefined")loadInDuplicate=true;if(s.slides.length===0)return;var slide=s.slides.eq(index);var img=slide.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(slide.hasClass("swiper-lazy")&&!slide.hasClass("swiper-lazy-loaded")&&!slide.hasClass("swiper-lazy-loading")){img=img.add(slide[0])}if(img.length===0)return;img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var background=_img.attr("data-background");var src=_img.attr("data-src"),srcset=_img.attr("data-srcset");s.loadImage(_img[0],src||background,srcset,false,function(){if(background){_img.css("background-image",'url("'+background+'")');_img.removeAttr("data-background")}else{if(srcset){_img.attr("srcset",srcset);_img.removeAttr("data-srcset")}if(src){_img.attr("src",src);_img.removeAttr("data-src")}}_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");slide.find(".swiper-lazy-preloader, .preloader").remove();if(s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr("data-swiper-slide-index");if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=s.wrapper.children('[data-swiper-slide-index="'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+")");s.lazy.loadImageInSlide(originalSlide.index(),false)}else{var duplicatedSlide=s.wrapper.children("."+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),false)}}s.emit("onLazyImageReady",s,slide[0],_img[0])});s.emit("onLazyImageLoad",s,slide[0],_img[0])})},load:function(){var i;if(s.params.watchSlidesVisibility){s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())})}else{if(s.params.slidesPerView>1){for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}}else{s.lazy.loadImageInSlide(s.activeIndex)}}if(s.params.lazyLoadingInPrevNext){if(s.params.slidesPerView>1||s.params.lazyLoadingInPrevNextAmount&&s.params.lazyLoadingInPrevNextAmount>1){var amount=s.params.lazyLoadingInPrevNextAmount;var spv=s.params.slidesPerView;var maxIndex=Math.min(s.activeIndex+spv+Math.max(amount,spv),s.slides.length);var minIndex=Math.max(s.activeIndex-Math.max(spv,amount),0);for(i=s.activeIndex+s.params.slidesPerView;i<maxIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}for(i=minIndex;i<s.activeIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i)}}else{var nextSlide=s.wrapper.children("."+s.params.slideNextClass);if(nextSlide.length>0)s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);if(prevSlide.length>0)s.lazy.loadImageInSlide(prevSlide.index())}}},onTransitionStart:function(){if(s.params.lazyLoading){if(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded){s.lazy.load()}}},onTransitionEnd:function(){if(s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart){s.lazy.load()}}};s.scrollbar={isTouched:false,setDragPosition:function(e){var sb=s.scrollbar;var x=0,y=0;var translate;var pointerPosition=s.isHorizontal()?e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX||e.clientX:e.type==="touchstart"||e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY||e.clientY;var position=pointerPosition-sb.track.offset()[s.isHorizontal()?"left":"top"]-sb.dragSize/2;var positionMin=-s.minTranslate()*sb.moveDivider;var positionMax=-s.maxTranslate()*sb.moveDivider;if(position<positionMin){position=positionMin}else if(position>positionMax){position=positionMax}position=-position/sb.moveDivider;s.updateProgress(position);s.setWrapperTranslate(position,true)},dragStart:function(e){var sb=s.scrollbar;sb.isTouched=true;e.preventDefault();e.stopPropagation();sb.setDragPosition(e);clearTimeout(sb.dragTimeout);sb.track.transition(0);if(s.params.scrollbarHide){sb.track.css("opacity",1)}s.wrapper.transition(100);
sb.drag.transition(100);s.emit("onScrollbarDragStart",s)},dragMove:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false;sb.setDragPosition(e);s.wrapper.transition(0);sb.track.transition(0);sb.drag.transition(0);s.emit("onScrollbarDragMove",s)},dragEnd:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;sb.isTouched=false;if(s.params.scrollbarHide){clearTimeout(sb.dragTimeout);sb.dragTimeout=setTimeout(function(){sb.track.css("opacity",0);sb.track.transition(400)},1e3)}s.emit("onScrollbarDragEnd",s);if(s.params.scrollbarSnapOnRelease){s.slideReset()}},enableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).on(s.touchEvents.start,sb.dragStart);$(target).on(s.touchEvents.move,sb.dragMove);$(target).on(s.touchEvents.end,sb.dragEnd)},disableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).off(s.touchEvents.start,sb.dragStart);$(target).off(s.touchEvents.move,sb.dragMove);$(target).off(s.touchEvents.end,sb.dragEnd)},set:function(){if(!s.params.scrollbar)return;var sb=s.scrollbar;sb.track=$(s.params.scrollbar);if(s.params.uniqueNavElements&&typeof s.params.scrollbar==="string"&&sb.track.length>1&&s.container.find(s.params.scrollbar).length===1){sb.track=s.container.find(s.params.scrollbar)}sb.drag=sb.track.find(".swiper-scrollbar-drag");if(sb.drag.length===0){sb.drag=$('<div class="swiper-scrollbar-drag"></div>');sb.track.append(sb.drag)}sb.drag[0].style.width="";sb.drag[0].style.height="";sb.trackSize=s.isHorizontal()?sb.track[0].offsetWidth:sb.track[0].offsetHeight;sb.divider=s.size/s.virtualSize;sb.moveDivider=sb.divider*(sb.trackSize/s.size);sb.dragSize=sb.trackSize*sb.divider;if(s.isHorizontal()){sb.drag[0].style.width=sb.dragSize+"px"}else{sb.drag[0].style.height=sb.dragSize+"px"}if(sb.divider>=1){sb.track[0].style.display="none"}else{sb.track[0].style.display=""}if(s.params.scrollbarHide){sb.track[0].style.opacity=0}},setTranslate:function(){if(!s.params.scrollbar)return;var diff;var sb=s.scrollbar;var translate=s.translate||0;var newPos;var newSize=sb.dragSize;newPos=(sb.trackSize-sb.dragSize)*s.progress;if(s.rtl&&s.isHorizontal()){newPos=-newPos;if(newPos>0){newSize=sb.dragSize-newPos;newPos=0}else if(-newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize+newPos}}else{if(newPos<0){newSize=sb.dragSize+newPos;newPos=0}else if(newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize-newPos}}if(s.isHorizontal()){if(s.support.transforms3d){sb.drag.transform("translate3d("+newPos+"px, 0, 0)")}else{sb.drag.transform("translateX("+newPos+"px)")}sb.drag[0].style.width=newSize+"px"}else{if(s.support.transforms3d){sb.drag.transform("translate3d(0px, "+newPos+"px, 0)")}else{sb.drag.transform("translateY("+newPos+"px)")}sb.drag[0].style.height=newSize+"px"}if(s.params.scrollbarHide){clearTimeout(sb.timeout);sb.track[0].style.opacity=1;sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0;sb.track.transition(400)},1e3)}},setTransition:function(duration){if(!s.params.scrollbar)return;s.scrollbar.drag.transition(duration)}};s.controller={LinearSpline:function(x,y){this.x=x;this.y=y;this.lastIndex=x.length-1;var i1,i3;var l=this.x.length;this.interpolate=function(x2){if(!x2)return 0;i3=binarySearch(this.x,x2);i1=i3-1;return(x2-this.x[i1])*(this.y[i3]-this.y[i1])/(this.x[i3]-this.x[i1])+this.y[i1]};var binarySearch=function(){var maxIndex,minIndex,guess;return function(array,val){minIndex=-1;maxIndex=array.length;while(maxIndex-minIndex>1)if(array[guess=maxIndex+minIndex>>1]<=val){minIndex=guess}else{maxIndex=guess}return maxIndex}}()},getInterpolateFunction:function(c){if(!s.controller.spline)s.controller.spline=s.params.loop?new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid):new s.controller.LinearSpline(s.snapGrid,c.snapGrid)},setTranslate:function(translate,byController){var controlled=s.params.control;var multiplier,controlledTranslate;function setControlledTranslate(c){translate=c.rtl&&c.params.direction==="horizontal"?-s.translate:s.translate;if(s.params.controlBy==="slide"){s.controller.getInterpolateFunction(c);controlledTranslate=-s.controller.spline.interpolate(-translate)}if(!controlledTranslate||s.params.controlBy==="container"){multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate());controlledTranslate=(translate-s.minTranslate())*multiplier+c.minTranslate()}if(s.params.controlInverse){controlledTranslate=c.maxTranslate()-controlledTranslate}c.updateProgress(controlledTranslate);c.setWrapperTranslate(controlledTranslate,false,s);c.updateActiveIndex()}if(s.isArray(controlled)){for(var i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTranslate(controlled[i])}}}else if(controlled instanceof Swiper&&byController!==controlled){setControlledTranslate(controlled)}},setTransition:function(duration,byController){var controlled=s.params.control;var i;function setControlledTransition(c){c.setWrapperTransition(duration,s);if(duration!==0){c.onTransitionStart();c.wrapper.transitionEnd(function(){if(!controlled)return;if(c.params.loop&&s.params.controlBy==="slide"){c.fixLoop()}c.onTransitionEnd()})}}if(s.isArray(controlled)){for(i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTransition(controlled[i])}}}else if(controlled instanceof Swiper&&byController!==controlled){setControlledTransition(controlled)}}};s.hashnav={init:function(){if(!s.params.hashnav)return;s.hashnav.initialized=true;var hash=document.location.hash.replace("#","");if(!hash)return;var speed=0;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideHash=slide.attr("data-hash");if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,true)}}},setHash:function(){if(!s.hashnav.initialized||!s.params.hashnav)return;document.location.hash=s.slides.eq(s.activeIndex).attr("data-hash")||""}};function handleKeyboard(e){if(e.originalEvent)e=e.originalEvent;var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(s.isHorizontal()&&kc===39||!s.isHorizontal()&&kc===40)){return false}if(!s.params.allowSwipeToPrev&&(s.isHorizontal()&&kc===37||!s.isHorizontal()&&kc===38)){return false}if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return}if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea")){return}if(kc===37||kc===39||kc===38||kc===40){var inView=false;if(s.container.parents(".swiper-slide").length>0&&s.container.parents(".swiper-slide-active").length===0){return}var windowScroll={left:window.pageXOffset,top:window.pageYOffset};var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var swiperOffset=s.container.offset();if(s.rtl)swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft;var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]];for(var i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];if(point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight){inView=true}}if(!inView)return}if(s.isHorizontal()){if(kc===37||kc===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(kc===39&&!s.rtl||kc===37&&s.rtl)s.slideNext();if(kc===37&&!s.rtl||kc===39&&s.rtl)s.slidePrev()}else{if(kc===38||kc===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(kc===40)s.slideNext();if(kc===38)s.slidePrev()}}s.disableKeyboardControl=function(){s.params.keyboardControl=false;$(document).off("keydown",handleKeyboard)};s.enableKeyboardControl=function(){s.params.keyboardControl=true;$(document).on("keydown",handleKeyboard)};s.mousewheel={event:false,lastScrollTime:(new window.Date).getTime()};if(s.params.mousewheelControl){try{new window.WheelEvent("wheel");s.mousewheel.event="wheel"}catch(e){if(window.WheelEvent||s.container[0]&&"wheel"in s.container[0]){s.mousewheel.event="wheel"}}if(!s.mousewheel.event&&window.WheelEvent){}if(!s.mousewheel.event&&document.onmousewheel!==undefined){s.mousewheel.event="mousewheel"}if(!s.mousewheel.event){s.mousewheel.event="DOMMouseScroll"}}function handleMousewheel(e){if(e.originalEvent)e=e.originalEvent;var we=s.mousewheel.event;var delta=0;var rtlFactor=s.rtl?-1:1;if(we==="mousewheel"){if(s.params.mousewheelForceToAxis){if(s.isHorizontal()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))delta=e.wheelDeltaX*rtlFactor;else return}else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))delta=e.wheelDeltaY;else return}}else{delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*rtlFactor:-e.wheelDeltaY}}else if(we==="DOMMouseScroll")delta=-e.detail;else if(we==="wheel"){if(s.params.mousewheelForceToAxis){if(s.isHorizontal()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))delta=-e.deltaX*rtlFactor;else return}else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))delta=-e.deltaY;else return}}else{delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*rtlFactor:-e.deltaY}}if(delta===0)return;if(s.params.mousewheelInvert)delta=-delta;if(!s.params.freeMode){if((new window.Date).getTime()-s.mousewheel.lastScrollTime>60){if(delta<0){if((!s.isEnd||s.params.loop)&&!s.animating)s.slideNext();else if(s.params.mousewheelReleaseOnEdges)return true}else{if((!s.isBeginning||s.params.loop)&&!s.animating)s.slidePrev();else if(s.params.mousewheelReleaseOnEdges)return true}}s.mousewheel.lastScrollTime=(new window.Date).getTime()}else{var position=s.getWrapperTranslate()+delta*s.params.mousewheelSensitivity;var wasBeginning=s.isBeginning,wasEnd=s.isEnd;if(position>=s.minTranslate())position=s.minTranslate();if(position<=s.maxTranslate())position=s.maxTranslate();s.setWrapperTransition(0);s.setWrapperTranslate(position);s.updateProgress();s.updateActiveIndex();if(!wasBeginning&&s.isBeginning||!wasEnd&&s.isEnd){s.updateClasses()}if(s.params.freeModeSticky){clearTimeout(s.mousewheel.timeout);s.mousewheel.timeout=setTimeout(function(){s.slideReset()},300)}else{if(s.params.lazyLoading&&s.lazy){s.lazy.load()}}if(position===0||position===s.maxTranslate())return}if(s.params.autoplay)s.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}s.disableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.off(s.mousewheel.event,handleMousewheel);return true};s.enableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.on(s.mousewheel.event,handleMousewheel);return true};function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;var rtlFactor=s.rtl?-1:1;p=el.attr("data-swiper-parallax")||"0";pX=el.attr("data-swiper-parallax-x");pY=el.attr("data-swiper-parallax-y");if(pX||pY){pX=pX||"0";pY=pY||"0"}else{if(s.isHorizontal()){pX=p;pY="0"}else{pY=p;pX="0"}}if(pX.indexOf("%")>=0){pX=parseInt(pX,10)*progress*rtlFactor+"%"}else{pX=pX*progress*rtlFactor+"px"}if(pY.indexOf("%")>=0){pY=parseInt(pY,10)*progress+"%"}else{pY=pY*progress+"px"}el.transform("translate3d("+pX+", "+pY+",0px)")}s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)});s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){if(typeof duration==="undefined")duration=s.params.speed;s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this);var parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;if(duration===0)parallaxDuration=0;el.transition(parallaxDuration)})}};s._plugins=[];for(var plugin in s.plugins){var p=s.plugins[plugin](s,s.params[plugin]);if(p)s._plugins.push(p)}s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++){if(eventName in s._plugins[i]){s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function normalizeEventName(eventName){if(eventName.indexOf("on")!==0){if(eventName[0]!==eventName[0].toUpperCase()){eventName="on"+eventName[0].toUpperCase()+eventName.substring(1)}else{eventName="on"+eventName}}return eventName}s.emitterEventListeners={};s.emit=function(eventName){if(s.params[eventName]){s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var i;if(s.emitterEventListeners[eventName]){for(i=0;i<s.emitterEventListeners[eventName].length;i++){s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(s.callPlugins)s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};s.on=function(eventName,handler){eventName=normalizeEventName(eventName);if(!s.emitterEventListeners[eventName])s.emitterEventListeners[eventName]=[];s.emitterEventListeners[eventName].push(handler);return s};s.off=function(eventName,handler){var i;eventName=normalizeEventName(eventName);if(typeof handler==="undefined"){s.emitterEventListeners[eventName]=[];return s}if(!s.emitterEventListeners[eventName]||s.emitterEventListeners[eventName].length===0)return;for(i=0;i<s.emitterEventListeners[eventName].length;i++){if(s.emitterEventListeners[eventName][i]===handler)s.emitterEventListeners[eventName].splice(i,1)}return s};s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);s.off(eventName,_handler)};s.on(eventName,_handler);return s};s.a11y={makeFocusable:function($el){$el.attr("tabIndex","0");return $el},addRole:function($el,role){$el.attr("role",role);return $el},addLabel:function($el,label){$el.attr("aria-label",label);return $el},disable:function($el){$el.attr("aria-disabled",true);return $el},enable:function($el){$el.attr("aria-disabled",false);return $el},onEnterKey:function(event){if(event.keyCode!==13)return;if($(event.target).is(s.params.nextButton)){s.onClickNext(event);if(s.isEnd){s.a11y.notify(s.params.lastSlideMessage)}else{s.a11y.notify(s.params.nextSlideMessage)}}else if($(event.target).is(s.params.prevButton)){s.onClickPrev(event);if(s.isBeginning){s.a11y.notify(s.params.firstSlideMessage)}else{s.a11y.notify(s.params.prevSlideMessage)}}if($(event.target).is("."+s.params.bulletClass)){$(event.target)[0].click()}},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;if(notification.length===0)return;notification.html("");notification.html(message)},init:function(){if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.a11y.makeFocusable(s.nextButton);s.a11y.addRole(s.nextButton,"button");s.a11y.addLabel(s.nextButton,s.params.nextSlideMessage)}if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.a11y.makeFocusable(s.prevButton);s.a11y.addRole(s.prevButton,"button");s.a11y.addLabel(s.prevButton,s.params.prevSlideMessage)}$(s.container).append(s.a11y.liveRegion)},initPagination:function(){if(s.params.pagination&&s.params.paginationClickable&&s.bullets&&s.bullets.length){s.bullets.each(function(){var bullet=$(this);s.a11y.makeFocusable(bullet);s.a11y.addRole(bullet,"button");s.a11y.addLabel(bullet,s.params.paginationBulletMessage.replace(/{{index}}/,bullet.index()+1))})}},destroy:function(){if(s.a11y.liveRegion&&s.a11y.liveRegion.length>0)s.a11y.liveRegion.remove()}};s.init=function(){if(s.params.loop)s.createLoop();s.updateContainerSize();s.updateSlidesSize();s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();if(s.params.scrollbarDraggable){s.scrollbar.enableDraggable()}}if(s.params.effect!=="slide"&&s.effects[s.params.effect]){if(!s.params.loop)s.updateProgress();s.effects[s.params.effect].setTranslate()}if(s.params.loop){s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit)}else{s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit);if(s.params.initialSlide===0){if(s.parallax&&s.params.parallax)s.parallax.setTranslate();if(s.lazy&&s.params.lazyLoading){s.lazy.load();s.lazy.initialImageLoaded=true}}}s.attachEvents();if(s.params.observer&&s.support.observer){s.initObservers()}if(s.params.preloadImages&&!s.params.lazyLoading){s.preloadImages()}if(s.params.autoplay){s.startAutoplay()}if(s.params.keyboardControl){if(s.enableKeyboardControl)s.enableKeyboardControl()}if(s.params.mousewheelControl){if(s.enableMousewheelControl)s.enableMousewheelControl()}if(s.params.hashnav){if(s.hashnav)s.hashnav.init()}if(s.params.a11y&&s.a11y)s.a11y.init();s.emit("onInit",s)};s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style");s.wrapper.removeAttr("style");if(s.slides&&s.slides.length){s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(s.paginationContainer&&s.paginationContainer.length){s.paginationContainer.removeClass(s.params.paginationHiddenClass)}if(s.bullets&&s.bullets.length){s.bullets.removeClass(s.params.bulletActiveClass)}if(s.params.prevButton)$(s.params.prevButton).removeClass(s.params.buttonDisabledClass);if(s.params.nextButton)$(s.params.nextButton).removeClass(s.params.buttonDisabledClass);if(s.params.scrollbar&&s.scrollbar){if(s.scrollbar.track&&s.scrollbar.track.length)s.scrollbar.track.removeAttr("style");if(s.scrollbar.drag&&s.scrollbar.drag.length)s.scrollbar.drag.removeAttr("style")}};s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents();s.stopAutoplay();if(s.params.scrollbar&&s.scrollbar){if(s.params.scrollbarDraggable){s.scrollbar.disableDraggable()}}if(s.params.loop){s.destroyLoop()}if(cleanupStyles){s.cleanupStyles()}s.disconnectObservers();if(s.params.keyboardControl){if(s.disableKeyboardControl)s.disableKeyboardControl()}if(s.params.mousewheelControl){if(s.disableMousewheelControl)s.disableMousewheelControl()}if(s.params.a11y&&s.a11y)s.a11y.destroy();s.emit("onDestroy");if(deleteInstance!==false)s=null};s.init();return s};Swiper.prototype={isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent;var android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);var ipad=ua.match(/(iPad).*OS\s([\d_]+)/);var ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);var iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipod,android:android}}(),support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){var div=document.createElement("div").style;var styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var i=0;i<styles.length;i++){if(styles[i]in div)return true}}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var Dom7=function(){var Dom7=function(arr){var _this=this,i=0;for(i=0;i<arr.length;i++){_this[i]=arr[i]}_this.length=arr.length;return this};var $=function(selector,context){var arr=[],i=0;if(selector&&!context){if(selector instanceof Dom7){return selector}}if(selector){if(typeof selector==="string"){var els,tempParent,html=selector.trim();if(html.indexOf("<")>=0&&html.indexOf(">")>=0){var toCreate="div";if(html.indexOf("<li")===0)toCreate="ul";if(html.indexOf("<tr")===0)toCreate="tbody";if(html.indexOf("<td")===0||html.indexOf("<th")===0)toCreate="tr";if(html.indexOf("<tbody")===0)toCreate="table";if(html.indexOf("<option")===0)toCreate="select";tempParent=document.createElement(toCreate);tempParent.innerHTML=selector;for(i=0;i<tempParent.childNodes.length;i++){arr.push(tempParent.childNodes[i])}}else{if(!context&&selector[0]==="#"&&!selector.match(/[ .<>:~]/)){els=[document.getElementById(selector.split("#")[1])]}else{els=(context||document).querySelectorAll(selector)}for(i=0;i<els.length;i++){if(els[i])arr.push(els[i])}}}else if(selector.nodeType||selector===window||selector===document){arr.push(selector)}else if(selector.length>0&&selector[0].nodeType){for(i=0;i<selector.length;i++){arr.push(selector[i])}}}return new Dom7(arr)};Dom7.prototype={addClass:function(className){if(typeof className==="undefined"){return this}var classes=className.split(" ");for(var i=0;i<classes.length;i++){for(var j=0;j<this.length;j++){this[j].classList.add(classes[i])}}return this},removeClass:function(className){var classes=className.split(" ");for(var i=0;i<classes.length;i++){for(var j=0;j<this.length;j++){this[j].classList.remove(classes[i])}}return this},hasClass:function(className){if(!this[0])return false;else return this[0].classList.contains(className)},toggleClass:function(className){var classes=className.split(" ");for(var i=0;i<classes.length;i++){for(var j=0;j<this.length;j++){this[j].classList.toggle(classes[i])}}return this},attr:function(attrs,value){if(arguments.length===1&&typeof attrs==="string"){if(this[0])return this[0].getAttribute(attrs);else return undefined}else{for(var i=0;i<this.length;i++){if(arguments.length===2){this[i].setAttribute(attrs,value)}else{for(var attrName in attrs){this[i][attrName]=attrs[attrName];this[i].setAttribute(attrName,attrs[attrName])}}}return this}},removeAttr:function(attr){for(var i=0;i<this.length;i++){this[i].removeAttribute(attr)}return this},data:function(key,value){if(typeof value==="undefined"){if(this[0]){var dataKey=this[0].getAttribute("data-"+key);if(dataKey)return dataKey;else if(this[0].dom7ElementDataStorage&&key in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[key];else return undefined}else return undefined}else{for(var i=0;i<this.length;i++){var el=this[i];if(!el.dom7ElementDataStorage)el.dom7ElementDataStorage={};el.dom7ElementDataStorage[key]=value}return this}},transform:function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this},transition:function(duration){if(typeof duration!=="string"){duration=duration+"ms"}for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this},on:function(eventName,targetSelector,listener,capture){function handleLiveEvent(e){var target=e.target;if($(target).is(targetSelector))listener.call(target,e);else{var parents=$(target).parents();for(var k=0;k<parents.length;k++){if($(parents[k]).is(targetSelector))listener.call(parents[k],e)}}}var events=eventName.split(" ");var i,j;for(i=0;i<this.length;i++){if(typeof targetSelector==="function"||targetSelector===false){if(typeof targetSelector==="function"){listener=arguments[1];capture=arguments[2]||false}for(j=0;j<events.length;j++){this[i].addEventListener(events[j],listener,capture)}}else{for(j=0;j<events.length;j++){if(!this[i].dom7LiveListeners)this[i].dom7LiveListeners=[];this[i].dom7LiveListeners.push({listener:listener,liveListener:handleLiveEvent});this[i].addEventListener(events[j],handleLiveEvent,capture)}}}return this},off:function(eventName,targetSelector,listener,capture){var events=eventName.split(" ");for(var i=0;i<events.length;i++){for(var j=0;j<this.length;j++){if(typeof targetSelector==="function"||targetSelector===false){if(typeof targetSelector==="function"){listener=arguments[1];capture=arguments[2]||false}this[j].removeEventListener(events[i],listener,capture)}else{if(this[j].dom7LiveListeners){for(var k=0;k<this[j].dom7LiveListeners.length;k++){if(this[j].dom7LiveListeners[k].listener===listener){this[j].removeEventListener(events[i],this[j].dom7LiveListeners[k].liveListener,capture)}}}}}}return this},once:function(eventName,targetSelector,listener,capture){var dom=this;if(typeof targetSelector==="function"){targetSelector=false;listener=arguments[1];capture=arguments[2]}function proxy(e){listener(e);dom.off(eventName,targetSelector,proxy,capture)}dom.on(eventName,targetSelector,proxy,capture)},trigger:function(eventName,eventData){for(var i=0;i<this.length;i++){var evt;try{evt=new window.CustomEvent(eventName,{detail:eventData,bubbles:true,cancelable:true})}catch(e){evt=document.createEvent("Event");evt.initEvent(eventName,true,true);evt.detail=eventData}this[i].dispatchEvent(evt)}return this},transitionEnd:function(callback){var events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i,j,dom=this;function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++){dom.off(events[i],fireCallBack)}}if(callback){for(i=0;i<events.length;i++){dom.on(events[i],fireCallBack)}}return this},width:function(){if(this[0]===window){return window.innerWidth}else{if(this.length>0){return parseFloat(this.css("width"))}else{return null}}},outerWidth:function(includeMargins){if(this.length>0){if(includeMargins)return this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left"));else return this[0].offsetWidth}else return null},height:function(){if(this[0]===window){return window.innerHeight}else{if(this.length>0){return parseFloat(this.css("height"))}else{return null}}},outerHeight:function(includeMargins){if(this.length>0){if(includeMargins)return this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom"));else return this[0].offsetHeight}else return null},offset:function(){if(this.length>0){var el=this[0];var box=el.getBoundingClientRect();var body=document.body;var clientTop=el.clientTop||body.clientTop||0;var clientLeft=el.clientLeft||body.clientLeft||0;var scrollTop=window.pageYOffset||el.scrollTop;var scrollLeft=window.pageXOffset||el.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}}else{return null}},css:function(props,value){var i;if(arguments.length===1){if(typeof props==="string"){if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(props)}else{for(i=0;i<this.length;i++){for(var prop in props){this[i].style[prop]=props[prop]}}return this}}if(arguments.length===2&&typeof props==="string"){for(i=0;i<this.length;i++){this[i].style[props]=value}return this}return this},each:function(callback){for(var i=0;i<this.length;i++){callback.call(this[i],i,this[i])}return this},html:function(html){if(typeof html==="undefined"){return this[0]?this[0].innerHTML:undefined}else{for(var i=0;i<this.length;i++){this[i].innerHTML=html}return this}},text:function(text){if(typeof text==="undefined"){if(this[0]){return this[0].textContent.trim()}else return null}else{for(var i=0;i<this.length;i++){this[i].textContent=text}return this}},is:function(selector){if(!this[0])return false;var compareWith,i;if(typeof selector==="string"){var el=this[0];if(el===document)return selector===document;if(el===window)return selector===window;if(el.matches)return el.matches(selector);else if(el.webkitMatchesSelector)return el.webkitMatchesSelector(selector);else if(el.mozMatchesSelector)return el.mozMatchesSelector(selector);else if(el.msMatchesSelector)return el.msMatchesSelector(selector);else{compareWith=$(selector);for(i=0;i<compareWith.length;i++){if(compareWith[i]===this[0])return true}return false}}else if(selector===document)return this[0]===document;else if(selector===window)return this[0]===window;else{if(selector.nodeType||selector instanceof Dom7){compareWith=selector.nodeType?[selector]:selector;for(i=0;i<compareWith.length;i++){if(compareWith[i]===this[0])return true}return false}return false}},index:function(){if(this[0]){var child=this[0];var i=0;while((child=child.previousSibling)!==null){if(child.nodeType===1)i++}return i}else return undefined},eq:function(index){if(typeof index==="undefined")return this;var length=this.length;var returnIndex;if(index>length-1){return new Dom7([])}if(index<0){returnIndex=length+index;if(returnIndex<0)return new Dom7([]);else return new Dom7([this[returnIndex]])}return new Dom7([this[index]])},append:function(newChild){var i,j;for(i=0;i<this.length;i++){if(typeof newChild==="string"){var tempDiv=document.createElement("div");tempDiv.innerHTML=newChild;while(tempDiv.firstChild){this[i].appendChild(tempDiv.firstChild)}}else if(newChild instanceof Dom7){for(j=0;j<newChild.length;j++){this[i].appendChild(newChild[j])}}else{this[i].appendChild(newChild)}}return this},prepend:function(newChild){var i,j;for(i=0;i<this.length;i++){if(typeof newChild==="string"){var tempDiv=document.createElement("div");tempDiv.innerHTML=newChild;for(j=tempDiv.childNodes.length-1;j>=0;j--){this[i].insertBefore(tempDiv.childNodes[j],this[i].childNodes[0])}}else if(newChild instanceof Dom7){for(j=0;j<newChild.length;j++){this[i].insertBefore(newChild[j],this[i].childNodes[0])}}else{this[i].insertBefore(newChild,this[i].childNodes[0])}}return this},insertBefore:function(selector){var before=$(selector);for(var i=0;i<this.length;i++){if(before.length===1){before[0].parentNode.insertBefore(this[i],before[0])}else if(before.length>1){for(var j=0;j<before.length;j++){before[j].parentNode.insertBefore(this[i].cloneNode(true),before[j])}}}},insertAfter:function(selector){var after=$(selector);for(var i=0;i<this.length;i++){if(after.length===1){after[0].parentNode.insertBefore(this[i],after[0].nextSibling)}else if(after.length>1){for(var j=0;j<after.length;j++){after[j].parentNode.insertBefore(this[i].cloneNode(true),after[j].nextSibling)}}}},next:function(selector){if(this.length>0){if(selector){if(this[0].nextElementSibling&&$(this[0].nextElementSibling).is(selector))return new Dom7([this[0].nextElementSibling]);else return new Dom7([])}else{if(this[0].nextElementSibling)return new Dom7([this[0].nextElementSibling]);else return new Dom7([])}}else return new Dom7([])},nextAll:function(selector){var nextEls=[];var el=this[0];if(!el)return new Dom7([]);while(el.nextElementSibling){var next=el.nextElementSibling;if(selector){if($(next).is(selector))nextEls.push(next)}else nextEls.push(next);el=next}return new Dom7(nextEls)},prev:function(selector){if(this.length>0){if(selector){if(this[0].previousElementSibling&&$(this[0].previousElementSibling).is(selector))return new Dom7([this[0].previousElementSibling]);else return new Dom7([])}else{if(this[0].previousElementSibling)return new Dom7([this[0].previousElementSibling]);else return new Dom7([])}}else return new Dom7([])},prevAll:function(selector){var prevEls=[];var el=this[0];if(!el)return new Dom7([]);while(el.previousElementSibling){var prev=el.previousElementSibling;
if(selector){if($(prev).is(selector))prevEls.push(prev)}else prevEls.push(prev);el=prev}return new Dom7(prevEls)},parent:function(selector){var parents=[];for(var i=0;i<this.length;i++){if(selector){if($(this[i].parentNode).is(selector))parents.push(this[i].parentNode)}else{parents.push(this[i].parentNode)}}return $($.unique(parents))},parents:function(selector){var parents=[];for(var i=0;i<this.length;i++){var parent=this[i].parentNode;while(parent){if(selector){if($(parent).is(selector))parents.push(parent)}else{parents.push(parent)}parent=parent.parentNode}}return $($.unique(parents))},find:function(selector){var foundElements=[];for(var i=0;i<this.length;i++){var found=this[i].querySelectorAll(selector);for(var j=0;j<found.length;j++){foundElements.push(found[j])}}return new Dom7(foundElements)},children:function(selector){var children=[];for(var i=0;i<this.length;i++){var childNodes=this[i].childNodes;for(var j=0;j<childNodes.length;j++){if(!selector){if(childNodes[j].nodeType===1)children.push(childNodes[j])}else{if(childNodes[j].nodeType===1&&$(childNodes[j]).is(selector))children.push(childNodes[j])}}}return new Dom7($.unique(children))},remove:function(){for(var i=0;i<this.length;i++){if(this[i].parentNode)this[i].parentNode.removeChild(this[i])}return this},add:function(){var dom=this;var i,j;for(i=0;i<arguments.length;i++){var toAdd=$(arguments[i]);for(j=0;j<toAdd.length;j++){dom[dom.length]=toAdd[j];dom.length++}}return dom}};$.fn=Dom7.prototype;$.unique=function(arr){var unique=[];for(var i=0;i<arr.length;i++){if(unique.indexOf(arr[i])===-1)unique.push(arr[i])}return unique};return $}();var swiperDomPlugins=["jQuery","Zepto","Dom7"];for(var i=0;i<swiperDomPlugins.length;i++){if(window[swiperDomPlugins[i]]){addLibraryPlugin(window[swiperDomPlugins[i]])}}var domLib;if(typeof Dom7==="undefined"){domLib=window.Dom7||window.Zepto||window.jQuery}else{domLib=Dom7}function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;lib(this).each(function(){var s=new Swiper(this,params);if(!firstInstance)firstInstance=s});return firstInstance}}if(domLib){if(!("transitionEnd"in domLib.fn)){domLib.fn.transitionEnd=function(callback){var events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i,j,dom=this;function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++){dom.off(events[i],fireCallBack)}}if(callback){for(i=0;i<events.length;i++){dom.on(events[i],fireCallBack)}}return this}}if(!("transform"in domLib.fn)){domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this}}if(!("transition"in domLib.fn)){domLib.fn.transition=function(duration){if(typeof duration!=="string"){duration=duration+"ms"}for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this}}}window.Swiper=Swiper})();if(typeof module!=="undefined"){module.exports=window.Swiper}else if(typeof define==="function"&&define.amd){define([],function(){"use strict";return window.Swiper})}
var ExternalImage=Backbone.Model.extend({defaults:{image:null,title:null,url:"",tags:"",idCollection:""},send:function(){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_favourites_add_image_element"),enctype:"multipart/form-data",data:this.toJSON(),success:function(collection){self.onSaveSuccess(collection)}})},setImageAndTrigger:function(image){this.set("image",image)},setTitle:function(title){this.set("title",title)},setUrl:function(url){this.set("url",url)},setTags:function(tags){this.set("tags",tags)},setImage:function(image){},urlIsValid:function(){var url=this.get("url");if(!url){return true}var res=url.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);if(res==null){return false}else{return true}},isValid:function(){var errors=[];if(!this.urlIsValid()){errors.push("url")}if(!this.get("title")){errors.push("title")}if(!this.get("image")){errors.push("image")}return errors.length>0?errors:true},onSaveSuccess:function(collection){this.trigger("saved",collection)}});
var ExternalModel=Backbone.Model.extend({defaults:{route:"tv_favourites_images_from_url",url:""},index_images:0,getImagesFromUrl:function(){var self=this;$.ajax({type:"POST",url:Routing.generate("tv_favourites_images"),data:{url:self.get("url")}}).success(function(imgs){if(imgs.length==0){self.trigger("images_emtpy")}else{self.images=imgs;self.trigger("images_loaded")}})},isValid:function(){var errors=[];if(!this.get("title")){errors.push("title")}return errors.length>0?errors:true},urlIsValid:function(){var url=this.get("url");var res=url.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,16}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);if(res==null){return false}else{return true}},getImage:function(){return this.images[this.index_images]},nextImage:function(){this.index_images=this.images.length-1>this.index_images?this.index_images+1:0;return this.getImage()},previousImage:function(){this.index_images=this.index_images>0?this.index_images-1:this.images.length-1;return this.getImage()},setUrl:function(url){if(url&&!url.match(/^http([s]?):\/\/.*/)){url="http://"+url}this.set("url",url)},send:function(){var self=this;this.set("image",this.images[this.index_images]);$.ajax({type:"POST",url:Routing.generate("tv_favourites_add_external_element"),data:this.toJSON(),success:function(collection){self.onSaveSuccess(collection)}})},checkIfHasSites:function(){var self=this;$.ajax({type:"GET",url:Routing.generate("tv_favourites_images_from_url"),enctype:"multipart/form-data",data:{url:self.get("url")},success:function(response){if(response.length==0){self.trigger("url_empty")}else{self.trigger("url_checked",response)}}})},setTitle:function(title){this.set("title",title)},setTags:function(tags){this.set("tags",tags)},onSaveSuccess:function(collection){this.trigger("saved",collection)}});
var ManagerExternalView=Backbone.View.extend({tagName:"div",className:"tab-form active",events:{"click .next-step":"_nextStep","click .bt-next":"_nextImage","click .bt-prev":"_previousImage","change .title":"_setTitle","change .tags":"_setTags","click .save":"_send","click .skip":"_skip","keyup .url-input .url":"_nextKeyStep","click .cancel":"cancel"},template:Handlebars.templates.add_external_link,initialize:function(){this.model.on("images_loaded",this._loadImages,this);this.model.on("images_emtpy",this._triggerError,this);this.model.on("saved",this.triggerSaved,this);this.model.on("url_checked",this.showInternalElements,this);this.model.on("url_empty",this._triggerError,this)},_triggerError:function(){this.trigger("error",this.model.get("url"))},_skip:function(){this.trigger("skip")},showInternalElements:function(models){this.trigger("show_internal_results",models,this.model.get("url"))},triggerSaved:function(collection){this.trigger("saved",collection)},_nextKeyStep:function(ev){if(ev.keyCode==ENTER_KEY){this._nextStep()}},_nextStep:function(){this.model.setUrl(this.$(".url").val());if(this.model.urlIsValid()){this.model.checkIfHasSites()}else{this.$(".url-input").addClass("has-error");this.$(".url-message").show()}},_goToSelect:function(){this.model.getImagesFromUrl();this.$(".default").hide();this.$(".selectImage").show()},cancel:function(){this.trigger("cancel")},_nextImage:function(){this.$(".photo img").attr("src",this.model.nextImage())},_previousImage:function(){this.$(".photo img").attr("src",this.model.previousImage())},_setTitle:function(ev){var title=$(ev.currentTarget).val();this.model.setTitle(title)},_setTags:function(ev){var tags=$(ev.currentTarget).val();this.model.setTags(tags)},_loadImages:function(images,url){this.$(".box-loading").hide();this.$(".photo").show();this.$(".photo img").attr("src",this.model.getImage())},render:function(){this.$el.html(this.template({}));return this},_send:function(){this.$(".form-group").removeClass("has-error");this.$(".alert").hide();var is_valid=this.model.isValid();if(is_valid===true){this.model.send()}else{for(var i=0,len=is_valid.length;i<len;i++){this.showError(is_valid[i])}}},showError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},hideError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)}});
var UploadImageViewManager=Backbone.View.extend({tagName:"div",className:"tab-form active",bar:"",percent:"",status:"",events:{"click .getImages":"_send","click .save":"_send","change .title":"_setTitle","change .url_text":"_setUrl","change .image":"_sendImage","change .tags":"_setTags","click .cancel":"cancel","click .skip":"skip"},template:Handlebars.templates.add_image,initialize:function(){if(typeof $.fn.ajaxForm==="undefined"){alert("application need ajaxForm library")}this.model.on("saved",this.triggerSaved,this);this.model.on("error_in_title",this.showTitleError,this)},triggerSaved:function(collection){this.trigger("saved",collection)},cancel:function(){this.trigger("cancel")},skip:function(){this.trigger("skip")},_setTitle:function(ev){var title=$(ev.currentTarget).val();this.model.setTitle(title)},_setUrl:function(ev){var url=$(ev.currentTarget).val();this.model.setUrl(url)},_setTags:function(ev){var tags=$(ev.currentTarget).val();this.model.setTags(tags)},_send:function(){this.$(".form-group").removeClass("has-error");this.$(".alert").hide();var is_valid=this.model.isValid();if(is_valid===true){this.model.send()}else{for(var i=0,len=is_valid.length;i<len;i++){this.showError(is_valid[i])}}},showError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},hideError:function(label){this.$("."+label+"-group").addClass("has-error");this.$("."+label+"-error-msg").show()},addImageError:function(error){this.$(".add-photo").prepend(error)},addExternalError:function(error){this.$(".content").prepend(error)},removeImageError:function(){this.$(".image-error").hide();this.$(".image-error-size-msg").hide()},_sendImage:function(ev){this.$("#uploadImageForm").submit();ev.preventDefault();ev.stopPropagation()},initializeUploadImage:function(){var self=this;if(this.$("#uploadImageForm").length>0){this.$("#uploadImageForm").ajaxForm({beforeSend:function(){self.$(".box-loading").addClass("open");self.$(".info").hide()},uploadProgress:function(event,position,total,percentComplete){var percentVal=percentComplete+"%"},error:function(){self.$(".box-loading").removeClass("open");self.showSizeError();self.$(".info").show()},complete:function(xhr){self.$(".box-loading").removeClass("open");self.removeImageError();self.status.html(xhr.responseText);self.imageCompleted(xhr.responseText)}})}},showSizeError:function(){this.$(".image-error-size-msg").show()},imageCompleted:function(img){var imgParsed=JSON.parse(img);this.model.setImageAndTrigger(imgParsed);if(app.isVideo(imgParsed)){var element='<video class="video-item js-video-hover" height="417" width="299" autoplay loop><source src="http://assets.awwwards.net/awards/'+imgParsed+'" type="video/mp4"></video>'}else{var element='<img src="http://assets.awwwards.net/awards/'+imgParsed+'">'}this.$(".photo").html(element);this.$(".photo").show()},render:function(datas){datas.upload_route=Routing.generate("tv_favourites_upload_image");this.bar=this.$el.find(".bar");this.percent=this.$el.find(".percent");this.status=this.$el.find("#status");this.$el.html(this.template({datas:datas,url:this.model.get("url")}));this.initializeUploadImage();return this},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)}});
var ManagerInternalView=Backbone.View.extend({tagName:"div",className:"box-content-default size-small",url:null,events:{"click .bt-next":"_nextStep","click .add-collection":"_addCollection"},template:Handlebars.templates.add_internal,initialize:function(options){this.id_collection=options.id_collection;this.models=options.models;this.url=options.url},_addCollection:function(ev){var collectable=null;var slug=$(ev.currentTarget).data("slug");for(var i=this.models.length-1;i>=0;i--){if(this.models[i].slug==slug){collectable=this.models[i]}}this.saveInCollection(collectable)},getUrlToSaveInCollection:function(model){if(model.type=="submission"){return Routing.generate("tv_favourites_create_submission_collectable",{slug:model.slug,idCollection:this.id_collection})}else if(model.type=="external_element"){return Routing.generate("tv_favourites_add_external_to_collection",{id:model.id,idCollection:this.id_collection})}},saveInCollection:function(model){var self=this;$.ajax({type:"POST",url:self.getUrlToSaveInCollection(model),data:{},success:function(){self.triggerSaved(model)}})},_nextStep:function(){this.trigger("go_to_next",this.url)},triggerSaved:function(collection){this.trigger("saved",collection)},cancel:function(){this.trigger("cancel")},render:function(){_.each(this.models,function(model){model.image=app.getImageInfo(model.image,null)});this.$el.html(this.template({submissions:this.models,count:this.models.length}));return this},destroy:function(){this.undelegateEvents();this.$el.removeData().unbind();this.remove();Backbone.View.prototype.remove.call(this)}});
var BoxChoicesExternal=Backbone.View.extend({tagName:"div",className:"box-lightbox",views:{},activeView:null,lightBoxCollection:null,events:{"click .js-lightbox-close":"close","click ":"_closeFromOutside","click .action-box-file":"_openUploadImageTheme"},template:Handlebars.templates.select_option,initialize:function(options){this.options=$.extend({},this.options,options);$("body").append(this.$el)},_closeFromOutside:function(e){if($(e.target).hasClass("box-lightbox")){this.close()}},appendAndClose:function(collection){this.close();this.trigger("saved",collection)},open:function(){this.$el.html(this.template());this.$el.addClass("open");this.activeView=new ManagerExternalView({model:new ExternalModel({id_collection:this.options.id_collection})});this._open()},close:function(){this.$el.removeClass("open")},_destroyActiveView:function(){if(!this.activeView){return}this.activeView.destroy();this.activeView=null},_openInternalTheme:function(models,url){this.url=url;this.activeView=new ManagerInternalView({models:models,id_collection:this.options.id_collection,url:url});this.activeView.on("go_to_next",this.goToExternal,this);this.activeView.on("saved",this.appendAndClose,this);this.$el.html(this.activeView.render().el)},goToExternal:function(){this.open();this._openUploadImageTheme()},_openUploadImageTheme:function(){this.activeView=new UploadImageViewManager({model:new ExternalImage({id_collection:this.options.id_collection})});this.activeView.model.setUrl(this.url);this._open()},_errorImagesNotFound:function(url){this.url=url;this.goToExternal();var error='<div class="row fs-16"><p><strong>'+url+"</strong> is not on Awwwards yet! Complete the details and save!</p></div>";this.activeView.addExternalError(error)},_open:function(){this.$("#tab-init").hide();this.activeView.on("saved",this.appendAndClose,this);this.activeView.on("cancel",this.open,this);this.activeView.on("skip",this._openUploadImageTheme,this);this.activeView.on("error",this._errorImagesNotFound,this);this.activeView.on("show_internal_results",this._openInternalTheme,this);this.$(".box-elements").html(this.activeView.render({}).el)}});
var app=app||{};(function(){"use strict";app.CollectionModel=Backbone.Model.extend({defaults:{slug:"",title:"",user:{url:"",username:"",displayName:""},followers:[],following:false,thumbnail:"",image:"",images:[]},getUrl:function(){return Routing.generate("tv_user_collection",{username:this.get("user").username,slug:this.get("slug")})},followOrUnfollow:function(){var self=this;var isFollowing=this.get("following");var href=isFollowing?"tv_collection_unfollow":"tv_collection_follow";self.set("following",!isFollowing);var url=Routing.generate(href,{id:this.get("id")});$.ajax({type:"POST",url:url,success:function(response){if(!response){self.set("following",isFollowing)}}})},getUsersCollected:function(){var users=[];var collected=this.get("users_collected");if(collected){for(var user in collected){var user=collected[user];if(typeof user!="object"){continue}users.push({display_name:user.displayName,homepage:Routing.generate("tv_user_homepage",{username:user.username}),url:user.url,username:user.username,image:user.image})}}return users},checkIfUserLoggedIsFollower:function(){if(!app.user.isLoggedIn()){return}var followers=this.get("followers");for(var i=0;i<followers.length;i++){if(followers[i]==app.user.id){this.set("following",true)}}},getStaticImages:function(){var images=this.get("images").slice(1,4);return _.map(images,function(image){return app.isAnimated(image)?app.getStaticVersion(image):image})},_getCover:function(){if(this.get("cover")){return this.get("cover")}if(this.get("images").length===0){return null}return this.get("images")[0]}})})();
var app=app||{};(function(){"use strict";app.CollectionView=app.SubmissionView.extend({lazy_load:true,additionalEvents:{"click .bt-check":"_followOrUnfollow","click .bt-edit-collection":"_editCollection"},attributes:function(){if(app.is_its_own_profile){return{"data-sort-id":this.model.get("id")}}},_parseToTemplate:function(){var user=this.model.get("user");var cover=this.options.isHome?this.model.get("cover"):this.model._getCover();cover=this._getImageDatas(cover,app.asset("bundles/tvweb/images/nophoto-element.svg"));this._checkIfUserLoggedIsFollower();var params={name:this.model.get("name"),users_collected:this.model.getUsersCollected(),url:Routing.generate("tv_user_collection",{username:user.username,slug:this.model.get("slug")}),title_inspire:this.model.get("title_inspire"),image:cover,cover:cover,can_be_edited:app.user.isSameUserLoggedInByUsername(user.username),images:this.model.getStaticImages(),following:this.model.get("following"),collected_count:this.model.get("followers_count"),lazy_load:this.lazy_load,user:{display_name:user.display_name,homepage:Routing.generate("tv_user_homepage",{username:user.username}),url:user.url,image:user.photo},type:"collection"};return params},_changeClassViewCookie:function(){},_followOrUnfollow:function(el){if(!app.user.isLoggedIn()){app.awwwards.openLogin();return}el.preventDefault();app.buttons.load($(el.currentTarget));this.model.followOrUnfollow();$(window).lazyLoadXT()},_editCollection:function(el){el.preventDefault();app.AddToCollectionContainerView.editCollection(this.model.toJSON())},_checkIfUserLoggedIsFollower:function(){return this.model.checkIfUserLoggedIsFollower()},_loadEvents:function(){this.lazy_load=false}})})();
var app=app||{};(function(){"use strict";app.CollectionsView=app.SubmissionsView.extend({_createChildView:function(parameters){if(!parameters.template_name){parameters.template_name="collection"}return new app.CollectionView(parameters)},_createCollection:function(){this.collection=new app.CollectionCollection},updateNewItems:function(elements){this.collection.updateFollows(elements)}})})();
var app=app||{};(function(){app.CollectionCollection=Backbone.Collection.extend({model:app.CollectionModel,updateFollows:function(elements){var self=this;var ids=_.pluck(elements,"id");var user_ids=this._getFollowersIds(elements);if(user_ids.length==0){return}$.ajax({type:"POST",data:{user_ids:user_ids},url:Routing.generate("tv_collection_check_followers"),success:function(response){self.fillFollowers(response,ids)},error:function(response){}})},fillFollowers:function(users,ids){_.each(ids,function(id){var followers=this.get(id).get("followers");var hidrated_followers=[];for(var i=0;i<followers.length;i++){hidrated_followers.push(users[followers[i]])}if(hidrated_followers.length==0){return}this.get(id).set("users_collected_hidrated",hidrated_followers)},this)},_getFollowersIds:function(elements){var user_ids=[];for(var i=0;i<elements.length&&i<4;i++){var followers=elements[i].followers;user_ids.push.apply(user_ids,followers)}return $.unique(user_ids)}})})();
var app=app||{};(function(){app.login=Backbone.View.extend({className:"box-content-login",pages:{},loading:null,events:{"click .js-tab-login":"_showTabLogin","click .js-register":"_showTabRegister","click .js-forgot-password":"_showForgotPassword"},initialize:function(){this.loading=$(Handlebars.templates.loader())},_showTabLogin:function(ev){ev.preventDefault();var idTab=$(ev.currentTarget).data("tab");this._changeToTab(idTab)},_changeToTab:function(idTab){$(".js-tab-form").hide();$("#"+idTab).fadeIn()},_showLoading:function(){this.$(".js-tab-form").hide();this.loading.show();this.$el.append(this.loading)},_showTabRegister:function(ev){ev.preventDefault();if(this.$("#tab-register").length){this._changeToTab("tab-register");return}this._showLoading();var register=new app.register;this._addEventsToView(register);this.pages.register=register;this.pages.register.render()},_showForgotPassword:function(ev){ev.preventDefault();if(this.$("#tab-forgot").length){this._changeToTab("tab-forgot");return}this._showLoading();var forgot_password=new app.forgot_password;this._addEventsToView(forgot_password);this.pages.forgot_password=forgot_password;this.pages.forgot_password.render()},_addEventsToView:function(view){view.on("loaded",this._renderView,this);view.on("show_loading",this._showLoadingView,this);view.on("hide_loading",this._hideLoadingView,this)},_showLoadingView:function(view){view.$el.hide();this.loading.show()},_hideLoadingView:function(view){view.$el.show();this.loading.fadeOut()},_renderView:function(view){this.$(".box-login").append(view.$el);this.loading.fadeOut()},render:function(){this.$el.html(Handlebars.templates.login({from_url:window.location.href}));return this}})})();
var app=app||{};(function(){app.register=Backbone.View.extend({events:{"submit .register_form":"submit"},submit:function(ev){ev.preventDefault();this._showLoading();var form=$(ev.currentTarget);var self=this;$.ajax({type:"POST",url:form.attr("action"),data:form.serialize(),dataType:"json",success:function(response){var successMsg=Handlebars.templates.forgot_success();self.$el.html(successMsg)},error:function(response){var formErrors=response.responseJSON.form.children;var prefixId=form.prop("name");self._showChildrenErrors(prefixId,"",formErrors)},complete:function(){self._hideLoading()}})},_showChildrenErrors:function(prefixId,name,children){var prefixId=name!=""?prefixId+"_"+name:prefixId;for(var prop in children){if(children[prop].hasOwnProperty("errors")){this._showError(prefixId,prop,children[prop].errors)}else if(children[prop].hasOwnProperty("children")){this._showChildrenErrors(prefixId,prop,children[prop].children)}}},_showError:function(prefixId,name,errors){var id=prefixId+"_"+name;var field=$("#"+id);var formGroup=field.closest(".form-group");formGroup.addClass("has-error");formGroup.find(".msg").addClass("msg-error").text(errors)},_showLoading:function(){this.trigger("show_loading",this)},_hideLoading:function(){this.trigger("hide_loading",this)},render:function(){var self=this;$.ajax({type:"GET",url:Routing.generate("tv_register_ajax"),success:function(response){self.$el.html(response);self.trigger("loaded",self)}})}})})();
var app=app||{};(function(){app.forgot_password=Backbone.View.extend({events:{"submit .forgot_password_form":"submit"},submit:function(ev){ev.preventDefault();this._showLoading();var form=$(ev.currentTarget);var self=this;$.ajax({type:"POST",url:form.attr("action"),data:form.serialize(),dataType:"json",success:function(response){var successMsg=Handlebars.templates.forgot_success();self.$el.html(successMsg)},error:function(response){var formGroup=form.find(".form-group");formGroup.addClass("has-error");form.find(".msg").addClass("msg-error").text(response.responseJSON.errors)},complete:function(){self._hideLoading()}})},_showLoading:function(){this.trigger("show_loading",this)},_hideLoading:function(){this.trigger("hide_loading",this)},render:function(){var self=this;$.ajax({type:"GET",url:Routing.generate("tv_forgot_password"),success:function(response){self.$el.html(response);self.trigger("loaded",self)}})}})})();